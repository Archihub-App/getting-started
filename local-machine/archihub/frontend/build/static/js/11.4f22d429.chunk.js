(this.webpackJsonpsim=this.webpackJsonpsim||[]).push([[11],{1044:function(e,t,n){"use strict";var a=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(67)),o=n(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},1129:function(e,t,n){"use strict";n.r(t),n.d(t,"BloqueContenido",(function(){return L}));var a=n(35),r=n(2),o=n.n(r),c=n(36),i=n(972),l=n(50),s=n(139),u=n(941),d=n.n(u),f=n(942),m=n.n(f),h=n(967),p=n.n(h),b=n(959),g=n.n(b),v=n(947),E=n.n(v),x=n(937),j=n(938),w=n(1015),y=n(1016),k=n(920),O=n(492),C=n(848),T=n(1116),B=n(926),S=n(843),z=n(978),H=n.n(z),A=n(977),V=n.n(A),M=n(61),q=n(969),P=n(138),R=n.n(P),N=n(1044),D=n.n(N),F=Object(S.a)((function(e){return{bloque:{padding:"10px",backgroundColor:"rgba(255,255,255,.9)",margin:5,width:"100%",height:"100%",overflow:"auto",position:"relative",borderRadius:10,border:"3px solid #fff","&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:"#56749a",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:"#56749a"},"&::-webkit-scrollbar-thumb:active":{background:"#56749a"},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},tituloBloque:{top:0,fontSize:15,fontWeight:"bold",padding:"10px 15px",position:"sticky",zIndex:10,width:"100%",left:0,background:"#e6e6e6",borderTopLeftRadius:10,borderTopRightRadius:10,color:"#56749a",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},breadcrumbs:{padding:"5px 15px",background:"#56749a",position:"sticky",color:"#fff",borderBottomLeftRadius:10,borderBottomRightRadius:10,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},linkBreadcrumb:{color:"#fff",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:200,display:"inline-block","&:hover":{color:"#fff"}},selectedBread:{color:"#fff !important",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:150,backgroundColor:"rgba(255,255,255,.2)",display:"inline-block",padding:"0 5px",borderRadius:2},columnas:{display:"flex",height:"calc(100vh - 150px)"},card:{marginTop:5,marginBottom:5,"& .MuiCardHeader-root":{padding:"5px 10px",borderBottom:"1px solid #ececec","& .MuiCardHeader-content":{"& .MuiTypography-root":{fontSize:"14px",fontWeight:"bold",fontFamily:"Montserrat",color:"rgb(86, 116, 154)"}}}},btn_color:{color:"#869bb7",padding:5,width:30,height:30,margin:"0 2px",border:"1px solid #c6d0dd","&:hover":{color:"#fff",backgroundColor:"#56749a"},"& .MuiSvgIcon-root":{width:14}},cardTitle:{fontSize:"14px",fontWeight:"500 !important",color:"rgb(86, 116, 154)"}}})),_=function(e){var t=F(),n=Object(r.useState)(!1),c=Object(a.a)(n,2),i=c[0],l=c[1];return o.a.createElement(w.a,{className:t.card},o.a.createElement(y.a,{title:e.title,classes:{title:t.cardTitle},action:o.a.createElement(k.a,{disableGutters:!0,variant:"dense"},o.a.createElement(M.Link,{to:"/forms/".concat(e.slug)},o.a.createElement(O.a,{className:t.btn_color,size:"small","aria-label":"settings"},o.a.createElement(d.a,null))),o.a.createElement(O.a,{className:t.btn_color,size:"small","aria-label":"duplicate",onClick:function(){e.onDuplicate(e.slug)}},o.a.createElement(D.a,null)),o.a.createElement(O.a,{className:t.btn_color,size:"small","aria-label":"delete",onClick:function(){e.onDeleted(e.slug)}},o.a.createElement(q.a,null)),o.a.createElement(O.a,{size:"small","aria-label":"settings",onClick:function(){return l(!i)}},i?o.a.createElement(V.a,null):o.a.createElement(H.a,null)))}),o.a.createElement(C.a,{in:i,timeout:"auto",unmountOnExit:!0},o.a.createElement(T.a,null,e.description)))},L=function(e){var t=F();return o.a.createElement(B.a,{className:t.bloque,style:e.style},e.title&&o.a.createElement(B.a,{className:t.tituloBloque},e.title),e.topBar&&o.a.createElement(o.a.Fragment,null,e.topBar),e.children)};t.default=Object(l.b)((function(e){return{user:e.auth.user}}),s.a)((function(e){Object(c.m)().id;var t=F(),n=Object(r.useState)(null),l=Object(a.a)(n,2),s=(l[0],l[1],Object(r.useState)([])),u=Object(a.a)(s,2),d=u[0],f=u[1];Object(r.useEffect)((function(){i.d().then((function(e){f(e)})).catch((function(e){console.log(e)}))}),[]);var h=function(e){R.a.fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede revertir",icon:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&i.b(e).then((function(e){i.d().then((function(e){f(e)})).catch((function(e){console.log(e)}))})).catch((function(e){e.json().then((function(e){R.a.fire({title:"Error",text:e.msg,icon:"error"})}))}))}))},b=function(e){R.a.fire({title:"Duplicar estandar",icon:"question",text:"\xbfDeseas crear un duplicado de este estandar de metadatos?",confirmButtonText:"Duplicar",showCancelButton:!0}).then((function(t){t.isConfirmed&&i.c(e).then((function(e){i.d().then((function(e){f(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}))},v=function(t){e.history.push("".concat(t))};return o.a.createElement(j.a,null,o.a.createElement(x.a,{userRoles:e.user.roles,list:function(){var t=[];return(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&t.push({name:"Agregar est\xe1ndar de metadatos",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,null),o.a.createElement(m.a,null)),action:"new",callback:function(){return v("/forms/new")}}),(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&t.push({name:"Tipos de contenido",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null)),callback:function(){return v("/types")}}),(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&t.push({name:"Listados de valores",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,null)),callback:function(){return v("/lists")}}),t}()}),o.a.createElement(B.a,{className:t.columnas},o.a.createElement(L,{style:{width:"70%",maxWidth:500},title:"Est\xe1ndares de metadatos"},d.map((function(e,t){return o.a.createElement(_,{key:t,title:e.name,description:e.description,slug:e.slug,onDeleted:h,onDuplicate:b})})))))}))},1377:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(2),o=n.n(r),c=n(50),i=n(139),l=n(972),s=n(843),u=n(926),d=n(925),f=n(938),m=n(937),h=n(943),p=n.n(h),b=n(940),g=n(1129),v=n(945),E=n(947),x=n.n(E),j=n(138),w=n.n(j),y=n(939),k=n(988),O=n.n(k),C=n(976),T=n.n(C),B=Object(s.a)((function(e){return{columna:{display:"flex",height:"calc(100vh - 150px)"},error:{color:"white",backgroundColor:"#f97b7b",padding:10,borderRadius:5,marginBottom:10,"&:first-child":{marginTop:10}}}}));t.default=Object(c.b)((function(e){return{user:e.auth.user}}),i.a)((function(e){var t=B(),n=Object(r.useState)([]),c=Object(a.a)(n,2),i=(c[0],c[1],Object(r.useState)(!1)),s=Object(a.a)(i,2),h=s[0],E=s[1],j=Object(r.useState)(null),k=Object(a.a)(j,2),C=k[0],S=k[1],z=Object(r.useState)([]),H=Object(a.a)(z,2),A=H[0],V=H[1];Object(r.useEffect)((function(){b.b().then((function(e){V(e.options)})).catch((function(e){e.json().then((function(e){w.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){}))}))})),e.match.params.slug?l.e(e.match.params.slug).then((function(e){e&&(e.msg?w.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){M("/forms")})):(E(!0),e.fields.shift(),S(e)))})).catch((function(e){e.json().then((function(e){w.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){M("/forms")}))}))})):(E(!1),S({name:"",description:"",slug:"",icon:"etiqueta",hierarchical:!1,parentType:[],fields:[]}))}),[]);var M=function(t){e.history.push("".concat(t))};return o.a.createElement(f.a,null,o.a.createElement(m.a,{userRoles:e.user.roles,list:function(){var t=[];return(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&t.push({name:"Volver",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,null),o.a.createElement(p.a,null)),callback:function(){return M("/forms")}}),(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&t.push({name:"Exportar est\xe1ndares de metadatos",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,null),o.a.createElement(O.a,null)),callback:function(){w.a.fire({title:"\xbfEst\xe1s seguro?",text:"Se generar\xe1 un archivo con los campos del est\xe1ndar de metadatos seleccionado",icon:"warning",showCancelButton:!0}).then((function(t){t.isConfirmed&&b.p("inventoryMaker",JSON.stringify({parent:e.match.params.slug}),"bulk-forms").then((function(e){w.a.fire({title:"Procesamiento iniciado",text:e.msg,icon:"success",confirmButtonText:"Aceptar"})})).catch((function(e){e.json().then((function(e){w.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))}))}}),t}()}),o.a.createElement(u.a,{className:t.columna},o.a.createElement(g.BloqueContenido,{style:{width:"100%",maxWidth:700},title:"Agregar est\xe1ndar de metadatos"},C&&o.a.createElement(v.c,{key:0,initialValues:C,onSubmit:function(t,n){var a=n.setSubmitting;h?h&&w.a.fire({title:"\xbfEst\xe1s seguro?",text:"\xbfEst\xe1s seguro que desea actualizar este est\xe1ndar de metadatos?",icon:"question",showCancelButton:!0,confirmButtonText:"S\xed, actualizar",cancelButtonText:"Cancelar"}).then((function(n){n.isConfirmed&&l.f(e.match.params.slug,JSON.stringify(t,null,2)).then((function(e){w.a.fire({title:"\xc9xito",text:e.msg,icon:"success",confirmButtonText:"Aceptar"}).then((function(){M("/forms")}))})).catch((function(e){e.json().then((function(e){w.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))})):w.a.fire({title:"\xbfEst\xe1s seguro?",text:"\xbfEst\xe1s seguro de agregar este est\xe1ndar de metadatos?",icon:"question",showCancelButton:!0,confirmButtonText:"S\xed, agregar",cancelButtonText:"Cancelar"}).then((function(e){"sin-padre"===t.parentType&&(t.parentType=""),l.a(JSON.stringify(t,null,2)).then((function(e){w.a.fire({title:"\xc9xito",text:e.msg,icon:"success",confirmButtonText:"Aceptar"}).then((function(){M("/forms")}))})).catch((function(e){e.json().then((function(e){console.log(e),w.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))})),a(!1)},validate:function(e){var t={};return e.name||(t.name="El nombre es requerido"),e.description||(t.description="La descripci\xf3n es requerida"),t}},(function(e){var t=e.values,n=e.errors,a=(e.touched,e.handleChange),r=e.handleBlur,c=e.handleSubmit,i=e.isSubmitting,l=e.setFieldValue;return o.a.createElement("form",{onSubmit:c},o.a.createElement(u.a,{style:{display:"flex",flexDirection:"column"}},o.a.createElement(y.o,{name:"Nombre",id:"name",handleChange:a,handleBlur:r,value:t.name,errors:n.name,required:!0}),o.a.createElement(y.n,{name:"Descripci\xf3n",id:"description",handleChange:a,handleBlur:r,value:t.description,errors:n.description,required:!0}),o.a.createElement(y.o,{name:"Slug",id:"slug",handleChange:a,handleBlur:r,value:t.slug,disabled:h}),o.a.createElement(v.b,{name:"fields"},(function(e){var n=e.insert,a=e.remove,r=e.push,c=e.move;return o.a.createElement(y.c,{name:"Metadatos",id:"metadata",insert:n,remove:a,push:r,move:c,value:t.fields,accessRights:A,setFieldValue:l})})),!h&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10}},o.a.createElement(d.a,{type:"button",variant:"outlined",onClick:function(){return M("/forms")}},"Cancelar"),o.a.createElement(d.a,{type:"submit",variant:"outlined",disabled:i},"Guardar"))),h&&o.a.createElement(u.a,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10}},o.a.createElement(d.a,{type:"button",variant:"outlined",onClick:function(){return M("/forms")}},"Cancelar"),o.a.createElement(d.a,{type:"submit",variant:"outlined",disabled:i},"Actualizar"))))})))))}))},947:function(e,t,n){"use strict";var a=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(67)),o=n(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"}),"DataObject")},967:function(e,t,n){"use strict";var a=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(67)),o=n(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7zM3 3h2v2H3zm2 18H3v-2h2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2zm4 2h-2v-2h2zM19 5V3h2v2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63zm-3.04-1.26h2.61L12 8.91z"}),"FormatShapes")},969:function(e,t,n){"use strict";var a=n(2),r=n(211);t.a=Object(r.a)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},972:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(46),r=n(204);function o(){var e={method:"GET",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(a.e+"/forms",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),o="/forms/"+e,c={method:"POST",headers:n,mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch(a.e+o,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e,t){var n="/forms/"+e,o={method:"PUT",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(a.e+n,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(a.e+"/forms",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/forms/"+e,n={method:"DELETE",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(a.e+t,n).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function u(e){var t="/forms/duplicate/"+e,n={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(a.e+t,n).then((function(e){if(201!==e.status)return Promise.reject(e)}))}}}]);
//# sourceMappingURL=11.4f22d429.chunk.js.map