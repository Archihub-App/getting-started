"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[5593],{72378:function(e,t,r){r.d(t,{EL:function(){return c},WB:function(){return s}});var n=r(89379),i=(r(65043),r(26240)),o=r(81551),a=r(70579),c=function(e){var t=(0,i.A)(),r=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,a.jsx)("div",{id:e.id,style:(0,n.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:r.bloque,onScroll:e.onScroll,children:e.children})},s=function(e){var t=(0,i.A)(),r=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,a.jsx)("div",{id:e.id,style:(0,n.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:r.bloque,children:e.children})};t.Ay=function(e){var t=e.children,r=e.style;e.onScroll;return(0,a.jsx)("section",{style:(0,n.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},r),children:t})}},93440:function(e,t,r){r(65043);var n=r(70579);t.A=function(e){var t=e.className;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(t," ").concat(e.labelPos?e.labelPos:""),onClick:function(){return e.onClick(e.title)},children:[(0,n.jsx)("div",{className:"icon",children:e.children}),(0,n.jsx)("div",{className:"tooltipUi",children:e.title})]},e.index)})}},65454:function(e,t,r){r.d(t,{I:function(){return i}});r(65043);var n=r(81551),i=(r(70579),r(93440),(0,n.A)((function(e){return{root:{position:"fixed",width:"54px",background:"rgba(42, 80, 130, 0.8)",borderRadius:"10px",top:"50%",transform:"translateY(-50%)",left:"10px",zIndex:15},item:{cursor:"pointer",position:"relative",margin:2,"& .tooltipUi":{position:"absolute",top:"50%",transform:"translate(calc(50px + 5px), -50%)",background:"rgba(20, 20, 20, 0.9)",padding:"1em",color:"white",borderRadius:"10px",opacity:0,zIndex:-1,visibility:"hidden",transition:"all 0.25s ease"},"& .icon":{width:"50px",height:"50px",position:"relative",borderRadius:"10px",background:"rgba(42, 80, 130, 1)",display:"flex",justifyContent:"center",alignItems:"center","&::before":{content:'""',position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",transform:"scale(0.8)",opacity:0,transition:"all 0.25s ease"},"& svg":{position:"relative",width:"20px","& path, & circle, & rect":{fill:"rgba(255, 255, 255, 0.8)"}}},"&.light .icon":{background:"rgba(42, 80, 130, 0.1)","& svg":{"& path, & circle, & rect":{fill:"rgba(100,100,100, 1)"}}},"&.top .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&:hover":{"& .icon":{"&::before":{transform:"scale(1)",opacity:1}},"& .tooltipUi":{transform:"translate(calc(50px + 10px), -50%)",opacity:1,zIndex:20,visibility:"visible"}},"&.top:hover .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&.edit .icon":{background:"#ed9f31"},"&.new .icon":{background:"#59b359"},"&.delete .icon":{background:"#d34a46"}}}})))},75593:function(e,t,r){r.r(t);var n=r(5544),i=r(65043),o=r(83003),a=r(73216),c=r(77208),s=r(81551),l=r(16702),u=r(72378),d=(r(65454),r(85742),r(19853)),f=r(63516),h=(r(6519),r(30064)),b=r.n(h),p=r(10765),g=(r(92429),r(18751),r(43288)),m=r(11238),x=r(26240),v=r(58140),y=r(70579),k=(0,s.A)((function(e){return{columna:{display:"flex",height:"calc(100vh - 150px)"},error:{color:"white",backgroundColor:"#f97b7b",padding:10,borderRadius:5,marginBottom:10,"&:first-child":{marginTop:10}}}}));t.default=function(e){k();var t=(0,i.useState)([]),r=(0,n.A)(t,2),s=(r[0],r[1],(0,i.useState)(!1)),h=(0,n.A)(s,2),w=h[0],j=h[1],A=(0,i.useState)(null),C=(0,n.A)(A,2),S=C[0],T=C[1],z=(0,i.useState)([]),B=(0,n.A)(z,2),E=B[0],H=B[1],R=((0,o.d4)((function(e){return e.app.user})),(0,a.Zp)()),M=(0,a.g)().slug,P=(0,x.A)(),q=(0,v.M)().showAlert,D=(0,i.useState)(!1),F=(0,n.A)(D,2),I=F[0],N=F[1];(0,i.useEffect)((function(){d.WP().then((function(e){H(e.options)})).catch((function(e){e.json().then((function(e){b().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){}))}))})),M?c.Rs(M).then((function(e){e&&(e.msg?b().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){V("/forms")})):(j(!0),e.fields.shift(),T(e)))})).catch((function(e){e.json().then((function(e){b().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){V("/forms")}))}))})):(j(!1),T({name:"",description:"",slug:"",icon:"etiqueta",hierarchical:!1,parentType:[],fields:[]}))}),[]);var V=function(e){R("".concat(e))};return(0,y.jsxs)(u.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,y.jsx)(u.EL,{style:{width:"70%",maxWidth:600,display:"block",overflow:"auto",placeContent:"flex-start"},children:S&&(0,y.jsx)(f.l1,{initialValues:S,onSubmit:function(e,t){var r=t.setSubmitting;w?w&&q("confirm","\xbfEst\xe1s seguro que desea actualizar este est\xe1ndar de metadatos?").then((function(t){t&&(N(!0),c.wi(M,JSON.stringify(e,null,2)).then((function(e){N(!1),q("info",e.msg).then((function(){V("/cataloging/forms")}))})).catch((function(e){e.json().then((function(e){q("error",e.msg)}))})))})):b().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfEst\xe1s seguro de agregar este est\xe1ndar de metadatos?",icon:"question",showCancelButton:!0,confirmButtonText:"S\xed, agregar",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&(N(!0),"sin-padre"===e.parentType&&(e.parentType=""),c.DG(JSON.stringify(e,null,2)).then((function(e){b().fire({title:"\xc9xito",text:e.msg,icon:"success",confirmButtonText:"Aceptar"}).then((function(){V("/forms")}))})).catch((function(e){e.json().then((function(e){console.log(e),b().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))})))})),r(!1)},validate:function(e){var t={};return e.name||(t.name="El nombre es requerido"),e.description||(t.description="La descripci\xf3n es requerida"),t},children:function(e){var t=e.values,r=e.errors,n=(e.touched,e.handleChange),i=e.handleBlur,o=e.handleSubmit,a=e.isSubmitting,c=e.setFieldValue;return(0,y.jsx)("form",{onSubmit:o,children:(0,y.jsxs)(l.A,{style:{display:"flex",flexDirection:"column"},children:[(0,y.jsx)(p.BR,{name:"Nombre",id:"name",handleChange:n,handleBlur:i,value:t.name,errors:r.name,required:!0}),(0,y.jsx)(p.QA,{name:"Descripci\xf3n",id:"description",handleChange:n,handleBlur:i,value:t.description,errors:r.description,required:!0}),(0,y.jsx)(p.BR,{name:"Slug",id:"slug",handleChange:n,handleBlur:i,value:t.slug,disabled:w}),(0,y.jsx)(f.ED,{name:"fields",children:function(e){var r=e.insert,n=e.remove,i=e.push,o=e.move;return(0,y.jsx)(p.Yp,{name:"Metadatos",id:"metadata",insert:r,remove:n,push:i,move:o,value:t.fields,accessRights:E,setFieldValue:c})}}),(0,y.jsxs)(l.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,y.jsx)(m.nA,{type:"button",variant:"outlined",style:{margin:5,width:"auto"},customColor:{color:P.palette.grey[600],background:P.palette.grey[200]},onClick:function(){return V("/cataloging/forms")},label:"Cancelar"}),(0,y.jsx)(m.nA,{type:"submit",variant:"outlined",style:{margin:5,width:"auto"},disabled:a,label:w?"Actualizar":"Guardar"})]})]})})}},0)}),I&&(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,y.jsx)(g.A,{})})]})}},77208:function(e,t,r){r.d(t,{DG:function(){return s},Rs:function(){return a},YD:function(){return u},i6:function(){return l},n7:function(){return o},wi:function(){return c}});var n=r(88120),i=r(91280);function o(){var e={method:"GET",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(n.FM+"/forms",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="/forms/"+e,o={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch(n.FM+r,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e,t){var r="/forms/"+e,o={method:"PUT",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(n.FM+r,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.FM+"/forms",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t="/forms/"+e,r={method:"DELETE",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(n.FM+t,r).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function u(e){var t="/forms/duplicate/"+e,r={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(n.FM+t,r).then((function(e){if(201!==e.status)return Promise.reject(e)}))}},92429:function(e,t,r){var n=r(24994);t.A=void 0;var i=n(r(40039)),o=r(70579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},6519:function(e,t,r){var n=r(24994);t.A=void 0;var i=n(r(40039)),o=r(70579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"}),"DataObject")},18751:function(e,t,r){var n=r(24994);t.A=void 0;var i=n(r(40039)),o=r(70579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},85742:function(e,t,r){var n=r(24994);t.A=void 0;var i=n(r(40039)),o=r(70579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo")}}]);
//# sourceMappingURL=5593.53414424.chunk.js.map