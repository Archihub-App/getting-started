"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[9347],{72378:function(e,t,n){n.d(t,{EL:function(){return c},WB:function(){return l}});var r=n(89379),i=(n(65043),n(26240)),a=n(81551),o=n(70579),c=function(e){var t=(0,i.A)(),n=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,o.jsx)("div",{id:e.id,style:(0,r.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:n.bloque,onScroll:e.onScroll,children:e.children})},l=function(e){var t=(0,i.A)(),n=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,o.jsx)("div",{id:e.id,style:(0,r.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:n.bloque,children:e.children})};t.Ay=function(e){var t=e.children,n=e.style;e.onScroll;return(0,o.jsx)("section",{style:(0,r.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},n),children:t})}},93440:function(e,t,n){n(65043);var r=n(70579);t.A=function(e){var t=e.className;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"".concat(t," ").concat(e.labelPos?e.labelPos:""),onClick:function(){return e.onClick(e.title)},children:[(0,r.jsx)("div",{className:"icon",children:e.children}),(0,r.jsx)("div",{className:"tooltipUi",children:e.title})]},e.index)})}},65454:function(e,t,n){n.d(t,{I:function(){return i}});n(65043);var r=n(81551),i=(n(70579),n(93440),(0,r.A)((function(e){return{root:{position:"fixed",width:"54px",background:"rgba(42, 80, 130, 0.8)",borderRadius:"10px",top:"50%",transform:"translateY(-50%)",left:"10px",zIndex:15},item:{cursor:"pointer",position:"relative",margin:2,"& .tooltipUi":{position:"absolute",top:"50%",transform:"translate(calc(50px + 5px), -50%)",background:"rgba(20, 20, 20, 0.9)",padding:"1em",color:"white",borderRadius:"10px",opacity:0,zIndex:-1,visibility:"hidden",transition:"all 0.25s ease"},"& .icon":{width:"50px",height:"50px",position:"relative",borderRadius:"10px",background:"rgba(42, 80, 130, 1)",display:"flex",justifyContent:"center",alignItems:"center","&::before":{content:'""',position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",transform:"scale(0.8)",opacity:0,transition:"all 0.25s ease"},"& svg":{position:"relative",width:"20px","& path, & circle, & rect":{fill:"rgba(255, 255, 255, 0.8)"}}},"&.light .icon":{background:"rgba(42, 80, 130, 0.1)","& svg":{"& path, & circle, & rect":{fill:"rgba(100,100,100, 1)"}}},"&.top .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&:hover":{"& .icon":{"&::before":{transform:"scale(1)",opacity:1}},"& .tooltipUi":{transform:"translate(calc(50px + 10px), -50%)",opacity:1,zIndex:20,visibility:"visible"}},"&.top:hover .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&.edit .icon":{background:"#ed9f31"},"&.new .icon":{background:"#59b359"},"&.delete .icon":{background:"#d34a46"}}}})))},79347:function(e,t,n){n.r(t);var r=n(89379),i=n(60436),a=n(5544),o=n(65043),c=n(83003),l=n(73216),s=n(26240),u=n(31445),d=n(77208),h=n(19853),f=n(81551),p=n(16702),g=n(72378),m=(n(65454),n(63516)),b=n(88120),x=n(43288),v=n(58140),y=n(30064),j=n.n(y),w=n(10765),k=n(11238),A=n(70579),R=(0,f.A)((function(e){return{columna:{display:"flex",height:"calc(100vh - 150px)"},error:{color:"white",backgroundColor:"#f97b7b",padding:10,borderRadius:5,marginBottom:10,"&:first-child":{marginTop:10}}}}));t.default=function(e){R();var t=(0,o.useState)([]),n=(0,a.A)(t,2),f=n[0],y=n[1],T=(0,o.useState)([]),C=(0,a.A)(T,2),B=C[0],E=C[1],S=(0,o.useState)(!1),q=(0,a.A)(S,2),z=q[0],F=q[1],P=(0,o.useState)(null),I=(0,a.A)(P,2),H=I[0],N=I[1],O=(0,o.useState)([]),D=(0,a.A)(O,2),M=D[0],U=D[1],J=(0,o.useState)(!1),L=(0,a.A)(J,2),Q=L[0],G=L[1],W=(0,l.g)().slug,V=(0,v.M)().showAlert,Y=(0,s.A)(),Z=((0,c.d4)((function(e){return e.app.user})),(0,l.Zp)());(0,o.useEffect)((function(){var e=[];u.DI().then((function(t){if(e=t,t&&y((0,i.A)(t)),W)u.Pw(W).then((function(t){t&&(t.msg?j().fire({title:"Error",text:t.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){K("/types")})):(F(!0),t.metadata=t.metadata.slug,"string"===typeof t.parentType&&""!==t.parentType?t.parentType=e.find((function(e){return e.slug===t.parentType})):""===t.parentType&&(t.parentType=[]),h.O0().then((function(e){U(e.options);var n=(0,r.A)({},t),i=[];n.editRoles&&(n.editRoles.forEach((function(t){var n=e.options.find((function(e){return e.id===t}));i.push(n)})),n.editRoles=i),n.viewRoles&&(i=[],n.viewRoles.forEach((function(t){var n=e.options.find((function(e){return e.id===t}));i.push(n)})),n.viewRoles=i),N(n)})).catch((function(e){e.json().then((function(e){j().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))))})).catch((function(e){e.json().then((function(e){j().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){K("/types")}))}))}));else{F(!1);var n={name:"",description:"",slug:"",icon:"etiqueta",hierarchical:!1,parentType:[],metadata:[],editRoles:[],viewRoles:[]};h.O0().then((function(e){U(e.options);var t=(0,r.A)({},n),i=[];t.editRoles&&(t.editRoles.forEach((function(t){var n=e.options.find((function(e){return e.id===t}));i.push(n)})),t.editRoles=i),t.viewRoles&&(i=[],t.viewRoles.forEach((function(t){var n=e.options.find((function(e){return e.id===t}));i.push(n)})),t.viewRoles=i),N(t)})).catch((function(e){e.json().then((function(e){j().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))}})).catch((function(e){e.json().then((function(e){j().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))})),d.n7().then((function(e){e&&E(e)})).catch((function(e){e.json().then((function(e){j().fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))}),[]);var K=function(e){Z("".concat(e))};return(0,A.jsxs)(g.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,A.jsxs)(g.EL,{style:{width:"70%",maxWidth:600,display:"block",overflow:"auto",placeContent:"flex-start"},children:[!H&&(0,A.jsx)(x.A,{}),H&&M.length>0&&(0,A.jsx)(m.l1,{initialValues:H,onSubmit:function(e,t){var n=t.setSubmitting;z?z&&V("confirm","\xbfEst\xe1s seguro de actualizar este tipo de contenido?").then((function(t){t&&(G(!0),"sin-padre"===e.parentType&&(e.parentType=""),u.Gg(W,JSON.stringify(e,null,2)).then((function(e){e&&K("/cataloging/types")})).catch((function(e){e.json().then((function(e){V("error",e.msg)}))})))})):V("confirm","\xbfEst\xe1s seguro de crear este tipo de contenido?").then((function(t){t&&(G(!0),"sin-padre"===e.parentType&&(e.parentType=""),u.jt(JSON.stringify(e,null,2)).then((function(e){e&&K("/cataloging/types")})).catch((function(e){e.json().then((function(e){V("error",e.msg)}))})))})),n(!1)},validate:function(e){var t={};return e.name||(t.name="El nombre es requerido"),e.description||(t.description="La descripci\xf3n es requerida"),e.metadata&&0!==e.metadata.length||(t.metadata="El est\xe1ndar de metadatos es requerido"),t},children:function(e){var t=e.values,n=e.errors,r=(e.touched,e.handleChange),i=e.handleBlur,a=e.handleSubmit,o=e.isSubmitting,c=e.setFieldValue;return(0,A.jsx)("form",{onSubmit:a,children:(0,A.jsxs)(p.A,{style:{display:"flex",flexDirection:"column"},children:[(0,A.jsx)(w.BR,{name:"Nombre",id:"name",handleChange:r,handleBlur:i,value:t.name,errors:n.name,required:!0}),(0,A.jsx)(w.QA,{name:"Descripci\xf3n",id:"description",handleChange:r,handleBlur:i,value:t.description,errors:n.description,required:!0}),(0,A.jsx)(w.BR,{name:"Slug",id:"slug",handleChange:r,handleBlur:i,value:t.slug}),(0,A.jsx)(w.Q5,{name:"Icono",id:"icon",handleChange:r,handleBlur:i,value:t.icon,options:b.dR}),(0,A.jsx)(w.lH,{name:"Roles de edici\xf3n",id:"editRoles",handleBlur:i,value:t.editRoles,options:M,handleChange:function(e){c("editRoles",e)}}),(0,A.jsx)(w.lH,{name:"Roles de visualizaci\xf3n",id:"viewRoles",handleBlur:i,value:t.viewRoles,options:M,handleChange:function(e){c("viewRoles",e)}}),!z&&(0,A.jsxs)(A.Fragment,{children:[f.length>0&&(0,A.jsx)(w.lH,{name:"Tipo padre",id:"parentType",handleBlur:i,value:t.parentType,options:f.map((function(e){return{id:e.slug,term:e.name}})),handleChange:function(e){c("parentType",e)}}),B.length>0&&(0,A.jsx)(w.Q5,{name:"Est\xe1ndar de metadatos",id:"metadata",handleChange:r,handleBlur:i,value:t.metadata,required:!0,options:B.map((function(e){return{value:e.slug,label:e.name}}))}),(0,A.jsx)(w.FO,{name:"Jer\xe1rquico",id:"hierarchical",handleChange:function(e){c("hierarchical",e)},handleBlur:i,value:t.hierarchical})]}),z&&(0,A.jsxs)(A.Fragment,{children:[f.length>0&&(0,A.jsx)(w.lH,{name:"Tipo padre",id:"parentType",handleBlur:i,value:t.parentType,options:f.map((function(e){return{id:e.slug,term:e.name}})),handleChange:function(e){c("parentType",e)}}),B.length>0&&(0,A.jsx)(w.Q5,{name:"Est\xe1ndar de metadatos",id:"metadata",handleChange:r,handleBlur:i,value:t.metadata,required:!0,options:B.map((function(e){return{value:e.slug,label:e.name}}))}),(0,A.jsx)(w.FO,{name:"Jer\xe1rquico",id:"hierarchical",handleChange:function(e){c("hierarchical",e)},handleBlur:i,value:t.hierarchical})]}),(0,A.jsxs)(p.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,A.jsx)(k.nA,{type:"button",variant:"outlined",style:{margin:5,width:"auto"},customColor:{color:Y.palette.grey[600],background:Y.palette.grey[200]},onClick:function(){return K("/cataloging/types")},label:"Cancelar"}),(0,A.jsx)(k.nA,{type:"submit",variant:"outlined",style:{margin:5,width:"auto"},disabled:o,label:z?"Actualizar":"Crear"})]})]})})}})]}),Q&&(0,A.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,A.jsx)(x.A,{})})]})}},77208:function(e,t,n){n.d(t,{DG:function(){return l},Rs:function(){return o},YD:function(){return u},i6:function(){return s},n7:function(){return a},wi:function(){return c}});var r=n(88120),i=n(91280);function a(){var e={method:"GET",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+"/forms",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/forms/"+e,a={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch(r.FM+n,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e,t){var n="/forms/"+e,a={method:"PUT",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.FM+n,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/forms",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/forms/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function u(e){var t="/forms/duplicate/"+e,n={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){if(201!==e.status)return Promise.reject(e)}))}}}]);
//# sourceMappingURL=9347.f6680701.chunk.js.map