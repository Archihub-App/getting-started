(this.webpackJsonpsim=this.webpackJsonpsim||[]).push([[8],{1014:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c}));var n=a(47),r=a(204);function o(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/snaps",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/snaps",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t="/snaps/"+e,a={method:"DELETE",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(n.e+t,a).then((function(e){return 204!==e.status?Promise.reject(e):e}))}function c(e){var t="/snaps/"+e,a={method:"GET",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(n.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.blob()}))}},1032:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M17 5h-2V3h2zm-2 16h2v-2.59L19.59 21 21 19.59 18.41 17H21v-2h-6zm4-12h2V7h-2zm0 4h2v-2h-2zm-8 8h2v-2h-2zM7 5h2V3H7zM3 17h2v-2H3zm2 4v-2H3c0 1.1.9 2 2 2M19 3v2h2c0-1.1-.9-2-2-2m-8 2h2V3h-2zM3 9h2V7H3zm4 12h2v-2H7zm-4-8h2v-2H3zm0-8h2V3c-1.1 0-2 .9-2 2"}),"HighlightAlt")},1033:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"m19.93 8.21-3.6 1.68L14 7.7V6.3l2.33-2.19 3.6 1.68c.38.18.82.01 1-.36.18-.38.01-.82-.36-1L16.65 2.6c-.38-.18-.83-.1-1.13.2l-1.74 1.6c-.18-.24-.46-.4-.78-.4-.55 0-1 .45-1 1v1H8.82C8.34 4.65 6.98 3.73 5.4 4.07c-1.16.25-2.15 1.25-2.36 2.43-.22 1.32.46 2.47 1.48 3.08L7.08 18H4v3h13v-3h-3.62L8.41 8.77c.17-.24.31-.49.41-.77H12v1c0 .55.45 1 1 1 .32 0 .6-.16.78-.4l1.74 1.6c.3.3.75.38 1.13.2l3.92-1.83c.38-.18.54-.62.36-1-.18-.37-.62-.54-1-.36M6 8c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"PrecisionManufacturing")},1137:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle")},1249:function(e,t,a){(function(a){var n,r,o;r=[],void 0===(o="function"===typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,a,l){var i=o.URL||o.webkitURL,c=document.createElement("a");a=a||e.name||"download",c.download=a,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?r(c):n(c.href)?t(e,a,l):r(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),a);else if(n(e))t(e,a,o);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){r(l)}))}}:function(e,a,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var i="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&c||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,m=d.createObjectURL(e);r?r.location=m:location.href=m,r=null,setTimeout((function(){d.revokeObjectURL(m)}),4e4)}});o.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,r):n)||(e.exports=o)}).call(this,a(171))},1250:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m4.2 14.2L11 13V7h1.5v5.2l4.5 2.7z"}),"WatchLater")},1251:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM17 15.74 15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12z"}),"Dangerous")},1252:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},1253:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)([(0,o.jsx)("circle",{cx:"12",cy:"19",r:"2"},"0"),(0,o.jsx)("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHigh")},1314:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},1315:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},1316:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}),"Cached")},1317:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},1318:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},1319:function(e,t,a){"use strict";var n=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=a(0);t.default=(0,r.default)((0,o.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome")},1321:function(e,t,a){"use strict";var n=a(15),r=a(3),o=a(2),l=a(340),i=a(447),c=a(927),s=a(339),u=a(341),d=a(117),m=a(928),p=a(847);function f(e){return Object(p.a)("MuiTypography",e)}Object(m.a)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=a(0),v=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],b=Object(s.a)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t["align".concat(Object(d.a)(a.align))],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({margin:0},"inherit"===a.variant&&{font:"inherit"},"inherit"!==a.variant&&t.typography[a.variant],"inherit"!==a.align&&{textAlign:a.align},a.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a.gutterBottom&&{marginBottom:"0.35em"},a.paragraph&&{marginBottom:16})})),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},E=o.forwardRef((function(e,t){var a=Object(u.a)({props:e,name:"MuiTypography"}),o=function(e){return y[e]||e}(a.color),s=Object(i.a)(Object(r.a)({},a,{color:o})),m=s.align,p=void 0===m?"inherit":m,E=s.className,j=s.component,w=s.gutterBottom,x=void 0!==w&&w,O=s.noWrap,k=void 0!==O&&O,C=s.paragraph,M=void 0!==C&&C,S=s.variant,B=void 0===S?"body1":S,R=s.variantMapping,L=void 0===R?g:R,_=Object(n.a)(s,v),z=Object(r.a)({},s,{align:p,color:o,className:E,component:j,gutterBottom:x,noWrap:k,paragraph:M,variant:B,variantMapping:L}),T=j||(M?"p":L[B]||g[B])||"span",H=function(e){var t=e.align,a=e.gutterBottom,n=e.noWrap,r=e.paragraph,o=e.variant,l=e.classes,i={root:["root",o,"inherit"!==e.align&&"align".concat(Object(d.a)(t)),a&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return Object(c.a)(i,f,l)}(z);return Object(h.jsx)(b,Object(r.a)({as:T,ref:t,ownerState:z,className:Object(l.a)(H.root,E)},_))}));t.a=E},1417:function(e,t,a){"use strict";a.r(t),a.d(t,"Main",(function(){return ke}));var n=a(37),r=a(2),o=a.n(r),l=a(51),i=a(119),c=a(952),s=a(953),u=a(857),d=a(941),m=a(983),p=a(1435),f=a(958),h=a.n(f),v=a(1316),b=a.n(v),g=a(138),y=a.n(g),E=a(1421),j=a(1314),w=a.n(j),x=a(1315),O=a.n(x),k=a(955),C=a(866),M=a(1011),S=a(1250),B=a.n(S),R=a(1252),L=a.n(R),_=a(1424),z=a(992),T=a.n(z),H=a(1253),P=a.n(H),N=a(1251),A=a.n(N),F=a(1249),q=a.n(F),U=Object(C.a)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"20px !important",height:"20px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}}}})),W=function(e){var t=U(),a=Object(r.useState)([]),l=Object(n.a)(a,2),i=l[0],c=l[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(0),f=Object(n.a)(p,2),h=f[0],v=f[1];Object(r.useEffect)((function(){var t={page:d};k.j(e.user,JSON.stringify(t)).then((function(e){c(e)})).catch((function(e){console.log(e)})),k.k(e.user).then((function(e){v(e)})).catch((function(e){console.log(e)}))}),[d]);return o.a.createElement(M.a,{pagination:!0,resources:i,perpage:10,page:d,setPage:m,total:h,columns:[{destiny:"date",label:"Fecha"},{destiny:"name",label:"Nombre"},{destiny:"status",label:"Estado"},{destiny:"",label:"Acciones"}],columnSolver:function(e,a){return o.a.createElement(o.a.Fragment,null,"name"===a.destiny&&o.a.createElement("span",null,e.name),"status"===a.destiny&&o.a.createElement(o.a.Fragment,null,"pending"===e.status?o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{className:"".concat(t.btn_color)}),o.a.createElement(A.a,{onClick:function(){return t=e.taskId,void k.m(t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var t},className:"".concat(t.btn_color)})):"completed"===e.status?o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{className:"".concat(t.btn_color)})):"failed"===e.status?o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,{className:"".concat(t.btn_color)})):o.a.createElement(o.a.Fragment,null)),"date"===a.destiny&&o.a.createElement(o.a.Fragment,null,function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}(e.date.$date)),""===a.destiny&&"completed"===e.status&&"file_download"===e.resultType&&o.a.createElement(_.a,{label:"Descargar",icon:o.a.createElement(T.a,null),onClick:function(){return t=e.name.split(".")[0],a=e.taskId,void k.e(t,a).then((function(e){var a=new Blob([e]),n="";"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?n="xlsx":"application/pdf"===e.type?n="pdf":"application/zip"===e.type&&(n="zip"),q.a.saveAs(a,"".concat(t,".").concat(n))})).catch((function(e){console.log(e)}));var t,a}}))}})},I=a(1006),V=a(1317),D=a.n(V),G=a(1033),J=a.n(G),Q=a(1319),K=a.n(Q),X=a(1032),Y=a.n(X),$=a(1013),Z=a.n($),ee=a(1318),te=a.n(ee),ae=a(1003),ne=a(1433),re=a(1423),oe=a(1321),le=a(1409),ie=a(1419),ce=a(1137),se=a.n(ce),ue=Object(C.a)((function(e){return{chip_style:{margin:"1px 2px !important",backgroundColor:"rgb(115 141 175 / 10%) !important",color:"rgba(42, 80, 130, .6) !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:"rgba(42, 80, 130, .6) !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:"rgba(42, 80, 130, .6) !important",color:"#fff !important","& path":{fill:"#fff !important"}}}}})),de=function(e){var t=ue(),a=Object(r.useState)([]),l=Object(n.a)(a,2),i=l[0],c=l[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),d=u[0],p=u[1],f=Object(r.useState)(0),h=Object(n.a)(f,2),v=h[0],b=h[1],g=Object(ae.a)("favView","resources"),y=Object(n.a)(g,2),E=y[0],j=y[1];Object(r.useEffect)((function(){w()}),[]),Object(r.useEffect)((function(){w()}),[d,E]);var w=function(){c([]),m.i({type:E,page:d}).then((function(e){c(e.results),b(e.total)})).catch((function(e){console.log(e)}))},x=function(e){var t={type:E,id:e};m.c(t).then((function(e){w()})).catch((function(e){console.log(e)}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{padding:5,marginBottom:5}},o.a.createElement(ne.a,{style:{minHeight:"auto",margin:5,justifyContent:"flex-end"}},o.a.createElement(oe.a,{style:{marginRight:15}},"Tipo de contenido:"),o.a.createElement(le.a,{size:"small",onChange:function(e){c([]),j(e.target.value)},value:E,style:{borderRadius:50,height:32,textTransform:"uppercase",fontSize:11}},o.a.createElement(ie.a,{value:"resources"},"Recursos"),o.a.createElement(ie.a,{value:"records"},"Archivos")))),i.length>0&&"resources"===E&&o.a.createElement(M.a,{pagination:!0,resources:i,page:d,setPage:p,total:v,perpage:20,columns:[{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:"T\xedtulo"}],columnSolver:function(e,a){return o.a.createElement(o.a.Fragment,null,"metadata.firstLevel.title"===a.destiny&&o.a.createElement("span",null,e.metadata.firstLevel.title),""===a.destiny&&o.a.createElement(ne.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},o.a.createElement(_.a,{label:"Quitar",size:"small",icon:o.a.createElement(se.a,null),onClick:function(){return x(e.id)},className:t.chip_style})))},handleClick:function(t){e.history.push("/detail/".concat(t.id))}}),i.length>0&&"records"===E&&o.a.createElement(M.a,{pagination:!0,resources:i,page:d,setPage:p,total:v,perpage:20,columns:[{destiny:"",label:""},{destiny:"name",label:"T\xedtulo"}],columnSolver:function(e,a){return o.a.createElement(o.a.Fragment,null,"name"===a.destiny&&o.a.createElement("span",null,e.displayName?e.displayName:e.name),""===a.destiny&&o.a.createElement(ne.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},o.a.createElement(_.a,{label:"Quitar",size:"small",icon:o.a.createElement(se.a,null),onClick:function(){return x(e.id)},className:t.chip_style})))},handleClick:function(t){e.history.push("/file/".concat(t.id))}}))},me=a(954),pe=a(960),fe=a(940),he=function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),l=a[0],i=a[1];return Object(r.useEffect)((function(){i({name:e.user.name,password:"",password_confirmation:""})}),[e.user]),o.a.createElement(o.a.Fragment,null,l&&o.a.createElement(pe.c,{initialValues:l,onSubmit:function(t){var a="";y.a.fire({title:"Confirma tu contrase\xf1a",text:"Ingresa la contrase\xf1a de tu cuenta para realizar cambios al perfil:",showCancelButton:!0,html:'\n                            <p>Ingresa la contrase\xf1a de tu cuenta para realizar cambios al perfil:</p>\n                        <input\n                          type="password"\n                          value=""\n                          class="swal2-input"\n                          id="password-input">',confirmButtonColor:"#3085d6",cancelButtonColor:"#aaa",confirmButtonText:"Guardar cambios",cancelButtonText:"Cancelar",didOpen:function(){y.a.getHtmlContainer().querySelector("#password-input").addEventListener("keyup",(function(e){a=e.target.value}))}}).then((function(n){n.isConfirmed&&m.l(JSON.stringify({name:t.name,password:a,new_password:t.password,new_password_confirmation:t.password_confirmation})).then((function(t){y.a.fire("\xa1Hecho!","Tu perfil ha sido actualizado.","success"),e.requestUser()})).catch((function(e){e.json().then((function(e){y.a.fire("\xa1Error!","Hubo un error al actualizar tu perfil: ".concat(e.msg),"error")}))}))}))}},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,r=e.handleSubmit;e.isSubmitting,e.setFieldValue;return o.a.createElement("form",{onSubmit:r},o.a.createElement(me.o,{name:"Nombre",id:"name",value:t.name,handleChange:a,handleBlur:n}),o.a.createElement(me.o,{name:"Contrase\xf1a",id:"password",type:"password",value:t.password,handleChange:a,handleBlur:n}),o.a.createElement(me.o,{name:"Confirmar contrase\xf1a",id:"password_confirmation",type:"password",value:t.password_confirmation,handleChange:a,handleBlur:n}),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(fe.a,{variant:"outlined",color:"primary",type:"submit",style:{margin:5}},"Guardar")))})))},ve=a(203),be=a(1014),ge=a(1127),ye=a.n(ge),Ee=a(454),je=function(e){var t=ue(),a=Object(r.useState)("document"),l=Object(n.a)(a,2),i=l[0],c=l[1],s=Object(r.useState)([]),u=Object(n.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(0),f=Object(n.a)(p,2),h=f[0],v=f[1],b=Object(r.useState)(0),g=Object(n.a)(b,2),y=g[0],E=g[1],j=function(e){var t=d.findIndex((function(t){return t._id===e}));if(d[t].snap){var a=Object(ve.a)(d);a[t].snap=null,m(a)}else be.c(e).then((function(e){var a=Object(ve.a)(d),n=new Blob([e],{type:"image/jpeg"}),r=URL.createObjectURL(n);a[t].snap=o.a.createElement("img",{src:r,alt:"snap",style:{width:"100%"}}),m(a)}))},w=function(){be.d({page:h,type:i}).then((function(e){m(e.results),E(e.total)}))};Object(r.useEffect)((function(){w()}),[]),Object(r.useEffect)((function(){w()}),[h,i]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{padding:5,marginBottom:5}},o.a.createElement(ne.a,{style:{minHeight:"auto",margin:5,justifyContent:"flex-end"}},o.a.createElement(oe.a,{style:{marginRight:15}},"Tipo de contenido:"),o.a.createElement(le.a,{size:"small",onChange:function(e){m([]),c(e.target.value)},value:i,style:{borderRadius:50,height:32,textTransform:"uppercase",fontSize:11}},o.a.createElement(ie.a,{value:"document"},"Documentos"),o.a.createElement(ie.a,{value:"audio"},"Audios"),o.a.createElement(ie.a,{value:"video"},"Videos"),o.a.createElement(ie.a,{value:"transcription"},"Transcripciones")))),d.length>0&&o.a.createElement(M.a,{pagination:!0,resources:d,page:h,setPage:v,total:y,perpage:20,columns:[{destiny:"",label:""},{destiny:"record_name",label:"Nombre del archivo"}],columnSolver:function(a,n){return o.a.createElement(o.a.Fragment,null,"record_name"===n.destiny&&o.a.createElement("span",null,a.record_name),""===n.destiny&&o.a.createElement(ne.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},o.a.createElement(_.a,{label:"",size:"small",icon:o.a.createElement(Ee.a,null),onClick:function(){j(a._id)},className:t.chip_style}),o.a.createElement(_.a,{label:"Quitar",size:"small",icon:o.a.createElement(se.a,null),onClick:function(){return e=a._id,void be.b(e).then((function(e){w()}));var e},className:t.chip_style}),o.a.createElement(_.a,{label:"Ir al documento",size:"small",icon:o.a.createElement(ye.a,null),onClick:function(){e.history.push("/file/".concat(a.record_id))},className:t.chip_style})))},handleClick:function(e){j(e._id)}}))},we=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,width:"100%","& h6":{margin:0,marginBottom:5,color:"#56749a",fontWeight:"normal",fontSize:14},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(odd)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"}},"& input":{width:"100%",padding:5,border:"1px solid #ccc",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderRight:"none"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}},"& p":{maxWidth:500,padding:10,fontSize:14}},generateBlock:{display:"flex"},leftInput:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none"},sliderContainer:{width:"100%",display:"flex",marginTop:10},counter:{borderRadius:3,borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none",minWidth:100,background:"#eee",border:"1px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center"},slider:{borderRadius:3,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",width:"100%",border:"1px solid #ccc",borderRight:"none",position:"relative"},anim:{position:"absolute",top:0,left:0,height:"100%",background:"#56749a",transition:"width .3s ease-in-out"}}})),xe=function(e){var t=we(),a=Object(r.useState)("password"),l=Object(n.a)(a,2),i=l[0],c=l[1];return o.a.createElement(d.a,{className:t.generateBlock},o.a.createElement("input",{type:i,value:e.value,readOnly:!0,className:t.leftInput}),o.a.createElement(p.a,{sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none"}},"password"===i?o.a.createElement(w.a,{onClick:function(){return c("text")}}):o.a.createElement(O.a,{onClick:function(){return c("password")}})),o.a.createElement(E.a,{variant:"outlined",className:t.rightButton,sx:{boxShadow:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){var t="";y.a.fire({title:"Confirma tu contrase\xf1a",text:"Ingresa la contrase\xf1a de tu cuenta para generar el token:",showCancelButton:!0,html:'\n                        <input\n                          type="password"\n                          value=""\n                          class="swal2-input"\n                          id="password-input">',confirmButtonColor:"#3085d6",cancelButtonColor:"#aaa",confirmButtonText:"Generar",cancelButtonText:"Cancelar",didOpen:function(){y.a.getHtmlContainer().querySelector("#password-input").addEventListener("keyup",(function(e){t=e.target.value}))}}).then((function(a){a.isConfirmed&&e.callback({password:t}).then((function(t){y.a.fire("Token generado"),e.requestUser()}))}))}},"Generar"))},Oe=function(e){var t=we(),a=Object(r.useState)(0),l=Object(n.a)(a,2),i=l[0],c=l[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){m.j().then((function(e){c(e.requests)})).catch((function(e){console.log(e)}))};return o.a.createElement(d.a,{className:t.sliderContainer},o.a.createElement(d.a,{className:t.slider},o.a.createElement(d.a,{className:t.anim,sx:{width:"".concat(i/2e3*100,"%")}})),o.a.createElement(p.a,{onClick:function(){s()},sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none"}},o.a.createElement(b.a,null)),o.a.createElement(d.a,{className:t.counter},i,"/2000"))},ke=function(e){var t,a,r=we(),l=Object(ae.a)("profileView","profile"),i=Object(n.a)(l,2),u=i[0],p=i[1];return o.a.createElement(s.a,null,o.a.createElement(c.a,{userRoles:e.user.roles,list:function(){var t=[];return t.push({name:"Volver",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,null)),callback:function(){e.history.push("/dashboard")}}),t.push({name:"Perfil",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,null)),action:"profile"===u?"new":"",callback:function(){p("profile")}}),t.push({name:"Mis favoritos",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,null)),action:"favorites"===u?"new":"",callback:function(){p("favorites")}}),t.push({name:"Mis recortes",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(Y.a,null)),action:"snaps"===u?"new":"",callback:function(){p("snaps")}}),t.push({name:"Mis llaves de acceso",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,null)),action:"keys"===u?"new":"",callback:function(){p("keys")}}),(e.user.roles.includes("admin")||e.user.roles.includes("processing"))&&t.push({name:"Mis procesamientos",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a,null)),action:"tasks"===u?"new":"",callback:function(){p("tasks")}}),e.user.roles.includes("admin")&&t.push({name:"Procesamientos autom\xe1ticos",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(J.a,null),o.a.createElement(K.a,null)),action:"autotasks"===u?"new":"",callback:function(){p("autotasks")}}),t}()}),o.a.createElement(d.a,{style:{display:"flex"}},"keys"===u&&o.a.createElement(I.BloqueContenido,{title:"Llaves de acceso a la API",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},e.user.roles.includes("admin")&&o.a.createElement(d.a,{className:r.item},o.a.createElement(d.a,null,o.a.createElement("h6",null,"Auth Header Token"),o.a.createElement("p",null,o.a.createElement("i",null,"Solo para administradores.")," Este token permite usar la API completa del aplicativo desde otras aplicaciones. Sirve para carga masiva de contenido usando el m\xf3dulo . El token es v\xe1lido por dos d\xedas o hasta generar uno nuevo."),o.a.createElement(xe,{value:e.user.adminToken?e.user.adminToken:"",callback:m.d,requestUser:e.requestUser}))),e.user.roles.includes("admin")&&o.a.createElement(d.a,{className:r.item},o.a.createElement(d.a,null,o.a.createElement("h6",null,"Auth Header Token para los nodos de procesamiento"),o.a.createElement("p",null,o.a.createElement("i",null,"Solo para administradores.")," Este token sirve para conectar los nodos de procesamiento al nodo principal y habilita la limpieza del cache."),o.a.createElement(xe,{value:e.user.nodeToken?e.user.nodeToken:"",callback:m.e,requestUser:e.requestUser}))),o.a.createElement(d.a,{className:r.item},o.a.createElement(d.a,null,o.a.createElement("h6",null,"Token para la API p\xfablica"),o.a.createElement("p",null,"Este token permite usar la API p\xfablica del aplicativo. Esta disponible para todos los usuarios y tiene un l\xedmite de 2000 peticiones a la semana. Es v\xe1lido hasta que se genere uno nuevo."),o.a.createElement(xe,{value:(null===(t=e.user)||void 0===t?void 0:t.token)?e.user.token:"",callback:m.f,requestUser:e.requestUser}))),o.a.createElement(d.a,{className:r.item},o.a.createElement(d.a,null,o.a.createElement("h6",null,"Token para los tableros de visualizaci\xf3n"),o.a.createElement("p",null,"Este token permite conectar los tableros de visualizaci\xf3n con el aplicativo. Est\xe1 disponible para los usuarios con rol ",o.a.createElement("i",null,"visualizer"),". Puedes usar ",o.a.createElement("a",{href:"https://observablehq.com/framework/"},"Observable Framework")," para personalizar reportes con datos de tu archivo."),o.a.createElement(xe,{value:(null===(a=e.user)||void 0===a?void 0:a.token)?e.user.token:"",callback:m.f,requestUser:e.requestUser}))),o.a.createElement(d.a,{className:r.item},o.a.createElement(d.a,{sx:{width:"100%"}},o.a.createElement("h6",null,"Cantidad de peticiones a la API esta semana"),o.a.createElement(Oe,null)))),"profile"===u&&o.a.createElement(I.BloqueContenido,{title:"Mi perfil",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},o.a.createElement(he,{user:e.user,requestUser:e.requestUser})),"favorites"===u&&o.a.createElement(I.BloqueContenido,{title:"Mis favoritos",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},o.a.createElement(de,{history:e.history})),"snaps"===u&&o.a.createElement(I.BloqueContenido,{title:"Mis recortes",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},o.a.createElement(je,{history:e.history})),"tasks"===u&&o.a.createElement(I.BloqueContenido,{title:"Procesamientos",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},o.a.createElement(W,{user:e.user.username})),"autotasks"===u&&o.a.createElement(I.BloqueContenido,{title:"Procesamientos",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},o.a.createElement(W,{user:"automatic"}))))};t.default=Object(l.b)((function(e){return{user:e.auth.user}}),i.a)(ke)}}]);
//# sourceMappingURL=8.93e21782.chunk.js.map