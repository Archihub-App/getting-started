(this.webpackJsonpsim=this.webpackJsonpsim||[]).push([[21],{1369:function(e,t,a){"use strict";a.r(t);a(203);var n=a(35),r=a(2),i=a.n(r),o=a(999),l=a(50),c=a(119),u=a(946),d=a(939),s=a(938),f=a(937),m=a(943),p=a.n(m),h=a(951),g=a.n(h),v=a(843),b=a(46),E=a(954),x=a(989),y=a(930),w=a(1414),j=(a(1001),a(1012),a(994),a(1113)),O=Object(v.a)((function(e){return{toolbar:{minHeight:"auto",padding:5,paddingLeft:"10px !important",backgroundColor:"#56749a",color:"#fff",borderTopLeftRadius:10,overflow:"hidden",alignItems:"center","& h6":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:16,margin:0}}}}));t.default=Object(l.b)((function(e){return{user:e.auth.user}}),c.a)((function(e){var t=O(),a=Object(r.useState)(null),l=Object(n.a)(a,2),c=l[0],m=l[1],h=Object(r.useState)([]),v=Object(n.a)(h,2),B=v[0],k=v[1],S=Object(r.useState)(null),R=Object(n.a)(S,2),N=R[0],_=R[1],T=Object(r.useState)(null),M=Object(n.a)(T,2),C=(M[0],M[1],Object(r.useState)(null)),L=Object(n.a)(C,2),W=(L[0],L[1],E.e);Object(r.useEffect)((function(){e.match.params.slug?u.d(e.match.params.slug).then((function(e){var t=E.c(e.files.data.map((function(e){return e._id})),W);e.files.data.forEach((function(e){e.color=t(e._id)})),_(e.files);var a=e.types.find((function(e){return e.is_last}));m(a);var n=e.types.filter((function(e){return!e.is_last}));k(n)})).catch((function(e){console.log(e)})):d.d().then((function(t){e.history.push("/homedetail/"+t.value),u.d(t.value).then((function(e){var t=E.c(e.files.data.map((function(e){return e._id})),W);e.files.data.forEach((function(e){e.color=t(e._id)})),_(e.files);var a=e.types.find((function(e){return e.is_last}));m(a);var n=e.types.filter((function(e){return!e.is_last}));k(n)})).catch((function(e){console.log(e)}))}))}),[]);return i.a.createElement(s.a,null,i.a.createElement(f.a,{userRoles:e.user.roles,list:function(){var t=[];return t.push({name:"Ir al archivo",icon:i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,null),i.a.createElement(g.a,null)),callback:function(){e.history.push("/cataloging/".concat(e.match.params.slug))}}),t}()}),c&&N&&i.a.createElement(o.BloqueContenido,{style:{width:"calc(100% - 20px)",height:"calc(100vh - 100px)",padding:"2px",background:"rgb(255 255 255 / 34%)",border:"none",backdropFilter:"blur(10px)",display:"flex"}},i.a.createElement(y.a,{style:{width:"400px",height:"100%",background:"white",borderTopLeftRadius:10,borderBottomLeftRadius:10,marginRight:10}},i.a.createElement(w.a,{className:t.toolbar},i.a.createElement("div",{style:{marginLeft:"24px"}},b.d.find((function(e){return e.value===c.icon})).icon),i.a.createElement("h6",{style:{flexGrow:1,marginLeft:15}},c.name)),i.a.createElement(x.b,{type:c,parents:B,files:N})),i.a.createElement(j.a,{type:c,history:e.history})))}))},989:function(e,t,a){"use strict";a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return y}));var n=a(203),r=a(16),i=a(2),o=a.n(i),l=a(930),c=a(1404),u=a(843),d=a(46),s=a(264),f=a.n(s),m=a(954),p=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},h=function(e){return o.a.createElement("div",null,e.data.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{style:{position:"relative",height:"10px",borderRadius:"10px",marginTop:"15px",border:"1px solid #acbbd1",marginBottom:"5px"}},o.a.createElement("div",{style:{width:"".concat(e.percent,"%"),position:"absolute",height:"100%",background:"#acbbd1",borderRadius:"10px"}})),o.a.createElement("div",null,o.a.createElement("div",null,e.name," ",o.a.createElement("span",{style:{float:"right",color:"#fff",fontWeight:"bold",backgroundColor:"#56749a",minWidth:"20px",height:"20px",lineHeight:"20px",textAlign:"center",fontSize:"8px",borderRadius:"10px",padding:"0px 10px"}},p(e.count)))))})))},g=function(e){var t,a=Object(i.useRef)(null);return Object(i.useEffect)((function(){!function(){var t=e.data.map((function(e){return{type:e._id?e._id:"Sin procesar",value:e.count,color:e.color}})),n=m.f(a.current);n.attr("viewBox","0 0 200 200");var r=m.a().innerRadius(70).outerRadius(85),i=m.b().value((function(e){return e.value})),o=(m.a().innerRadius(95).outerRadius(95),i(t));n.append("g").attr("class","donut-container").attr("transform","translate(".concat(100,", ").concat(100,")")).selectAll("path").data(o).join("path").style("stroke","white").style("stroke-width",2).style("fill",(function(e){return e.data.color})).attr("d",r)}()}),[]),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",position:"relative"}},o.a.createElement("svg",{style:{maxWidth:130},ref:a,className:e.className}),o.a.createElement("div",null,null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return o.a.createElement("div",{style:{textTransform:"uppercase",fontSize:"10px",fontWeight:"bold"},key:t},e._id?d.a.find((function(t){return t.value===e._id})).label:"Sin procesar",o.a.createElement("div",{style:{background:e.color,textAlign:"center",fontWeight:"bold",color:"white",maxWidth:60,borderRadius:3}},p(e.count)))}))))},v=Object(u.a)((function(e){return{container:{display:"flex",flexDirection:"column",width:"90%",overflowY:"auto",marginLeft:"5%",marginTop:"20px",backgroundColor:"#fff",borderRadius:"5px",boxShadow:"inset 0 0 5px rgba(0,0,0,.1)"},item:{padding:"10px",borderBottom:"1px solid #f2f8ff",overflow:"hidden",color:"#777",paddingTop:25,fontSize:14,position:"relative"},itemName:Object(r.a)({fontWeight:"bold",color:"#333",marginBottom:5,position:"absolute",top:15,transform:"translateY(-50%)",textTransform:"uppercase",fontSize:12},"color","#56749a"),chip:{margin:2,padding:2,"& .MuiChip-avatar":{width:"20px !important",height:"20px !important",marginLeft:"13px !important"}}}})),b=function(e){var t=v();return o.a.createElement(l.a,{className:t.item,style:e.style?e.style:{}},o.a.createElement("div",{className:t.itemName},e.title),e.item?e.item:e.children)},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,i)).toFixed(n))+" "+r[i]},x=function(e){var t,a,n=v();return Object(i.useEffect)((function(){0===e.record.parent.length?e.setMetadata(null):e.metadata&&e.setMetadata(e.record.parent[0])}),[e.record]),o.a.createElement(l.a,{className:n.container},o.a.createElement(b,{title:"Nombre del archivo",item:(null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.displayName)?null===e||void 0===e||null===(a=e.record)||void 0===a?void 0:a.displayName:e.record.name}),o.a.createElement(b,{title:"HASH",item:e.record.hash}),o.a.createElement(b,{title:"Tama\xf1o",item:E(e.record.size)}),e.record.parent.length>0&&o.a.createElement(b,{title:"Contenido relacionado"},e.record.parent.map((function(t,a){return o.a.createElement(c.a,{avatar:d.d.filter((function(e){return e.value===t.icon}))?d.d.filter((function(e){return e.value===t.icon}))[0].iconlight:o.a.createElement(f.a,null),key:a,label:t.name,className:n.chip,onClick:function(){e.setMetadata(t)}})}))))},y=function(e){var t,a=v();return o.a.createElement(l.a,{className:a.container},o.a.createElement(b,{title:"Descripci\xf3n",item:e.type.description}),e.parents.length>0&&o.a.createElement(b,{title:"Tipos de contenido relacionados",item:(t=e.parents,t.map((function(e,t){return o.a.createElement(c.a,{avatar:d.d.filter((function(t){return t.value===e.icon}))?d.d.filter((function(t){return t.value===e.icon}))[0].iconlight:o.a.createElement(f.a,null),key:t,label:e.name,className:a.chip})})))}),o.a.createElement(b,{title:"Balance general del contenido",item:o.a.createElement(h,{data:[].concat(Object(n.a)(e.parents),[e.type])})}),o.a.createElement(b,{title:"Balance general de los documentos",item:o.a.createElement(g,{data:e.files.data})}))}}}]);
//# sourceMappingURL=21.e1ec4e28.chunk.js.map