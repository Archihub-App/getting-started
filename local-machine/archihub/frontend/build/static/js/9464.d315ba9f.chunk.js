"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[9464],{53171:function(e,t,r){r(65043);var i=r(26240),n=r(94777),a=r(70579);t.A=function(e){var t=(0,i.A)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{textAlign:"center",padding:10,width:"100%"},children:(0,a.jsx)(n.A,{style:{fontSize:50,color:t.palette.primary.light}})})})}},72378:function(e,t,r){r.d(t,{EL:function(){return s},WB:function(){return c}});var i=r(89379),n=(r(65043),r(26240)),a=r(81551),o=r(83003),l=r(70579),s=function(e){var t=(0,n.A)(),r=(0,o.d4)((function(e){return e.app.isDarkMode})),s=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,l.jsx)("div",{id:e.id,style:(0,i.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:r?t.palette.grey[900]:"white",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:s.bloque,onScroll:e.onScroll,children:e.children})},c=function(e){var t=(0,n.A)(),r=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,l.jsx)("div",{id:e.id,style:(0,i.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:r.bloque,children:e.children})};t.Ay=function(e){var t=e.children,r=e.style;e.onScroll;return(0,l.jsx)("section",{style:(0,i.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},r),children:t})}},15089:function(e,t,r){var i=r(5544),n=r(65043),a=r(26240),o=r(83003),l=r(70579);t.A=function(e){var t=(0,a.A)(),r=(0,n.useRef)(null),s=(0,n.useState)(0),c=(0,i.A)(s,2),d=c[0],u=c[1],p=(0,o.d4)((function(e){return e.app.isDarkMode}));return(0,n.useEffect)((function(){!function(){for(var t=5,i=0;i<d;i++)r.current.innerHTML=e.list[i].label,t+=r.current.offsetWidth;r.current.innerHTML=e.list[d].label,r.current.style.left="".concat(t,"px")}()}),[d]),(0,n.useEffect)((function(){if(e.value){var t=e.list.findIndex((function(t){return t.value===e.value}));t>=0&&u(t)}}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",background:p?t.palette.grey[800]:t.palette.grey[100],borderRadius:"50px",marginLeft:"10px",marginRight:"10px",padding:"5px",position:"relative",overflow:"hidden"},children:[(0,l.jsx)("div",{ref:r,style:{position:"absolute",padding:"7px",borderRadius:"50px",cursor:"pointer",background:t.palette.primary.main,color:"transparent",transition:"all 0.25s ease"}}),e.list.map((function(r,i){return(0,l.jsx)("div",{style:{position:"relative",padding:"7px",borderRadius:"50px",cursor:"pointer",color:d===i?"white":t.palette.secondary.contrastText},onClick:function(){u(i),e.onChange&&e.onChange(r)},children:r.label},i)}))]})})}},64904:function(e,t,r){r.d(t,{M:function(){return a}});var i=r(5544),n=r(65043),a=function(e,t){var r,a=n.useState(null!==(r=JSON.parse(localStorage.getItem(e)))&&void 0!==r?r:t),o=(0,i.A)(a,2),l=o[0],s=o[1];return n.useEffect((function(){localStorage.setItem(e,JSON.stringify(l))}),[l,e]),[l,s]}},29464:function(e,t,r){r.d(t,{M:function(){return C},n:function(){return j}});var i=r(89379),n=r(60436),a=r(5544),o=r(65043),l=r(72378),s=r(91181),c=r(76445),d=r(81551),u=r(16702),p=r(43845),g=r(55263),f=r(51962),h=r(99070),m=r(4598),y=r(73216),v=r(83003),x=r(85211),b=r(26240),w=r(99246),A=r(70579),k=(0,d.A)((function(e){return{columnas:{display:"flex",height:"calc(100vh - 150px)"}}})),j=function(e){var t,r,l,s,c,d,y,k,j,C,S=(0,o.useState)(-1),R=(0,a.A)(S,2),F=R[0],_=R[1],B=(0,v.d4)((function(e){return e.app.filters})),M=(0,v.wA)(),I=(0,b.A)(),T=(0,v.d4)((function(e){return e.app.isDarkMode})),L=(0,w.A)();return(0,o.useEffect)((function(){e.forms&&_(0)}),[]),(0,A.jsxs)(u.A,{style:{marginTop:10,width:"100%"},children:[(0,A.jsx)(u.A,{style:{marginLeft:50,marginBottom:20},children:e.forms.forms.map((function(e,t){return(0,A.jsx)(p.A,{label:e.name,sx:{marginRight:2,marginBottom:2,backgroundColor:F===t?I.palette.primary.light:"transparent",color:F===t?I.palette.primary.main:T?I.palette.grey[300]:I.palette.grey[700]}},t)}))}),(0,A.jsxs)(u.A,{style:{display:"flex",width:"100%",height:"calc(100% - 20px)",placeContent:"flex-start"},children:[(0,A.jsxs)(u.A,{children:[(0,A.jsx)(u.A,{style:{width:"100%"},children:(0,A.jsxs)(g.A,{style:{minHeight:"auto",height:"auto",borderBottom:"1px solid rgba(0,0,0,0.2)",backgroundColor:null!==(t=B[e.view])&&void 0!==t&&null!==(r=t.activeFilters)&&void 0!==r&&r.map((function(e){return e.destiny})).includes("ident")?I.palette.primary.light:"transparent"},children:[(0,A.jsx)(f.A,{checked:null===(l=B[e.view])||void 0===l||null===(s=l.activeFilters)||void 0===s?void 0:s.map((function(e){return e.destiny})).includes("ident"),sx:{padding:"2px"},id:"check_ident",onClick:function(t){if(t.target.checked){var r=B[e.view].activeFilters?B[e.view].activeFilters:[],i=(0,x.e)(B,e.view,"activeFilters",[].concat((0,n.A)(r),[{destiny:"ident"}]));M((0,x.vm)(i))}else{var a=B[e.view].activeFilters?B[e.view].activeFilters:[],o=(0,x.e)(B,e.view,"activeFilters",a.filter((function(e){return"ident"!==e.destiny})));M((0,x.vm)(o))}},style:{color:null!==(c=B[e.view])&&void 0!==c&&null!==(d=c.activeFilters)&&void 0!==d&&d.map((function(e){return e.destiny})).includes("ident")?I.palette.primary.main:T?I.palette.grey[300]:I.palette.grey[700]}}),(0,A.jsx)("label",{htmlFor:"check_ident",style:{cursor:"pointer",width:"100%",paddingTop:"10px",paddingBottom:"10px",color:null!==(y=B[e.view])&&void 0!==y&&null!==(k=y.activeFilters)&&void 0!==k&&k.map((function(e){return e.destiny})).includes("ident")?I.palette.primary.main:T?I.palette.grey[300]:I.palette.grey[700]},children:L.formatMessage({id:"general.identifier"})})]})}),F>=0&&(0,A.jsx)(A.Fragment,{children:e.forms.fields[F].map((function(t,r){var a,o,l,s,c,d,p,m,y,v,b,w;if("text"===t.type||"text-area"===t.type||"simple-date"===t.type)return(0,A.jsxs)(u.A,{style:{width:"100%"},children:[(0,A.jsxs)(g.A,{style:{minHeight:"auto",height:"auto",borderBottom:"1px solid rgba(0,0,0,0.2)",backgroundColor:null!==(a=B[e.view])&&void 0!==a&&null!==(o=a.activeFilters)&&void 0!==o&&o.map((function(e){return e.destiny})).includes(t.destiny)?I.palette.primary.light:"transparent"},children:[(0,A.jsx)(f.A,{checked:null===(l=B[e.view])||void 0===l||null===(s=l.activeFilters)||void 0===s?void 0:s.map((function(e){return e.destiny})).includes(t.destiny),sx:{padding:"2px"},id:"check_".concat(r),onClick:function(r){if(r.target.checked){var a=B[e.view].activeFilters?B[e.view].activeFilters:[],o=(0,i.A)({},t);"simple-date"===t.type&&(o.range=[1500,(new Date).getFullYear()]);var l=(0,x.e)(B,e.view,"activeFilters",[].concat((0,n.A)(a),[o]));M((0,x.vm)(l))}else{var s=B[e.view].activeFilters?B[e.view].activeFilters:[],c=(0,x.e)(B,e.view,"activeFilters",s.filter((function(e){return e.destiny!==t.destiny})));M((0,x.vm)(c))}},style:{color:null!==(c=B[e.view])&&void 0!==c&&null!==(d=c.activeFilters)&&void 0!==d&&d.map((function(e){return e.destiny})).includes(t.destiny)?I.palette.primary.main:T?I.palette.grey[300]:I.palette.grey[700]}}),(0,A.jsx)("label",{htmlFor:"check_".concat(r),style:{cursor:"pointer",width:"100%",paddingTop:"10px",paddingBottom:"10px",color:null!==(p=B[e.view])&&void 0!==p&&null!==(m=p.activeFilters)&&void 0!==m&&m.map((function(e){return e.destiny})).includes(t.destiny)?I.palette.primary.main:T?I.palette.grey[300]:I.palette.grey[700]},children:t.label})]}),"simple-date"===t.type&&(null===(y=B[e.view])||void 0===y||null===(v=y.activeFilters)||void 0===v?void 0:v.map((function(e){return e.destiny})).includes(t.destiny))&&(0,A.jsx)(h.Ay,{getAriaLabel:function(){return"Ajustar rango de fechas"},min:1500,max:(new Date).getFullYear(),value:null===(b=B[e.view])||void 0===b||null===(w=b.activeFilters)||void 0===w?void 0:w.find((function(e){return e.destiny===t.destiny})).range,valueLabelDisplay:"on",sx:{marginTop:"35px",marginLeft:"50px",width:"calc(100% - 100px)"},onChange:function(r,a){var o=B[e.view].activeFilters?B[e.view].activeFilters:[];o=o.filter((function(e){return e.destiny!==t.destiny}));var l=(0,i.A)({},t);l.range=a;var s=(0,x.e)(B,e.view,"activeFilters",[].concat((0,n.A)(o),[l]));M((0,x.vm)(s))}})]},r)}))})]}),(0,A.jsx)(u.A,{children:(0,A.jsxs)(u.A,{children:[(0,A.jsx)(m.A,{checked:null===(j=B[e.view])||void 0===j||null===(C=j.activeFilters)||void 0===C?void 0:C.map((function(e){return e.destiny})).includes("files"),onClick:function(){var t,r;if(null!==(t=B[e.view])&&void 0!==t&&null!==(r=t.activeFilters)&&void 0!==r&&r.map((function(e){return e.destiny})).includes("files")){var i=B[e.view].activeFilters?B[e.view].activeFilters:[],a=(0,x.e)(B,e.view,"activeFilters",i.filter((function(e){return"files"!==e.destiny})));M((0,x.vm)(a))}else{var o=B[e.view].activeFilters?B[e.view].activeFilters:[],l=(0,x.e)(B,e.view,"activeFilters",[].concat((0,n.A)(o),[{destiny:"files"}]));M((0,x.vm)(l))}}}),(0,A.jsx)("label",{style:{color:T?I.palette.grey[300]:I.palette.grey[700]},children:L.formatMessage({id:"cataloging.filterByFiles"})})]})})]})]})},C=function(e){k();var t=(0,o.useState)(null),r=(0,a.A)(t,2),n=(r[0],r[1]),d=(0,o.useState)(null),p=(0,a.A)(d,2),g=p[0],f=p[1],h=(0,o.useState)([]),m=(0,a.A)(h,2),v=(m[0],m[1],(0,o.useState)({})),x=(0,a.A)(v,2),b=x[0],w=x[1],C=(0,o.useState)(0),S=(0,a.A)(C,2),R=S[0],F=S[1],_=(0,o.useState)(!1),B=(0,a.A)(_,2),M=B[0],I=B[1],T=(0,o.useState)([]),L=(0,a.A)(T,2),N=L[0],D=(L[1],(0,o.useState)("")),P=(0,a.A)(D,2),E=P[0],O=(P[1],(0,o.useState)(0)),W=(0,a.A)(O,2),z=W[0],H=W[1],Y=(0,y.Zp)();(0,o.useEffect)((function(){e.selectedResource&&X("parents",{id:e.selectedResource._id})}),[]),(0,o.useEffect)((function(){var t;null!==(t=e.type)&&void 0!==t&&t.parentsTypes?e.type.parentsTypes.length>0?n("multiple"):e.type.hierarchical?n("tree"):n("single"):n(null)}),[e.selectedType]),(0,o.useEffect)((function(){e.setSelected&&g?e.setSelected(g.id):e.setSelected&&e.setSelected(null)}),[g]),(0,o.useEffect)((function(){X("keyword",E)}),[E]),(0,o.useEffect)((function(){f(null)}),[e.selectedType]);var X=function(e,t){if(t){var r=(0,i.A)({},b);r[e]=t,w(r)}else{var n=(0,i.A)({},b);delete n[e],w(n)}};return(0,A.jsxs)("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:"column"},children:[(0,A.jsx)(l.EL,{style:{width:"calc(100% - 40px)",height:"55px",overflowX:"hidden",marginLeft:0,marginBottom:0},children:(0,A.jsx)(s.A,{total:R,showFilters:M,setShowFilters:I,view:e.view})}),(0,A.jsxs)(l.EL,{id:"dropzone_scroll",onScroll:function(e){H(e.target.scrollTop)},style:{width:"calc(100% - 40px)",height:"calc(100% - 40px)",overflowX:"hidden",marginLeft:0,placeContent:"flex-start"},children:[!M&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(u.A,{style:{width:"100%",height:"100%",display:"flex"},children:(0,A.jsx)(c.A,{selectedTypes:e.detail?e.type:e.types,selectedType:e.detail?e.type:e.selectedType?e.selectedType:null,records:null,filters:b,activeFilters:N,handleClick:function(t){e.detail?Y("/detail/".concat(t.id)):Y("/explore/".concat(e.view,"/detail/").concat(t.id))},editBtns:!!e.detail,parent:g?{_id:g.id}:e.selectedResource?e.selectedResource:null,parentTotal:F,viewDrafts:!1,view:e.view,single:e.single,scrollPosition:z,mobile:e.mobile},JSON.stringify(g))})}),M&&(0,A.jsx)(j,{forms:e.forms,view:e.view})]})]})}},91181:function(e,t,r){var i=r(64467),n=r(5544),a=r(65043),o=r(81551),l=r(15316),s=r(37541),c=r(17392),d=r(43845),u=r(79484),p=r(5983),g=r(74802),f=r(93635),h=r(98344),m=r(26240),y=(r(15089),r(83003)),v=r(85211),x=r(58140),b=r(14905),w=r(99246),A=r(70579);t.A=function(e){var t,r,k=(0,a.useRef)(null),j=a.useState(""),C=(0,n.A)(j,2),S=C[0],R=C[1],F=a.useState("keyword"),_=(0,n.A)(F,2),B=_[0],M=(_[1],(0,m.A)()),I=(0,y.d4)((function(e){return e.app.filters})),T=(0,y.d4)((function(e){return e.app.isDarkMode})),L=(0,y.wA)(),N=(0,x.M)().showAlert,D=(0,w.A)();console.log(e);var P=(0,o.A)((function(e){return{dot:{position:"absolute",top:0,right:0,width:10,height:10,backgroundColor:"#ffa84e",borderRadius:"50%"},columnas:{display:"flex",height:"calc(100vh - 150px)"},searchContainer:(0,i.A)((0,i.A)({backgroundColor:T?M.palette.grey[800]:M.palette.primary.light,display:"flex",position:"relative",alignItems:"center",minWidth:350,borderRadius:50,paddingLeft:10,paddingTop:3,paddingBottom:3,width:"100%"},M.breakpoints.down("md"),{minWidth:"auto"}),"& input",{color:M.palette.primary.dark}),searchContainerLight:(0,i.A)((0,i.A)({backgroundColor:"rgb(115 141 175 / 23%)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(255,255,255,0.1)",padding:M.spacing(1),display:"flex",position:"relative",alignItems:"center",minWidth:350,color:"#rgba(25,68,124,0.6)",borderRadius:5},M.breakpoints.down("md"),{minWidth:"auto"}),"& input",{color:"rgba(25,68,124,1)"}),searchInput:(0,i.A)({width:"100%",color:"white",fontWeight:"bold"},M.breakpoints.down("md"),{padding:0}),SearchIconContainer:{"&.open":{backgroundColor:"white !important"}},SearchIcon:{marginRight:"2%",color:T?M.palette.primary.light:M.palette.primary.dark,width:"22px !important",height:"22px !important","& path":{fill:T?M.palette.primary.light:M.palette.primary.dark},"&.open":{backgroundColor:"white",borderRadius:50,"& path":{fill:"rgba(25,68,124,0.6) !important"}}},SearchIconLight:{marginRight:"2%",color:"#rgba(25,68,124,0.6)","& path":{fill:"#rgba(25,68,124,0.6)"}},tableRow:{width:"100%",display:"flex",alignItems:"center",alignContent:"stretch","&:nth-child(even)":{backgroundColor:"#ececec"}},tableCell:{width:"25%",padding:10,borderRight:"1px solid #ccc"},accessLevel:{width:30,height:30,textAlign:"center",lineHeight:"30px",borderRadius:"50%",display:"inline-block",backgroundColor:"#a7b7cb",color:"#fff","&.level_3":{backgroundColor:"#f7b500"},"&.level_2":{backgroundColor:"#eda73e"},"&.level_1":{backgroundColor:"#ed6e3e"}},help:{position:"absolute",top:85,right:40,maxWidth:700,width:"calc(100% - 440px)",height:"calc(100% - 100px)",backgroundColor:"rgb(114 141 174 / 82%)",zIndex:1,borderRadius:15,backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff","& .txt":{maxWidth:650,padding:20,"& p":{borderLeft:"3px solid #fff",borderTop:"1px dashed #fff",paddingTop:10,paddingLeft:10}},"& .box":{backgroundColor:"rgba(255,255,255,0.65)",paddingLeft:20,paddingRight:20,borderRadius:15,marginRight:5,marginLeft:5,color:"#333"},"& .bold":{fontWeight:"bold",color:"#2c3e50",marginRight:5,marginLeft:5}}}}))();return(0,a.useEffect)((function(){I[e.view]&&I[e.view].keyword&&R(I[e.view].keyword)}),[I]),(0,A.jsx)(l.A,{style:{width:"calc(100% - 20px)",display:"flex",alignItems:"center"},children:(0,A.jsxs)("form",{className:"".concat("light"===e.variant?P.searchContainerLight:P.searchContainer),onSubmit:function(t){t.preventDefault();var r=(0,v.e)(I,e.view,"keyword",S);L((0,v.vm)(r))},children:[(0,A.jsx)(u.A,{className:"".concat("light"!==e.variant?P.SearchIcon:P.SearchIconLight)}),(0,A.jsx)(s.Ay,{className:P.searchInput,placeholder:"keyword"===B?D.formatMessage({id:"cataloging.searchKeywords"}):D.formatMessage({id:"cataloging.searchSemantic"}),ref:k,inputProps:{maxLength:140},value:S,onChange:function(t){if(R(t.target.value),""===t.target.value){var r=(0,v.e)(I,e.view,"keyword","");L((0,v.vm)(r))}},sx:{color:T?M.palette.primary.light:M.palette.primary.dark,"& .MuiInputBase-input":{color:T?M.palette.primary.light:M.palette.primary.dark}}}),""!==S&&(0,A.jsx)(c.A,{onClick:function(){R("");var t=(0,v.e)(I,e.view,"keyword","");L((0,v.vm)(t))},children:(0,A.jsx)(g.A,{className:"".concat("light"!==e.variant?P.SearchIcon:P.SearchIconLight)})}),"light"!==e.variant&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.A,{size:"small",sx:{backgroundColor:"transparent",color:T?M.palette.primary.light:M.palette.primary.main,border:"1px solid ".concat(T?M.palette.primary.light:M.palette.primary.main," "),fontWeight:"bold",marginRight:"10px"},label:e.total>=1?"".concat((0,h.ZV)(e.total)," ").concat(D.formatMessage({id:"cataloging.results"})):D.formatMessage({id:"cataloging.noResults"})}),e.setActiveFilters&&(0,A.jsxs)(c.A,{style:{position:"relative"},onClick:function(){e.setShowFilters(!e.showFilters)},className:"".concat(e.showFilters?"open":""," ").concat(P.SearchIconContainer),children:[(null===(t=I[e.view])||void 0===t||null===(r=t.activeFilters)||void 0===r?void 0:r.length)>0&&(0,A.jsx)("div",{className:P.dot}),(0,A.jsx)(f.A,{className:"".concat("light"!==e.variant?P.SearchIcon:P.SearchIconLight)})]}),!(0,b.X)()&&(0,A.jsx)(c.A,{onClick:function(){N("video-info","search")},children:(0,A.jsx)(p.A,{className:"".concat("light"!==e.variant?P.SearchIcon:P.SearchIconLight)})})]})]})})}},46068:function(e,t,r){r(65043);var i=r(15316),n=r(10765),a=r(70579);t.A=function(e){return(0,a.jsxs)(i.A,{style:{width:"100%",borderRadius:"10px"},children:[e.data.ident&&"ident"!==e.data.ident&&(0,a.jsx)(n.yN,{label:"Identificador",value:e.data.ident,type:"text",header:!0,labelAlign:e.labelAlign}),e.data.fields.map((function(t,r){return(0,a.jsx)(a.Fragment,{children:t.value&&""!==t.value&&(0,a.jsx)(n.yN,{label:t.label,value:t.value,labelAlign:e.labelAlign,type:t.type,redirect:e.redirect,header:"ident"===e.data.ident&&0===r})})}))]})}},76370:function(e,t,r){var i=r(5544),n=r(65043),a=r(73216),o=r(83003),l=r(78717),s=r(46068),c=r(81551),d=r(43845),u=r(15316),p=r(83903),g=r(98787),f=r(26240),h=r(43288),m=r(70579);t.A=function(e){var t=(0,f.A)(),r=(0,a.Zp)(),y=(0,c.A)((function(e){return{scrollbar:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},close:{"& .MuiChip-label":{display:"none"},"& svg":{margin:"0 !important"}},noborder:{border:"none"}}}))(),v=(0,n.useState)(!1),x=(0,i.A)(v,2),b=x[0],w=x[1],A=(0,n.useState)(null),k=(0,i.A)(A,2),j=k[0],C=k[1],S=(0,n.useState)(null),R=(0,i.A)(S,2),F=R[0],_=R[1],B=(0,o.d4)((function(e){return e.app.isDarkMode}));return(0,n.useEffect)((function(){if(w(!0),e.resource){if(F===e.resource.id)return void w(!1);l.HD(e.resource.id).then((function(t){C(t),w(!1),_(e.resource.id)})).catch((function(e){console.log(e)}))}}),[e.resource]),(0,m.jsxs)(m.Fragment,{children:[b&&(0,m.jsx)("div",{style:{background:B?t.palette.grey[900]:"white",borderRadius:10},children:(0,m.jsx)(h.A,{})}),j&&!b&&(0,m.jsxs)("div",{style:{background:B?t.palette.grey[800]:"white",maxWidth:600,maxHeight:500,overflowY:"auto",overflowX:"hidden",padding:10,borderRadius:10},className:y.scrollbar,children:[(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:10},children:[(0,m.jsx)(d.A,{size:"small",onClick:function(){e.view&&"cataloging"!==e.view&&"bulk"!==e.view?r("/explore/".concat(e.view,"/detail/").concat(e.resource.id)):r("/detail/".concat(e.resource.id))},icon:(0,m.jsx)(u.A,{style:{display:"flex",alignItems:"center",justifyContent:"center",color:B?t.palette.grey[400]:t.palette.grey[500]},children:(0,m.jsx)(g.A,{})}),style:{margin:3,paddingLeft:10,paddingRight:5,background:B?t.palette.grey[700]:t.palette.grey[100]},className:"".concat(y.noborder)}),(0,m.jsx)(d.A,{size:"small",onClick:function(){e.setMetadata(null)},icon:(0,m.jsx)(u.A,{style:{display:"flex",alignItems:"center",justifyContent:"center",color:B?t.palette.grey[400]:t.palette.grey[500]},children:(0,m.jsx)(p.A,{})}),style:{margin:3,paddingLeft:10,paddingRight:3,background:B?t.palette.grey[700]:t.palette.grey[100]},className:"".concat(y.noborder)})]}),(0,m.jsx)(s.A,{data:j,className:y.scrollbar,resource:e.resource,labelAlign:"left",style:{width:370,height:300,overflowY:"auto"}})]})]})}},6512:function(e,t,r){r.d(t,{V:function(){return g}});var i=r(89379),n=r(5544),a=r(65043),o=r(51887),l=r(34399),s=r(81551),c=r(64904),d=r(83003),u=r(70579),p=(0,s.A)((function(e){return{}})),g=function(e){var t=e.offsetOrigin,r=e.id,s=e.children,g=e.initialPosition,f=e.style,h=(p(),(0,a.useState)(g)),m=(0,n.A)(h,2),y=m[0],v=m[1],x=(0,a.useState)({x:0,y:0}),b=(0,n.A)(x,2),w=(b[0],b[1],(0,d.d4)((function(e){return e.app.isDarkMode}))),A=(0,a.useState)({x:0,y:0}),k=(0,n.A)(A,2),j=k[0],C=k[1],S=(0,a.useState)(!0),R=(0,n.A)(S,2),F=(R[0],R[1],(0,a.useRef)(null)),_=document.getElementById("droppable-area"),B=(0,c.M)("position-".concat(r),{x:0,y:0}),M=(0,n.A)(B,2),I=M[0],T=M[1],L=(0,o.i)((function(e){return{type:"box",item:{id:r,position:y},collect:function(e){return{isDragging:!!e.isDragging(),item:e.getItem(),initialClientOffset:e.getInitialClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),clientOffset:e.getClientOffset()}},end:function(e,t){if(t.getDropResult()){var r=t.getDropResult().newPosition;r.x=r.x+j.x,r.y=r.y+j.y}}}})),N=(0,n.A)(L,3),D=N[0].isDragging,P=N[1],E=N[2];(0,a.useEffect)((function(){E&&E((0,l.n)(),{captureDraggingState:!0})}),[E]);(0,a.useEffect)((function(){if(F&&I)if(0===I.x&&0===I.y){var e=document.getElementById("droppable-area").getBoundingClientRect(),t=F.current.getBoundingClientRect(),r=e.height/2-t.height/2;v({x:0,y:r}),T({x:0,y:O().y})}else v({x:I.x,y:I.y})}),[F]);var O=function(){var e,r=null===(e=document.getElementById("droppable-area"))||void 0===e?void 0:e.getBoundingClientRect(),i=y.x,n=y.y;if(r&&(i-=r.x,n-=r.y),t&&(i+=t.x/2,n+=t.y/2),i<0&&(i=0),n<0&&(n=0),_&&F.current){var a=document.getElementById("dropzone_scroll");a=a?a.scrollTop:0,i+F.current.offsetWidth>_.offsetWidth&&(i=_.offsetWidth-F.current.offsetWidth),n+F.current.offsetHeight>a.scrollHeight&&(n=a.scrollHeight-F.current.offsetHeight)}return"translate(".concat(i,"px, ").concat(n,"px)"),{x:i,y:n}};return P(F),(0,u.jsx)("div",{ref:F,style:(0,i.A)({position:"absolute",translate:"".concat(O().x,"px ").concat(O().y,"px"),scale:"".concat(D?1.01:1),boxShadow:D?"0 0 10px 0 ".concat(w?"rgba(50,50,50,0.5)":"rgba(150,150,150,0.5)"):"0 0 5px 0 ".concat(w?"rgba(50,50,50,0.5)":"rgba(150,150,150,0.5)")},f),onMouseDown:function(e){var t=F.current.getBoundingClientRect(),r=e.pageX-t.left,i=e.pageY-t.top;C({x:r,y:i})},onDrag:function(e){F.current.getBoundingClientRect();v({x:e.clientX-j.x,y:e.clientY-j.y,mousePosition:y.mousePosition}),T({x:e.clientX-j.x,y:e.clientY-j.y})},draggable:!0,children:s})}},4319:function(e,t,r){r.d(t,{M:function(){return s}});var i=r(89379),n=r(5544),a=r(65043),o=r(76512),l=r(70579),s=function(e){var t=e.onDrop,r=e.children,s=(0,a.useRef)(null),c=(0,a.useState)({x:0,y:0}),d=(0,n.A)(c,2),u=d[0],p=d[1],g=(0,o.H)((function(){return{accept:"box",drop:function(e,r){var n=r.getClientOffset(),a=s.current.getBoundingClientRect();if(n){var o={x:n.x-a.left,y:n.y-a.top,mousePosition:(0,i.A)({},u)};return t((0,i.A)((0,i.A)({},e),{},{newPosition:o})),{newPosition:o}}}}}),[t]),f=(0,n.A)(g,2);f[0];return(0,f[1])(s),(0,l.jsx)("div",{ref:s,id:"droppable-area",style:{width:"100%",height:"100%",position:"relative",overflow:"visible"},onMouseDown:function(e){p({x:e.pageX,y:e.pageY})},children:r})}},98344:function(e,t,r){r.d(t,{RJ:function(){return _},ZV:function(){return R},_8:function(){return F},bl:function(){return B}});var i=r(60436),n=r(89379),a=r(5544),o=r(65892),l=r(65043),s=r(83003),c=r(94495),d=r(81551),u=r(53612),p=r(42366),g=r(67470),f=r(52733),h=r(29864),m=r(97062),y=r(50147),v=r(64851),x=r(6232),b=r(53326),w=r(31724),A=r(29923),k=r(52417),j=r(26240),C=r(70579),S=(0,d.A)((function(e){return{barBox:{padding:3,paddingTop:"3px",paddingBottom:"13px",borderRadius:"5px","&:hover":{background:"#f5f5f5",cursor:"pointer"},"&.selected":{background:"rgba(86,116,154,0.75)","& .txt, & .number":{color:"#fff","& path":{fill:"#fff"}},"& .borderBox":{border:"1px solid white",background:"rgba(255,255,255,0.15)"},"& .percentBar":{background:"white"}}},borderBox:{position:"relative",height:"5px",borderRadius:"10px",border:"1px solid #acbbd1"},percentBar:{position:"absolute",height:"100%",background:"#acbbd1",borderRadius:"10px"},txt:{textTransform:"uppercase",fontSize:11,display:"flex",alignItems:"center"},number:{float:"right",border:"#fff",fontWeight:"bold",color:"#56749a",minWidth:"20px",height:"20px",lineHeight:"20px",textAlign:"center",fontSize:"10px",borderRadius:"10px",padding:"0px 10px"},icon:{width:"14px",height:"14px",marginRight:5,marginLeft:5,padding:"4px",borderRadius:"50%",borderTopRightRadius:0,borderTopLeftRadius:0,"& svg":{width:"100%",height:"14px"},"& path":{fill:"#acbbd1"}}}})),R=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},F=function(e){var t=S(),r=(0,l.useState)([]),i=(0,a.A)(r,2),n=i[0],o=i[1];return(0,l.useEffect)((function(){if(e.data){var t=0;e.data.forEach((function(e){t+=e.count})),o(e.data.map((function(e,r){return e.percent=Math.round(e.count/t*100),e})))}}),[]),(0,C.jsx)("div",{style:{width:"90%"},children:n.length>0&&n.map((function(e,r){return(0,C.jsx)(C.Fragment,{children:e.count>0&&(0,C.jsxs)("div",{className:"".concat(t.barBox),children:[(0,C.jsx)("div",{className:"borderBox ".concat(t.borderBox),children:(0,C.jsx)("div",{style:{width:"".concat(e.percent,"%")},className:"percentBar ".concat(t.percentBar)})}),(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"".concat(t.txt," txt"),children:[e._id,(0,C.jsx)("span",{className:"number ".concat(t.number),children:R(e.count)})]})})]},r)})}))})},_=function(e){var t,r=(0,l.useRef)(null),i=(0,j.A)(),d=((0,s.d4)((function(e){return e.app.isDarkMode})),[u.A[400],p.A[400],g.A[400],f.A[400],h.A[400],m.A[400],y.A[400],v.A[400],x.A[400],b.A[400],w.A[400],A.A[400],k.A[400]]),S=d.indexOf(i.palette.primary.main);S>-1&&d.splice(S,1),d.unshift(i.palette.primary.main);var F=o.UMr().range(d),_=(0,l.useState)(null),B=(0,a.A)(_,2),M=B[0],I=B[1];return(0,l.useEffect)((function(){!function(){var t=e.data.map((function(e){return{type:e._id?e._id:"Sin procesar",value:e.count,color:F(e._id?e._id:"Sin procesar")}}));I(t);var i=o.Ltv(r.current);i.attr("viewBox","0 0 200 200");var n=o.JLW().innerRadius(70).outerRadius(85),a=o.rLf().value((function(e){return e.value})).sort(null),l=(o.JLW().innerRadius(95).outerRadius(95),a(t));i.append("g").attr("class","donut-container").attr("transform","translate(".concat(100,", ").concat(100,")")).selectAll("path").data(l).join("path").style("stroke","white").style("stroke-width",2).style("fill",(function(e){return F(e.data.type)})).attr("d",n)}()}),[]),(0,C.jsxs)("div",{style:(0,n.A)({display:"flex",justifyContent:"space-around",alignItems:"center",position:"relative"},e.style),children:[(0,C.jsx)("svg",{style:{maxWidth:100,width:"100%"},ref:r,className:e.className}),e.legend&&M&&(0,C.jsx)("div",{children:null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return(0,C.jsxs)("div",{style:{textTransform:"uppercase",fontSize:"10px",fontWeight:"bold"},children:[e._id?c.ZC.find((function(t){return t.value===e._id})).label:"Sin procesar",(0,C.jsx)("div",{style:{background:F(e._id),textAlign:"center",fontWeight:"bold",color:"white",maxWidth:60,borderRadius:3},children:R(e.count)})]},t)}))})]})},B=function(e){var t=(0,l.useRef)(null),r=10,n=30,a=30,s=60,c=400;return(0,l.useEffect)((function(){!function(){for(var l=(0,i.A)(e.data),d=1;d<l.length;d++)l[d].count+=l[d-1].count;var u=o.w7C().range([0,c]).domain(o.Xxv(l,(function(e){return new Date(e._id)}))),p=o.m4Y().range([c,0]).domain([0,o.T9B(l,(function(e){return e.count}))]),g=o.Ltv(t.current);g.attr("viewBox","-".concat(s," -").concat(r," ").concat(c+n+s," ").concat(c+a+r)).style("width",c).style("height",c),g.append("g").call((function(e){return e.attr("transform","translate(0,".concat(c,")")).call(o.l78(u).ticks(5).tickFormat(o.DCK("%d/%m/%Y")))})),g.append("g").call((function(e){return e.attr("transform","translate(0,0)").call(o.V4s(p))})),g.append("path").datum(l).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",o.n8j().x((function(e){return u(new Date(e._id))})).y((function(e){return p(e.count)})))}()}),[]),(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("svg",{ref:t,className:e.className})})}},13870:function(e,t,r){r.d(t,{$:function(){return a},N:function(){return o}});var i=r(88120),n=r(91280);function a(e){if((0,n.g)()){var t={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:(0,n.g)()}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,i.H6)()+"/search",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,i.H6)()+"/search/public",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:(0,n.g)()}),mode:"cors",cache:"default",body:e};return fetch((0,i.H6)()+"/search/tree",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},76445:function(e,t,r){var i=r(89379),n=r(5544),a=r(65043),o=r(41905),l=r(26240),s=r(83003),c=r(85211),d=r(8168),u=r(43845),p=r(15316),g=r(55263),f=r(77739),h=r(78717),m=r(13870),y=r(73216),v=r(63471),x=r(95540),b=r(57796),w=r(95065),A=r(4319),k=r(6512),j=r(36795),C=r(31269),S=r(76370),R=r(65226),F=r(72003),_=r(11867),B=r(58140),M=r(10765),I=r(53171),T=r(99246),L=r(70579);t.A=function(e){var t,r,N,D=(0,a.useState)([]),P=(0,n.A)(D,2),E=P[0],O=P[1],W=(0,a.useState)(0),z=(0,n.A)(W,2),H=z[0],Y=z[1],X=(0,y.Zp)(),J=(0,a.useState)(!1),Z=(0,n.A)(J,2),q=Z[0],V=Z[1],K=(0,a.useState)(!1),U=(0,n.A)(K,2),$=U[0],G=U[1],Q=(0,l.A)(),ee=(0,s.d4)((function(e){return e.app.filters})),te=(0,s.d4)((function(e){return e.app.isDarkMode})),re=(0,s.wA)(),ie=(0,B.M)().showAlert,ne=(0,T.A)();(0,a.useEffect)((function(){var t,r,n,a=(0,i.A)({},ee);void 0===(null===(t=ee[e.view])||void 0===t?void 0:t.page)&&(a=(0,c.e)(ee,e.view,"page",0)),void 0===(null===(r=ee[e.view])||void 0===r?void 0:r.sortBy)&&(a=(0,c.e)(ee,e.view,"sortBy","createdAt")),void 0===(null===(n=ee[e.view])||void 0===n?void 0:n.sortOrder)&&(a=(0,c.e)(ee,e.view,"sortOrder","desc")),re((0,c.vm)(a))}),[]);var ae=(0,o.A)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"30px !important",height:"30px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}},chip_style:{margin:"1px 2px !important",backgroundColor:"".concat(te?Q.palette.grey[800]:Q.palette.secondary.light," !important"),color:"".concat(te?Q.palette.grey[400]:Q.palette.secondary.dark," !important"),border:"1px solid ".concat(te?Q.palette.grey[700]:Q.palette.secondary.main," !important"),transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:Q.palette.secondary.main+" !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:Q.palette.primary.dark+" !important",color:"#fff !important","& path":{fill:"#fff !important"}}},access_chip:{backgroundColor:"".concat(te?Q.palette.grey[800]:Q.palette.secondary.light," !important"),border:"1px solid ".concat(te?Q.palette.grey[700]:Q.palette.secondary.main," !important"),color:"".concat(te?Q.palette.grey[400]:Q.palette.secondary.dark," !important"),"& svg":{marginLeft:"10px !important",width:"15px !important",height:"15px !important",opacity:".5 !important"}},date_chip:{backgroundColor:"".concat(te?Q.palette.grey[800]:Q.palette.secondary.light," !important"),border:"1px solid ".concat(te?Q.palette.grey[700]:Q.palette.secondary.main," !important"),color:"".concat(te?Q.palette.grey[400]:Q.palette.secondary.dark," !important"),"& svg":{marginLeft:"10px !important",width:"15px !important",height:"15px !important",opacity:".5 !important"}}}}))();(0,a.useEffect)((function(){G(!1)}),[e.scrollPosition]),(0,a.useEffect)((function(){var t,r,n,a=(0,i.A)({},ee[e.view]);if((null===(t=a.activeFilters)||void 0===t?void 0:t.length)>0){var o=a.activeFilters.filter((function(e){return"text"===e.type||"text-area"===e.type}));a.input_filters=o.map((function(e){return e.destiny})),a.activeFilters.filter((function(e){return"files"===e.destiny})).length>0&&(a.input_filters=a.input_filters.filter((function(e){return"files"!==e})),a.files=!0);var l=a.activeFilters.filter((function(e){return"simple-date"===e.type}));a.date_filters=l.map((function(e){return{destiny:e.destiny,range:e.range}}))}e.parent&&!a.parents&&(a.parents={id:e.parent._id,post_type:e.parent.post_type});var s=null!==(r=ee[e.view])&&void 0!==r&&r.post_type?ee[e.view].post_type.slug:e.selectedTypes;Array.isArray(s)&&s.length>0&&s[0].slug&&(s=s.map((function(e){return e.slug}))),console.log(s),null!==(n=s)&&void 0!==n&&n.slug?s=[s.slug]:s||(s=[e.selectedType.slug]),console.log(s),a.post_type=s,O([]),V(!0),e.single?(Array.isArray(a.post_type_single)?a.post_type=a.post_type_single:a.post_type_single?a.post_type=[a.post_type_single.slug]:e.selectedTypes&&(a.post_type=e.selectedTypes.map((function(e){return e.slug}))),delete a.post_type_single,a.parents={id:a.single_id},delete a.single_id,a.page=a.page_single,delete a.page_single):(delete a.post_type_single,delete a.root_single,delete a.page_single,a.post_type&&!Array.isArray(a.post_type)&&(a.post_type=[a.post_type])),a.keyword||a.date_filters?m.$(a).then((function(t){O(t.resources),V(!1),t.resources.length>0?(Y(t.total),e.parentTotal(t.total)):(Y(0),e.parentTotal&&e.parentTotal(0))})):(console.log("new_filters",a),h.UK(s,a).then((function(t){O(t.resources),V(!1),t.resources.length>0&&(Y(t.total),e.parentTotal&&e.parentTotal(t.total))})))}),[ee]);return(0,L.jsx)(j.Q,{backend:C.t2,children:(0,L.jsxs)(A.M,{onDrop:function(e,t){return console.log(e,t)},onDragStart:function(){console.log("start")},children:[q&&(0,L.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,L.jsx)(R.A,{options:{loop:!0,autoplay:!0,animationData:F,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:100,width:100})}),0===E.length&&!q&&(0,L.jsx)(I.A,{}),E.length>0&&!q&&(0,L.jsx)(d.A,{pagination:!0,resources:E,page:null!==(t=ee[e.view])&&void 0!==t&&t.page?ee[e.view].page:0,setPage:function(t){var r=(0,c.e)(ee,e.view,"page",t);re((0,c.vm)(r))},total:H,type:e.type,selectedResources:e.selectedResources,perpage:20,handleClick:e.handleClick,setSelected:e.setSelected,style:{position:e.mobile?"relative":"absolute"},columns:function(){var t=[{destiny:"ident",label:ne.formatMessage({id:"general.identifier"})},{destiny:"metadata.firstLevel.title",label:ne.formatMessage({id:"general.title"}),sortBy:"metadata.firstLevel.title"},{destiny:"files",label:ne.formatMessage({id:"general.files"})}];return e.mobile||(t.unshift({destiny:"createdAt",label:ne.formatMessage({id:"general.creationDate"}),sortBy:"createdAt"}),t.unshift({destiny:"",label:""}),t.push({destiny:"accessRights",label:ne.formatMessage({id:"general.accessRights"})})),t}(),columnSolver:function(t,r){return(0,L.jsxs)(L.Fragment,{children:["metadata.firstLevel.title"===r.destiny&&(0,L.jsx)("span",{children:t.metadata.firstLevel.title}),"accessRights"===r.destiny&&(0,L.jsx)(L.Fragment,{children:t.accessRights&&(0,L.jsx)(u.A,{size:"small",label:t.accessRights,className:ae.access_chip})}),"createdAt"===r.destiny&&(0,L.jsx)(L.Fragment,{children:t.createdAt&&(0,L.jsx)(u.A,{size:"small",label:(0,M.pv)(t.createdAt),className:ae.date_chip})}),"files"===r.destiny&&(0,L.jsx)(L.Fragment,{children:t.files>0&&(0,L.jsx)(u.A,{size:"small",label:(0,L.jsxs)(p.A,{style:{display:"flex",alignItems:"center"},children:[t.files,(0,L.jsx)(_.A,{})]}),className:ae.access_chip})}),"ident"===r.destiny&&(0,L.jsx)(L.Fragment,{children:t.ident&&"ident"!==t.ident&&""!==t.ident&&(0,L.jsx)(u.A,{size:"small",label:(0,L.jsx)(L.Fragment,{children:t.ident}),className:ae.access_chip})}),""===r.destiny&&(0,L.jsxs)(g.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:[e.editBtns&&"cataloging"===e.view&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.A,{label:"",size:"small",icon:(0,L.jsx)(x.A,{}),onClick:function(){return function(t){"users"===e.selectedType?X("/admin/users/edit/".concat(t)):X("/cataloging/".concat(t.post_type,"/edit/").concat(t.id))}(t)},className:ae.chip_style}),(0,L.jsx)(u.A,{label:"",size:"small",icon:(0,L.jsx)(v.A,{}),onClick:function(){return e=t.id,void ie("confirm",ne.formatMessage({id:"cataloging.confirmDelete"})).then((function(t){t&&h.o8(e).then((function(e){ie("success",e.msg).then((function(){window.location.reload()}))})).catch((function(e){e.json().then((function(e){ie("error",e.msg)}))}))}));var e},className:ae.chip_style})]}),(0,L.jsx)(f.A,{title:ne.formatMessage({id:"cataloging.viewMeta"}),placement:"top",children:(0,L.jsx)(u.A,{label:"",size:"small",icon:(0,L.jsx)(w.A,{}),onClick:function(){var e;e=t.id,G({id:e})},className:ae.chip_style})}),"bulk"!==e.view&&(0,L.jsx)(f.A,{title:ne.formatMessage({id:"cataloging.viewResource"}),placement:"top",children:(0,L.jsx)(u.A,{label:"",size:"small",icon:(0,L.jsx)(b.A,{}),onClick:function(){return e.handleClick(t)},className:ae.chip_style})})]})]})},view:e.view,sortBy:null===(r=ee[e.view])||void 0===r?void 0:r.sortBy,sortOrder:null===(N=ee[e.view])||void 0===N?void 0:N.sortOrder}),$&&(0,L.jsx)("div",{style:{position:"absolute",top:e.scrollPosition-10,left:0,height:"calc(100% + 20px)",width:"100%",background:te?"rgba(0,0,0,.5)":"rgba(255,255,255,.5)",backdropFilter:"blur(5px)"},onClick:function(){return G(!1)}}),(0,L.jsx)(k.V,{id:"metadata-info",initialPosition:{x:0,y:0},style:{display:$?"block":"none",borderRadius:"10px"},children:(0,L.jsx)(S.A,{resource:$,setMetadata:G,view:e.view})})]})})}},8168:function(e,t,r){var i=r(60436),n=r(5544),a=r(65043),o=r(83003),l=r(85211),s=r(51962),c=r(17392),d=r(15316),u=r(71806),p=r(73460),g=r(10039),f=r(79650),h=r(84882),m=r(19090),y=r(28076),v=r(63336),x=r(35084),b=r(26240),w=r(70579);function A(e){var t=(0,b.A)(),r=(0,o.d4)((function(e){return e.app.isDarkMode})),i=(0,o.d4)((function(e){return e.app.filters})),n=(0,o.wA)(),a=e.view,s=(e.sortOrder,e.sortBy),d=(e.numSelected,e.rowCount,e.onRequestSort,e.headCells);return(0,w.jsx)(h.A,{children:(0,w.jsx)(y.A,{children:d.map((function(e){return(0,w.jsxs)(g.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",style:{color:r?t.palette.grey[400]:t.palette.grey[600],borderBottom:"1px solid ".concat(r?t.palette.grey[800]:t.palette.grey[200])},children:[e.label,e.sortBy&&(0,w.jsx)(c.A,{size:"small",style:{marginLeft:"5px",backgroundColor:s===e.sortBy&&r?t.palette.grey[600]:s===e.sortBy?t.palette.primary.light:r?t.palette.grey[800]:"#f5f5f5",color:s===e.sortBy&&r?t.palette.primary.light:s===e.sortBy?t.palette.primary.main:t.palette.grey[500]},onClick:function(){var t=i[a].sortBy===e.sortBy&&"asc"===i[a].sortOrder?"desc":"asc",r=(0,l.e)(i,a,"sortOrder",t);r=(0,l.e)(r,a,"sortBy",e.sortBy),n((0,l.vm)(r))},children:(0,w.jsx)(x.A,{})})]},e.id)}))})})}function k(e){var t=(0,o.wA)(),r=(0,o.d4)((function(e){return e.app.filters})),i=(0,o.d4)((function(e){return e.app.isDarkMode}));return(0,w.jsx)(m.A,{rowsPerPage:e.perpage,rowsPerPageOptions:[],count:e.total,page:r[e.view]?r[e.view].page:0,onPageChange:function(i,n){var a=(0,l.e)(r,e.view,"page",n);t((0,l.vm)(a))},style:{color:i?"white":"black",borderTop:"1px solid ".concat(i?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"),backgroundColor:i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)",borderBottom:"1px solid ".concat(i?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)")}})}t.A=function(e){var t=e.sortBy,r=e.sortOrder,l=e.style,c=e.resources,h=e.pagination,m=e.columns,x=e.columnSolver,j=e.page,C=e.setPage,S=e.total,R=e.handleClick,F=e.perpage,_=e.type,B=e.selectedResources,M=e.view,I=a.useState(!1),T=(0,n.A)(I,2),L=T[0],N=(T[1],(0,a.useState)([])),D=(0,n.A)(N,2),P=D[0],E=(D[1],(0,o.d4)((function(e){return e.app.isDarkMode}))),O=(0,b.A)();return(0,w.jsx)(w.Fragment,{children:c.length>0&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(d.A,{sx:{width:"100%"},style:l||null,children:(0,w.jsx)(f.A,{children:(0,w.jsxs)(u.A,{sx:{width:"100%"},"aria-labelledby":"tableTitle",size:L?"small":"medium",padding:"none",children:[(0,w.jsx)(A,{numSelected:P.length,headCells:"checkbox"===_?[{id:"checkbox",numeric:!1,disablePadding:!0,label:""}].concat((0,i.A)(m)):m,sortBy:t,sortOrder:r,view:M}),(0,w.jsx)(p.A,{children:c.map((function(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(y.A,{hover:!0,role:"checkbox",tabIndex:-1,style:R?{cursor:"pointer"}:{},children:["checkbox"===_&&(0,w.jsx)(g.A,{component:"th",id:"checkbox",scope:"row",sx:{padding:"10px 10px",borderBottom:"1px solid ".concat(E?O.palette.grey[800]:O.palette.grey[200])},children:(0,w.jsx)(s.A,{onClick:R?function(){return R(e)}:null,color:"primary",checked:!!B&&B.includes(e.id),sx:{color:E?O.palette.grey[400]:O.palette.grey[600],"&.Mui-checked":{color:O.palette.primary.main+" !important"}}})}),m.map((function(t){return(0,w.jsx)(g.A,{component:"th",id:t.destiny,scope:"row",onClick:R&&""!==t.destiny?function(){return R(e)}:null,sx:{padding:"10px 10px",color:E?O.palette.grey[400]:O.palette.grey[600],borderBottom:"1px solid ".concat(E?O.palette.grey[800]:O.palette.grey[200])},children:x(e,t)},t.destiny)}))]},e.id),e.snap&&(0,w.jsx)(y.A,{children:(0,w.jsx)(g.A,{component:"th",scope:"row",sx:{padding:"10px 10px"},children:(0,w.jsx)(v.A,{children:e.snap})})})]})}))}),h&&(0,w.jsx)(k,{view:M,page:j,setPage:C,total:S,perpage:F})]})})})})})}}}]);
//# sourceMappingURL=9464.d315ba9f.chunk.js.map