"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[6450],{72378:function(e,t,r){r.d(t,{EL:function(){return s},WB:function(){return u}});var n=r(89379),o=(r(65043),r(26240)),a=r(81551),i=r(70579),s=function(e){var t=(0,o.A)(),r=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,i.jsx)("div",{id:e.id,style:(0,n.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:r.bloque,onScroll:e.onScroll,children:e.children})},u=function(e){var t=(0,o.A)(),r=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,i.jsx)("div",{id:e.id,style:(0,n.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:r.bloque,children:e.children})};t.Ay=function(e){var t=e.children,r=e.style;e.onScroll;return(0,i.jsx)("section",{style:(0,n.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},r),children:t})}},86450:function(e,t,r){r.r(t),r.d(t,{Main:function(){return k}});var n=r(89379),o=r(5544),a=r(65043),i=r(83003),s=r(73216),u=r(81551),c=r(16702),d=r(66187),l=r(5670),h=r(19853),f=r(27631),p=r(10765),b=r(63516),m=r(11238),g=r(43288),y=r(58140),j=r(26240),v=r(72378),x=r(70579),w=(0,u.A)((function(e){return{item:{paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,"& h6":{margin:0,marginBottom:5,color:"#666",fontWeight:"bold"},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(odd)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"}},"& input":{width:"100%",padding:5,border:"1px solid #ccc",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderRight:"none"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}}},generateBlock:{display:"flex"},leftInput:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none"}}})),k=function(e){var t=w(),r=(0,a.useState)(!1),u=(0,o.A)(r,2),k=u[0],A=u[1],C=(0,a.useState)(null),S=(0,o.A)(C,2),R=S[0],T=S[1],P=(0,a.useState)(null),B=(0,o.A)(P,2),O=B[0],z=B[1],M=(0,a.useState)(null),F=(0,o.A)(M,2),N=F[0],E=F[1],q=(0,a.useState)({}),H=(0,o.A)(q,2),L=H[0],J=H[1],W=((0,i.d4)((function(e){return e.user})),(0,s.g)().id),G=(0,y.M)().showAlert,I=(0,s.Zp)(),D=(0,j.A)();return(0,a.useEffect)((function(){W?(A(!0),l.Hc(W).then((function(e){var t=(0,n.A)({},e);h.O0().then((function(e){var r=[];t.roles.forEach((function(t){var n=e.options.find((function(e){return e.id===t}));r.push(n)})),t.roles=r,z(e.options),h.WP().then((function(e){var r=[];t.accessRights.forEach((function(t){var n=e.options.find((function(e){return e.id===t}));r.push(n)})),t.accessRights=r,E(e.options),T(t)}))}))}))):(A(!1),T({name:"",username:"",password:"",confirmPassword:"",roles:[],accessRights:[]}),h.O0().then((function(e){z(e.options)})),h.WP().then((function(e){E(e.options)})))}),[]),(0,x.jsx)(v.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:(0,x.jsxs)(v.EL,{style:{width:"100%",maxWidth:700,display:"block",overflow:"auto",placeContent:"flex-start"},children:[!R&&(0,x.jsx)(g.A,{}),R&&O&&N&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{display:"flex"},children:[(0,x.jsx)(m.nA,{startIcon:(0,x.jsx)(f.A,{}),label:R.name,style:{borderRadius:5,backgroundColor:D.palette.grey[200],color:D.palette.grey[500],fontSize:20,margin:2},disabled:!0}),(0,x.jsx)(m.nA,{label:R.username,style:{borderRadius:5,backgroundColor:D.palette.grey[200],color:D.palette.grey[500],fontSize:16,margin:2},disabled:!0})]}),(0,x.jsx)(b.l1,{initialValues:R,onSubmit:function(e,t){var r=t.setSubmitting;k?G("confirm","\xbfDesea guardar los cambios?").then((function(t){t&&l.yo(JSON.stringify(e)).then((function(e){G("success","El usuario se ha guardado correctamente"),I("/admin/users")})).catch((function(e){r(!1),e.json().then((function(e){J(e.errors),G("error",e.msg)}))}))})):G("confirm","\xbfDesea crear un nuevo usuario?").then((function(t){t&&l.vt(JSON.stringify(e)).then((function(e){G("success","El usuario se ha creado correctamente"),I("/admin/users")})).catch((function(e){r(!1),e.json().then((function(e){J(e.errors),G("error",e.msg)}))}))}))},children:function(e){var r=e.values,n=(e.errors,e.touched,e.handleChange),o=e.handleBlur,a=e.handleSubmit,i=e.isSubmitting,s=e.setFieldValue;return(0,x.jsxs)("form",{onSubmit:a,children:[!k&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.BR,{name:"Nombre",value:r.name,handleChange:n,handleBlur:o,errors:null===L||void 0===L?void 0:L.name,required:!0,id:"name"}),(0,x.jsx)(p.BR,{name:"Correo electr\xf3nico",value:r.username,handleChange:n,handleBlur:o,errors:null===L||void 0===L?void 0:L.username,required:!0,id:"username"}),(0,x.jsx)(p.BR,{name:"Contrase\xf1a",value:r.password,handleChange:n,handleBlur:o,errors:null===L||void 0===L?void 0:L.password,required:!0,id:"password",type:"password"}),(0,x.jsx)(p.BR,{name:"Confirmar contrase\xf1a",value:r.confirmPassword,handleChange:n,handleBlur:o,errors:null===L||void 0===L?void 0:L.confirmPassword,required:!0,id:"confirmPassword",type:"password"})]}),(0,x.jsxs)(c.A,{className:t.item,children:[(0,x.jsxs)(c.A,{children:[(0,x.jsx)(d.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Roles de usuario"}),(0,x.jsx)(d.A,{variant:"body1",style:{fontSize:14},children:"Los roles de usuario desempe\xf1an un papel fundamental en el aplicativo, ya que permiten definir las habilidades y capacidades de cada usuario dentro de la herramienta."})]}),(0,x.jsx)(p.lH,{label:"Roles",options:O,multiple:!0,value:r.roles,handleChange:function(e){s("roles",e)}})]}),(0,x.jsxs)(c.A,{className:t.item,children:[(0,x.jsxs)(c.A,{children:[(0,x.jsx)(d.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Niveles de acceso del usuario"}),(0,x.jsx)(d.A,{variant:"body1",style:{fontSize:14},children:"Los niveles de acceso juegan un papel crucial en la aplicaci\xf3n, ya que determinan qu\xe9 informaci\xf3n puede acceder un usuario. Por defecto un usuario puede ver todo el contenido P\xfablico."})]}),(0,x.jsx)(p.lH,{label:"accessRights",options:N,multiple:!0,value:r.accessRights,handleChange:function(e){s("accessRights",e)}})]}),(0,x.jsx)(c.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:(0,x.jsx)(m.nA,{type:"submit",label:k?"Guardar cambios":"Crear usuario",disabled:i,style:{margin:5,width:"auto"}})})]})}})]})]})})};t.default=k},5670:function(e,t,r){r.d(t,{C5:function(){return m},Gm:function(){return b},HU:function(){return l},Hc:function(){return c},Jt:function(){return u},S:function(){return p},UK:function(){return d},XG:function(){return f},ke:function(){return h},nH:function(){return y},qM:function(){return g},vE:function(){return i},vt:function(){return s},yo:function(){return a}});var n=r(88120),o=r(91280);function a(e){var t={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.FM+"/users/update",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.FM+"/users/update-me",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.FM+"/users/register",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function u(){var e={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(n.FM+"/users/me",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function c(e){var t="/users/"+e,r={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(n.FM+t,r).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function d(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.FM+"/users",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function l(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function h(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/admin-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function f(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/node-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function p(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/viz-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function b(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function m(e){var t={method:"DELETE",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function g(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.FM+"/users/favorites_list",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function y(){var e={method:"GET",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default"};return fetch(n.FM+"/users/requests",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},27631:function(e,t,r){var n=r(24994);t.A=void 0;var o=n(r(40039)),a=r(70579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline")}}]);
//# sourceMappingURL=6450.915dc624.chunk.js.map