(this.webpackJsonpsim=this.webpackJsonpsim||[]).push([[10,1,21],{1050:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l}));var n=a(46),r=a(204);function c(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/snaps",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/snaps",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t="/snaps/"+e,a={method:"DELETE",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(n.e+t,a).then((function(e){return 204!==e.status?Promise.reject(e):e}))}function l(e){var t="/snaps/"+e,a={method:"GET",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(n.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.blob()}))}},1051:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M17 5h-2V3h2zm-2 16h2v-2.59L19.59 21 21 19.59 18.41 17H21v-2h-6zm4-12h2V7h-2zm0 4h2v-2h-2zm-8 8h2v-2h-2zM7 5h2V3H7zM3 17h2v-2H3zm2 4v-2H3c0 1.1.9 2 2 2M19 3v2h2c0-1.1-.9-2-2-2m-8 2h2V3h-2zM3 9h2V7H3zm4 12h2v-2H7zm-4-8h2v-2H3zm0-8h2V3c-1.1 0-2 .9-2 2"}),"HighlightAlt")},1052:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"m19.93 8.21-3.6 1.68L14 7.7V6.3l2.33-2.19 3.6 1.68c.38.18.82.01 1-.36.18-.38.01-.82-.36-1L16.65 2.6c-.38-.18-.83-.1-1.13.2l-1.74 1.6c-.18-.24-.46-.4-.78-.4-.55 0-1 .45-1 1v1H8.82C8.34 4.65 6.98 3.73 5.4 4.07c-1.16.25-2.15 1.25-2.36 2.43-.22 1.32.46 2.47 1.48 3.08L7.08 18H4v3h13v-3h-3.62L8.41 8.77c.17-.24.31-.49.41-.77H12v1c0 .55.45 1 1 1 .32 0 .6-.16.78-.4l1.74 1.6c.3.3.75.38 1.13.2l3.92-1.83c.38-.18.54-.62.36-1-.18-.37-.62-.54-1-.36M6 8c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"PrecisionManufacturing")},1150:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle")},1250:function(e,t,a){(function(a){var n,r,c;r=[],void 0===(c="function"===typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,a,o){var i=c.URL||c.webkitURL,l=document.createElement("a");a=a||e.name||"download",l.download=a,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?t(e,a,o):r(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,c){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,c),a);else if(n(e))t(e,a,c);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){r(o)}))}}:function(e,a,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var i="application/octet-stream"===e.type,l=/constructor/i.test(c.HTMLElement)||c.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var d=c.URL||c.webkitURL,m=d.createObjectURL(e);r?r.location=m:location.href=m,r=null,setTimeout((function(){d.revokeObjectURL(m)}),4e4)}});c.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,r):n)||(e.exports=c)}).call(this,a(172))},1251:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m4.2 14.2L11 13V7h1.5v5.2l4.5 2.7z"}),"WatchLater")},1252:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM17 15.74 15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12z"}),"Dangerous")},1253:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},1254:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)([(0,c.jsx)("circle",{cx:"12",cy:"19",r:"2"},"0"),(0,c.jsx)("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHigh")},1299:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},1300:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},1301:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}),"Cached")},1302:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},1303:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},1304:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome")},1305:function(e,t,a){"use strict";var n=a(15),r=a(3),c=a(2),o=a(332),i=a(442),l=a(912),s=a(333),u=a(334),d=a(118),m=a(913),f=a(833);function p(e){return Object(f.a)("MuiTypography",e)}Object(m.a)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=a(0),b=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=Object(s.a)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t["align".concat(Object(d.a)(a.align))],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({margin:0},"inherit"===a.variant&&{font:"inherit"},"inherit"!==a.variant&&t.typography[a.variant],"inherit"!==a.align&&{textAlign:a.align},a.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a.gutterBottom&&{marginBottom:"0.35em"},a.paragraph&&{marginBottom:16})})),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},E=c.forwardRef((function(e,t){var a=Object(u.a)({props:e,name:"MuiTypography"}),c=function(e){return y[e]||e}(a.color),s=Object(i.a)(Object(r.a)({},a,{color:c})),m=s.align,f=void 0===m?"inherit":m,E=s.className,j=s.component,x=s.gutterBottom,O=void 0!==x&&x,w=s.noWrap,k=void 0!==w&&w,C=s.paragraph,T=void 0!==C&&C,S=s.variant,N=void 0===S?"body1":S,z=s.variantMapping,F=void 0===z?v:z,R=Object(n.a)(s,b),P=Object(r.a)({},s,{align:f,color:c,className:E,component:j,gutterBottom:O,noWrap:k,paragraph:T,variant:N,variantMapping:F}),B=j||(T?"p":F[N]||v[N])||"span",L=function(e){var t=e.align,a=e.gutterBottom,n=e.noWrap,r=e.paragraph,c=e.variant,o=e.classes,i={root:["root",c,"inherit"!==e.align&&"align".concat(Object(d.a)(t)),a&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return Object(l.a)(i,p,o)}(P);return Object(h.jsx)(g,Object(r.a)({as:B,ref:t,ownerState:P,className:Object(o.a)(L.root,E)},R))}));t.a=E},1386:function(e,t,a){"use strict";a.r(t),a.d(t,"Main",(function(){return ke}));var n=a(35),r=a(2),c=a.n(r),o=a(50),i=a(119),l=a(940),s=a(941),u=a(843),d=a(926),m=a(953),f=a(1404),p=a(950),h=a.n(p),b=a(1301),g=a.n(b),v=a(138),y=a.n(v),E=a(1390),j=a(1299),x=a.n(j),O=a(1300),w=a.n(O),k=a(938),C=a(852),T=a(962),S=a(1251),N=a.n(S),z=a(1253),F=a.n(z),R=a(1394),P=a(974),B=a.n(P),L=a(1254),A=a.n(L),M=a(1252),H=a.n(M),_=a(1250),I=a.n(_),q=Object(C.a)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"20px !important",height:"20px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}}}})),D=function(e){var t=q(),a=Object(r.useState)([]),o=Object(n.a)(a,2),i=o[0],l=o[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),d=u[0],m=u[1],f=Object(r.useState)(0),p=Object(n.a)(f,2),h=p[0],b=p[1];Object(r.useEffect)((function(){var t={page:d};k.j(e.user,JSON.stringify(t)).then((function(e){l(e)})).catch((function(e){console.log(e)})),k.k(e.user).then((function(e){b(e)})).catch((function(e){console.log(e)}))}),[d]);return c.a.createElement(T.a,{pagination:!0,resources:i,perpage:10,page:d,setPage:m,total:h,columns:[{destiny:"date",label:"Fecha"},{destiny:"name",label:"Nombre"},{destiny:"status",label:"Estado"},{destiny:"",label:"Acciones"}],columnSolver:function(e,a){return c.a.createElement(c.a.Fragment,null,"name"===a.destiny&&c.a.createElement("span",null,e.name),"status"===a.destiny&&c.a.createElement(c.a.Fragment,null,"pending"===e.status?c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{className:"".concat(t.btn_color)}),c.a.createElement(H.a,{onClick:function(){return t=e.taskId,void k.m(t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));var t},className:"".concat(t.btn_color)})):"completed"===e.status?c.a.createElement(c.a.Fragment,null,c.a.createElement(F.a,{className:"".concat(t.btn_color)})):"failed"===e.status?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a,{className:"".concat(t.btn_color)})):c.a.createElement(c.a.Fragment,null)),"date"===a.destiny&&c.a.createElement(c.a.Fragment,null,function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}(e.date.$date)),""===a.destiny&&"completed"===e.status&&"file_download"===e.resultType&&c.a.createElement(R.a,{label:"Descargar",icon:c.a.createElement(B.a,null),onClick:function(){return t=e.name.split(".")[0],a=e.taskId,void k.e(t,a).then((function(e){var a=new Blob([e]),n="";"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?n="xlsx":"application/pdf"===e.type?n="pdf":"application/zip"===e.type&&(n="zip"),I.a.saveAs(a,"".concat(t,".").concat(n))})).catch((function(e){console.log(e)}));var t,a}}))}})},W=a(965),V=a(1302),U=a.n(V),G=a(1052),J=a.n(G),Y=a(1304),K=a.n(Y),X=a(1051),Q=a.n(X),$=a(994),Z=a.n($),ee=a(1303),te=a.n(ee),ae=a(954),ne=a(1402),re=a(1393),ce=a(1305),oe=a(1380),ie=a(1388),le=a(1150),se=a.n(le),ue=Object(C.a)((function(e){return{chip_style:{margin:"1px 2px !important",backgroundColor:"rgb(115 141 175 / 10%) !important",color:"rgba(42, 80, 130, .6) !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:"rgba(42, 80, 130, .6) !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:"rgba(42, 80, 130, .6) !important",color:"#fff !important","& path":{fill:"#fff !important"}}}}})),de=function(e){var t=ue(),a=Object(r.useState)([]),o=Object(n.a)(a,2),i=o[0],l=o[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),d=u[0],f=u[1],p=Object(r.useState)(0),h=Object(n.a)(p,2),b=h[0],g=h[1],v=Object(ae.a)("favView","resources"),y=Object(n.a)(v,2),E=y[0],j=y[1];Object(r.useEffect)((function(){x()}),[]),Object(r.useEffect)((function(){x()}),[d,E]);var x=function(){l([]),m.i({type:E,page:d}).then((function(e){l(e.results),g(e.total)})).catch((function(e){console.log(e)}))},O=function(e){var t={type:E,id:e};m.c(t).then((function(e){x()})).catch((function(e){console.log(e)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(re.a,{style:{padding:5,marginBottom:5}},c.a.createElement(ne.a,{style:{minHeight:"auto",margin:5,justifyContent:"flex-end"}},c.a.createElement(ce.a,{style:{marginRight:15}},"Tipo de contenido:"),c.a.createElement(oe.a,{size:"small",onChange:function(e){l([]),j(e.target.value)},value:E,style:{borderRadius:50,height:32,textTransform:"uppercase",fontSize:11}},c.a.createElement(ie.a,{value:"resources"},"Recursos"),c.a.createElement(ie.a,{value:"records"},"Archivos")))),i.length>0&&"resources"===E&&c.a.createElement(T.a,{pagination:!0,resources:i,page:d,setPage:f,total:b,perpage:20,columns:[{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:"T\xedtulo"}],columnSolver:function(e,a){return c.a.createElement(c.a.Fragment,null,"metadata.firstLevel.title"===a.destiny&&c.a.createElement("span",null,e.metadata.firstLevel.title),""===a.destiny&&c.a.createElement(ne.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},c.a.createElement(R.a,{label:"Quitar",size:"small",icon:c.a.createElement(se.a,null),onClick:function(){return O(e.id)},className:t.chip_style})))},handleClick:function(t){e.history.push("/detail/".concat(t.id))}}),i.length>0&&"records"===E&&c.a.createElement(T.a,{pagination:!0,resources:i,page:d,setPage:f,total:b,perpage:20,columns:[{destiny:"",label:""},{destiny:"name",label:"T\xedtulo"}],columnSolver:function(e,a){return c.a.createElement(c.a.Fragment,null,"name"===a.destiny&&c.a.createElement("span",null,e.displayName?e.displayName:e.name),""===a.destiny&&c.a.createElement(ne.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},c.a.createElement(R.a,{label:"Quitar",size:"small",icon:c.a.createElement(se.a,null),onClick:function(){return O(e.id)},className:t.chip_style})))},handleClick:function(t){e.history.push("/file/".concat(t.id))}}))},me=a(939),fe=a(948),pe=a(925),he=function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){i({name:e.user.name,password:"",password_confirmation:""})}),[e.user]),c.a.createElement(c.a.Fragment,null,o&&c.a.createElement(fe.c,{initialValues:o,onSubmit:function(t){var a="";y.a.fire({title:"Confirma tu contrase\xf1a",text:"Ingresa la contrase\xf1a de tu cuenta para realizar cambios al perfil:",showCancelButton:!0,html:'\n                            <p>Ingresa la contrase\xf1a de tu cuenta para realizar cambios al perfil:</p>\n                        <input\n                          type="password"\n                          value=""\n                          class="swal2-input"\n                          id="password-input">',confirmButtonColor:"#3085d6",cancelButtonColor:"#aaa",confirmButtonText:"Guardar cambios",cancelButtonText:"Cancelar",didOpen:function(){y.a.getHtmlContainer().querySelector("#password-input").addEventListener("keyup",(function(e){a=e.target.value}))}}).then((function(n){n.isConfirmed&&m.l(JSON.stringify({name:t.name,password:a,new_password:t.password,new_password_confirmation:t.password_confirmation})).then((function(t){y.a.fire("\xa1Hecho!","Tu perfil ha sido actualizado.","success"),e.requestUser()})).catch((function(e){e.json().then((function(e){y.a.fire("\xa1Error!","Hubo un error al actualizar tu perfil: ".concat(e.msg),"error")}))}))}))}},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange),n=e.handleBlur,r=e.handleSubmit;e.isSubmitting,e.setFieldValue;return c.a.createElement("form",{onSubmit:r},c.a.createElement(me.o,{name:"Nombre",id:"name",value:t.name,handleChange:a,handleBlur:n}),c.a.createElement(me.o,{name:"Contrase\xf1a",id:"password",type:"password",value:t.password,handleChange:a,handleBlur:n}),c.a.createElement(me.o,{name:"Confirmar contrase\xf1a",id:"password_confirmation",type:"password",value:t.password_confirmation,handleChange:a,handleBlur:n}),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement(pe.a,{variant:"outlined",color:"primary",type:"submit",style:{margin:5}},"Guardar")))})))},be=a(203),ge=a(1050),ve=a(1002),ye=a.n(ve),Ee=a(449),je=function(e){var t=ue(),a=Object(r.useState)("document"),o=Object(n.a)(a,2),i=o[0],l=o[1],s=Object(r.useState)([]),u=Object(n.a)(s,2),d=u[0],m=u[1],f=Object(r.useState)(0),p=Object(n.a)(f,2),h=p[0],b=p[1],g=Object(r.useState)(0),v=Object(n.a)(g,2),y=v[0],E=v[1],j=function(e){var t=d.findIndex((function(t){return t._id===e}));if(d[t].snap){var a=Object(be.a)(d);a[t].snap=null,m(a)}else ge.c(e).then((function(e){var a=Object(be.a)(d),n=new Blob([e],{type:"image/jpeg"}),r=URL.createObjectURL(n);a[t].snap=c.a.createElement("img",{src:r,alt:"snap",style:{width:"100%"}}),m(a)}))},x=function(){ge.d({page:h,type:i}).then((function(e){m(e.results),E(e.total)}))};Object(r.useEffect)((function(){x()}),[]),Object(r.useEffect)((function(){x()}),[h,i]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(re.a,{style:{padding:5,marginBottom:5}},c.a.createElement(ne.a,{style:{minHeight:"auto",margin:5,justifyContent:"flex-end"}},c.a.createElement(ce.a,{style:{marginRight:15}},"Tipo de contenido:"),c.a.createElement(oe.a,{size:"small",onChange:function(e){m([]),l(e.target.value)},value:i,style:{borderRadius:50,height:32,textTransform:"uppercase",fontSize:11}},c.a.createElement(ie.a,{value:"document"},"Documentos"),c.a.createElement(ie.a,{value:"audio"},"Audios"),c.a.createElement(ie.a,{value:"video"},"Videos"),c.a.createElement(ie.a,{value:"transcription"},"Transcripciones")))),d.length>0&&c.a.createElement(T.a,{pagination:!0,resources:d,page:h,setPage:b,total:y,perpage:20,columns:[{destiny:"",label:""},{destiny:"record_name",label:"Nombre del archivo"}],columnSolver:function(a,n){return c.a.createElement(c.a.Fragment,null,"record_name"===n.destiny&&c.a.createElement("span",null,a.record_name),""===n.destiny&&c.a.createElement(ne.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},c.a.createElement(R.a,{label:"",size:"small",icon:c.a.createElement(Ee.a,null),onClick:function(){j(a._id)},className:t.chip_style}),c.a.createElement(R.a,{label:"Quitar",size:"small",icon:c.a.createElement(se.a,null),onClick:function(){return e=a._id,void ge.b(e).then((function(e){x()}));var e},className:t.chip_style}),c.a.createElement(R.a,{label:"Ir al documento",size:"small",icon:c.a.createElement(ye.a,null),onClick:function(){e.history.push("/file/".concat(a.record_id))},className:t.chip_style})))},handleClick:function(e){j(e._id)}}))},xe=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,width:"100%","& h6":{margin:0,marginBottom:5,color:"#666",fontWeight:"bold",fontSize:13},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(odd)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"}},"& input":{width:"100%",padding:5,border:"1px solid #ccc",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderRight:"none"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}}},generateBlock:{display:"flex"},leftInput:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none"},sliderContainer:{width:"100%",display:"flex",marginTop:10},counter:{borderRadius:3,borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none",minWidth:100,background:"#eee",border:"1px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center"},slider:{borderRadius:3,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",width:"100%",border:"1px solid #ccc",borderRight:"none",position:"relative"},anim:{position:"absolute",top:0,left:0,height:"100%",background:"#56749a",transition:"width .3s ease-in-out"}}})),Oe=function(e){var t=xe(),a=Object(r.useState)("password"),o=Object(n.a)(a,2),i=o[0],l=o[1];return c.a.createElement(d.a,{className:t.generateBlock},c.a.createElement("input",{type:i,value:e.value,readOnly:!0,className:t.leftInput}),c.a.createElement(f.a,{sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none"}},"password"===i?c.a.createElement(x.a,{onClick:function(){return l("text")}}):c.a.createElement(w.a,{onClick:function(){return l("password")}})),c.a.createElement(E.a,{variant:"outlined",className:t.rightButton,sx:{boxShadow:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){var t="";y.a.fire({title:"Confirma tu contrase\xf1a",text:"Ingresa la contrase\xf1a de tu cuenta para generar el token:",showCancelButton:!0,html:'\n                        <input\n                          type="password"\n                          value=""\n                          class="swal2-input"\n                          id="password-input">',confirmButtonColor:"#3085d6",cancelButtonColor:"#aaa",confirmButtonText:"Generar",cancelButtonText:"Cancelar",didOpen:function(){y.a.getHtmlContainer().querySelector("#password-input").addEventListener("keyup",(function(e){t=e.target.value}))}}).then((function(a){a.isConfirmed&&e.callback({password:t}).then((function(t){y.a.fire("Token generado"),e.requestUser()}))}))}},"Generar"))},we=function(e){var t=xe(),a=Object(r.useState)(0),o=Object(n.a)(a,2),i=o[0],l=o[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){m.j().then((function(e){l(e.requests)})).catch((function(e){console.log(e)}))};return c.a.createElement(d.a,{className:t.sliderContainer},c.a.createElement(d.a,{className:t.slider},c.a.createElement(d.a,{className:t.anim,sx:{width:"".concat(i/2e3*100,"%")}})),c.a.createElement(f.a,{onClick:function(){s()},sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none"}},c.a.createElement(g.a,null)),c.a.createElement(d.a,{className:t.counter},i,"/2000"))},ke=function(e){var t,a,r=xe(),o=Object(ae.a)("profileView","profile"),i=Object(n.a)(o,2),u=i[0],f=i[1];return c.a.createElement(s.a,null,c.a.createElement(l.a,{userRoles:e.user.roles,list:function(){var t=[];return t.push({name:"Volver",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null)),callback:function(){e.history.push("/dashboard")}}),t.push({name:"Perfil",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(U.a,null)),action:"profile"===u?"new":"",callback:function(){f("profile")}}),t.push({name:"Mis favoritos",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(Z.a,null)),action:"favorites"===u?"new":"",callback:function(){f("favorites")}}),t.push({name:"Mis recortes",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(Q.a,null)),action:"snaps"===u?"new":"",callback:function(){f("snaps")}}),t.push({name:"Mis llaves de acceso",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(te.a,null)),action:"keys"===u?"new":"",callback:function(){f("keys")}}),(e.user.roles.includes("admin")||e.user.roles.includes("processing"))&&t.push({name:"Mis procesamientos",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,null)),action:"tasks"===u?"new":"",callback:function(){f("tasks")}}),e.user.roles.includes("admin")&&t.push({name:"Procesamientos autom\xe1ticos",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,null),c.a.createElement(K.a,null)),action:"autotasks"===u?"new":"",callback:function(){f("autotasks")}}),t}()}),c.a.createElement(d.a,{style:{display:"flex"}},"keys"===u&&c.a.createElement(W.BloqueContenido,{title:"Llaves de acceso a la API",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},e.user.roles.includes("admin")&&c.a.createElement(d.a,{className:r.item},c.a.createElement(d.a,null,c.a.createElement("h6",null,"Auth Header Token"),c.a.createElement("p",null,c.a.createElement("i",null,"Solo para administradores.")," Este token permite usar la API completa del aplicativo desde otras aplicaciones. Sirve para carga masiva de contenido usando el m\xf3dulo . El token es v\xe1lido por dos d\xedas o hasta generar uno nuevo."),c.a.createElement(Oe,{value:e.user.adminToken?e.user.adminToken:"",callback:m.d,requestUser:e.requestUser}))),e.user.roles.includes("admin")&&c.a.createElement(d.a,{className:r.item},c.a.createElement(d.a,null,c.a.createElement("h6",null,"Auth Header Token para los nodos de procesamiento"),c.a.createElement("p",null,c.a.createElement("i",null,"Solo para administradores.")," Este token sirve para conectar los nodos de procesamiento al nodo principal y habilita la limpieza del cache."),c.a.createElement(Oe,{value:e.user.nodeToken?e.user.nodeToken:"",callback:m.e,requestUser:e.requestUser}))),c.a.createElement(d.a,{className:r.item},c.a.createElement(d.a,null,c.a.createElement("h6",null,"Token para la API p\xfablica"),c.a.createElement("p",null,"Este token permite usar la API p\xfablica del aplicativo. Esta disponible para todos los usuarios y tiene un l\xedmite de 2000 peticiones a la semana. Es v\xe1lido hasta que se genere uno nuevo."),c.a.createElement(Oe,{value:(null===(t=e.user)||void 0===t?void 0:t.token)?e.user.token:"",callback:m.f,requestUser:e.requestUser}))),c.a.createElement(d.a,{className:r.item},c.a.createElement(d.a,null,c.a.createElement("h6",null,"Token para los tableros de visualizaci\xf3n"),c.a.createElement("p",null,"Este token permite conectar los tableros de visualizaci\xf3n con el aplicativo. Est\xe1 disponible para los usuarios con rol ",c.a.createElement("i",null,"visualizer"),". Puedes usar ",c.a.createElement("a",{href:"https://observablehq.com/framework/"},"Observable Framework")," para personalizar reportes con datos de tu archivo."),c.a.createElement(Oe,{value:(null===(a=e.user)||void 0===a?void 0:a.token)?e.user.token:"",callback:m.f,requestUser:e.requestUser}))),c.a.createElement(d.a,{className:r.item},c.a.createElement(d.a,{sx:{width:"100%"}},c.a.createElement("h6",null,"Cantidad de peticiones a la API esta semana"),c.a.createElement(we,null)))),"profile"===u&&c.a.createElement(W.BloqueContenido,{title:"Mi perfil",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},c.a.createElement(he,{user:e.user,requestUser:e.requestUser})),"favorites"===u&&c.a.createElement(W.BloqueContenido,{title:"Mis favoritos",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},c.a.createElement(de,{history:e.history})),"snaps"===u&&c.a.createElement(W.BloqueContenido,{title:"Mis recortes",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},c.a.createElement(je,{history:e.history})),"tasks"===u&&c.a.createElement(W.BloqueContenido,{title:"Procesamientos",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},c.a.createElement(D,{user:e.user.username})),"autotasks"===u&&c.a.createElement(W.BloqueContenido,{title:"Procesamientos",style:{maxWidth:850,height:"calc(100vh - 150px)",overflow:"auto"}},c.a.createElement(D,{user:"automatic"}))))};t.default=Object(o.b)((function(e){return{user:e.auth.user}}),i.a)(ke)},937:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"i",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return f}));var n=a(204),r=a(46);function c(e,t){var a="/resources/"+e;var c={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/resources",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/resources/tree",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t="/resources/"+e,a={method:"DELETE",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/resources/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(e,t){var a="/resources/"+e,c={method:"PUT",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default",body:t};return fetch(r.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),o="/resources/"+e+"/records",i={method:"POST",headers:c,mode:"cors",cache:"default",body:JSON.stringify({page:t,groupImages:a})};return fetch(r.e+o,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function m(e){var t={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/records",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function f(e){var t="/resources/"+e+"/imgs",a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}},938:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"r",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"p",(function(){return f})),a.d(t,"l",(function(){return p})),a.d(t,"o",(function(){return h})),a.d(t,"a",(function(){return b})),a.d(t,"n",(function(){return g})),a.d(t,"j",(function(){return v})),a.d(t,"k",(function(){return y})),a.d(t,"m",(function(){return E})),a.d(t,"e",(function(){return j})),a.d(t,"q",(function(){return x}));var n=a(204),r=a(46);function c(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"PUT",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/system",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/access-rights",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/roles",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/default-cataloging-type",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/plugins",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e){var t="/"+e+"/image",a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 404===e.status?Promise.reject(e):e.blob()}))}function m(e,t){var a="/"+e+"/settings/"+t,c={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function f(e,t,a){var c="/"+e+"/"+a,o={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+c,o).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function p(e,t,a){var c="/"+e+"/"+a,o={method:"POST",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default",body:t};return fetch(r.e+c,o).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function h(e,t){var a="/"+e+"/settings",c={method:"POST",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default",body:t};return fetch(r.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function b(e,t){var a="/"+e+"/bulk",c={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+a,c).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function g(e){var t="/system/plugins/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function v(e,t){var a="/tasks/"+e,c={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function y(e){var t="/tasks/total/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function E(e){var t="/tasks/total/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function j(e,t){var a="/"+e+"/filedownload/"+t,c={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+a,c).then((function(e){return 404===e.status||500===e.status||400===e.status||401===e.status?Promise.reject(e):e.blob()}))}function x(e){var t="/system/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 404===e.status||500===e.status||400===e.status||401===e.status?Promise.reject(e):e.json()}))}},939:function(e,t,a){"use strict";a.d(t,"h",(function(){return q})),a.d(t,"o",(function(){return D})),a.d(t,"j",(function(){return W})),a.d(t,"n",(function(){return V})),a.d(t,"l",(function(){return U})),a.d(t,"i",(function(){return G})),a.d(t,"g",(function(){return J})),a.d(t,"c",(function(){return K})),a.d(t,"e",(function(){return Q})),a.d(t,"f",(function(){return $})),a.d(t,"b",(function(){return Z})),a.d(t,"q",(function(){return ee})),a.d(t,"r",(function(){return ne})),a.d(t,"d",(function(){return ce})),a.d(t,"p",(function(){return oe})),a.d(t,"m",(function(){return le})),a.d(t,"k",(function(){return se})),a.d(t,"a",(function(){return ue}));var n=a(35),r=a(18),c=a(203),o=a(2),i=a.n(o),l=a(926),s=a(1139),u=a(843),d=a(1380),m=a(1388),f=a(1405),p=a(1404),h=a(1378),b=a(1381),g=a(1394),v=a(1390),y=a(1391),E=a(1030),j=a.n(E),x=a(948),O=a(447),w=a(1028),k=a.n(w),C=a(1029),T=a.n(C),S=a(1360),N=a(1377),z=a(1035),F=a(946),R=a(943),P=a(963),B=a(938),L=a(1027),A=a.n(L),M=a(46),H=(a(263),a(138)),_=a.n(H),I=Object(u.a)((function(e){return{scrollbar:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:"#56749a",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:"#56749a"},"&::-webkit-scrollbar-thumb:active":{background:"#56749a"},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},item:{display:"flex",paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,position:"relative","&.label-top":{paddingTop:20},"& .MuiAutocomplete-inputRoot":{"&::before":{display:"none"}},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(even)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666",display:"block","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"},"&.inline":{display:"inline-block"},"&.top":{position:"absolute",top:2,width:"100%"}},"& .instructions":{maxWidth:300},"& input":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}},"& .insideContent":{width:"calc(100% - 150px)","&.top":{width:"100%"}}},arrayContainer:{background:"#f5f5f5",padding:5,width:"100%",borderRadius:5,border:"2px dashed #f0f0f0"},card:{marginTop:5,marginBottom:5,"& .MuiCardHeader-root":{padding:"5px 10px",borderBottom:"1px solid #ececec","& .MuiCardHeader-content":{"& .MuiTypography-root":{fontSize:"14px",fontWeight:"normal",fontFamily:"Montserrat",color:"#333"}}}},cardContent:{display:"flex",alignContent:"flex-start",alignItems:"flex-start"},subItem:{marginTop:5,marginBottom:5,display:"flex",borderBottom:"1px dotted #ccc",paddingBottom:5},subItemOpts:{marginTop:0,marginBottom:0,display:"flex",paddingBottom:0,border:"none",alignItems:"center",paddingLeft:10,"& input":{border:"none",outline:"none",borderRadius:0,borderRight:"1px dashed #ececec",transition:"background 0.3s ease","&:focus":{border:"none",background:"#ececec",fontWeight:"bold",color:"#333"}}}}})),q=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(z.a,{onChange:function(t){return function(t){e.values&&e.change("files",[].concat(Object(c.a)(e.values.files.filter((function(t){return t.id!==e.id}))),Object(c.a)(t.map((function(t){return{file:t,id:e.id}})))))}(t)},dropzoneText:"Arrastre y suelte un archivo aqu\xed o haga clic para seleccionar un archivo",showFileNames:!0,useChipsForPreview:!0,getFileAddedMessage:function(e){return"Archivo ".concat(e," agregado")},getFileRemovedMessage:function(e){return"Archivo ".concat(e," eliminado")},Icon:S.a,maxFileSize:2e9,filesLimit:e.limit?e.limit:100,acceptedFiles:e.acceptedFiles?e.acceptedFiles:["image/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","video/*","audio/*"],name:e.id}))},D=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id,style:e.style},(e.label||e.name)&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement("input",{type:e.type?e.type:"text",name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:{width:"100%"},disabled:e.disabled}))},W=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),style:e.style},e.name&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement("input",{type:"number",name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:{width:"100%"},disabled:e.disabled,min:e.min,max:e.max}))},V=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),style:Object(r.a)({},e.rootStyle),key:e.id},(e.label||e.name)&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement("textarea",{name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:Object(r.a)({width:"100%"},e.style),className:t.scrollbar}))},U=function(e){var t=I();return i.a.createElement(l.a,{key:e.key,className:"".concat(t.item," ").concat(e.errors?"error":""),style:Object(r.a)({},e.rootStyle)},(e.name||e.label)&&i.a.createElement(l.a,null,i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),e.instructions&&i.a.createElement(l.a,{className:"instructions"},e.instructions)),i.a.createElement(d.a,{name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:Object(r.a)(Object(r.a)({},e.style),{},{width:"100%"})},i.a.createElement(m.a,{key:-1,value:"none"},"accessRights"===e.destiny?"P\xfablico":"Seleccione una opci\xf3n"),e.options.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.value},e.label)}))))},G=function(e){var t=i.a.useState([]),a=Object(n.a)(t,2),r=a[0],c=a[1];return i.a.useEffect((function(){e.options&&P.d(e.options).then((function(e){c(e.options)})).catch((function(e){console.log(e)}))}),[e.options]),i.a.createElement(U,{name:e.name,id:e.id,handleChange:e.handleChange,handleBlur:e.handleBlur,value:e.value,options:r?r.map((function(e){return{value:e.id,label:e.term}})):[],required:e.required,errors:e.errors,destiny:e.destiny,key:e.id})},J=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement(l.a,{style:{marginRight:10}},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),e.instructions&&i.a.createElement(l.a,{className:"instructions"},e.instructions)),i.a.createElement("input",{type:"checkbox",name:e.id,onChange:function(t){e.handleChange(t.target.checked)},onBlur:e.handleBlur,checked:e.value}))},Y=function(e){var t=I(),a=i.a.useState([]),r=Object(n.a)(a,2),c=r[0],o=r[1],u=i.a.useState([]),d=Object(n.a)(u,2),m=d[0],h=d[1],b=i.a.useState(!1),g=Object(n.a)(b,2),v=g[0],y=g[1],E=i.a.useState([]),j=Object(n.a)(E,2),w=(j[0],j[1]);return i.a.useEffect((function(){"select"===e.item.type||"select-multiple2"===e.item.type?P.c().then((function(e){o(e)})).catch((function(e){console.log(e)})):"relation"===e.item.type&&R.b().then((function(e){h(e)})).catch((function(e){console.log(e)})),e.item.accessRights&&e.item.accessRights.length>0&&y(!0)}),[e.item.type]),i.a.createElement(f.a,{className:t.card},i.a.createElement(s.a,{className:t.cardContent},i.a.createElement(l.a,{sx:{width:"calc(100% - 50px)"}},i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".label")},"Nombre"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".label"),type:"text",placeholder:"Nombre"})),!e.editing&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".type")},"Tipo"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".type"),as:"select"},i.a.createElement("option",{value:"text"},"Texto"),i.a.createElement("option",{value:"author"},"Autor"),i.a.createElement("option",{value:"simple-date"},"Fecha"),i.a.createElement("option",{value:"select"},"Lista de selecci\xf3n"),i.a.createElement("option",{value:"select-multiple2"},"Lista de selecci\xf3n m\xfaltiple"),i.a.createElement("option",{value:"file"},"Archivo"),i.a.createElement("option",{value:"text-area"},"\xc1rea de texto"),i.a.createElement("option",{value:"checkbox"},"Verdadero / Falso"),i.a.createElement("option",{value:"separator"},"Separador"),i.a.createElement("option",{value:"relation"},"Relaci\xf3n"),i.a.createElement("option",{value:"number"},"N\xfamero"))),"file"===e.item.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".filetag")},"Etiqueta para los archivos"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".filetag"),type:"text"})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".maxFiles")},"N\xfamero m\xe1ximo"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".maxFiles"),type:"number",min:1,max:1e3}))),"separator"!==e.item.type&&"file"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".destiny")},"Destino"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".destiny"),type:"text"})),("select"===e.item.type||"select-multiple2"===e.item.type)&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".list")},"Listado"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".list"),as:"select"},c.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.name)})))),"relation"===e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".relation_type")},"Tipo de contenido"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".relation_type"),as:"select"},m.map((function(e,t){return i.a.createElement("option",{key:t,value:e.slug},e.name)})))),"separator"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".required")},"Requerido"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".required"),type:"checkbox"})),"separator"!==e.item.type&&"file"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".setAccess")},"Niveles de acceso"),i.a.createElement(x.a,{type:"checkbox",onClick:function(){v&&w([]),y(!v)},checked:v})),v&&"separator"!==e.item.type&&"file"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement(x.a,{name:"fields.".concat(e.index,".accessRights"),as:"select",multiple:!0},e.accessRights.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.term)}))))),e.editing&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".destiny")},"Destino"),i.a.createElement("input",{type:"text",value:e.item.destiny,disabled:!0})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".type")},"Tipo"),i.a.createElement("input",{type:"text",value:e.item.type,disabled:!0})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".required")},"Requerido"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".required"),type:"checkbox",disabled:!0})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".setAccess")},"Niveles de acceso"),i.a.createElement(x.a,{name:"fields.".concat(e.index,".setAccess"),type:"checkbox",disabled:!0})))),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove(e.index)}},i.a.createElement(O.a,null)),e.index>0&&i.a.createElement(p.a,{onClick:function(){return e.moveUp(e.index)}},i.a.createElement(k.a,null)),e.index<e.fieldsLen-1&&i.a.createElement(p.a,{onClick:function(){return e.moveDown(e.index)}},i.a.createElement(T.a,null)))))},K=function(e){var t=I(),a=function(t){e.remove(t)},n=function(t){e.move(t,t-1)},r=function(t){e.move(t,t+1)};return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.map((function(t,c){return i.a.createElement(Y,{key:c,item:t,editing:e.editing,index:c,remove:a,moveUp:n,moveDown:r,fieldsLen:e.value.length,accessRights:e.accessRights})})),!e.editing&&i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){e.push({type:"text",destiny:"",required:!1})}},i.a.createElement(j.a,null)))))},X=function(e){var t=I();return i.a.createElement(f.a,{className:t.card},i.a.createElement(l.a,{sx:{width:"100%",padding:0}},i.a.createElement(l.a,{className:"".concat(t.subItemOpts," ots")},i.a.createElement(x.a,{name:"options.".concat(e.index,".term"),type:"text",placeholder:"T\xe9rmino",value:e.item.term}),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove()},size:"small"},i.a.createElement(O.a,null))))))},Q=function(e){var t=I(),a=function(t){e.move(t,t-1)},n=function(t){e.move(t,t+1)};return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.map((function(t,r){return i.a.createElement(X,{key:r,item:t,editing:e.editing,index:r,remove:function(){console.log(e.value),function(t){e.remove(t)}(r)},moveUp:a,moveDown:n,fieldsLen:e.value.length})})),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){e.push({term:""})}},i.a.createElement(j.a,null)))))},$=function(e){var t=i.a.useState([]),a=Object(n.a)(t,2),r=a[0],c=a[1];i.a.useEffect((function(){var t;(null===e||void 0===e||null===(t=e.field)||void 0===t?void 0:t.list)?P.d(e.field.list).then((function(e){e.options&&c(e.options)})).catch((function(e){console.log(e)})):e.options&&c(e.options)}),[e.field]);var o=I();return i.a.createElement(l.a,{className:"".concat(o.item," ").concat(e.errors?"error":""),key:e.id},e.name&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(h.a,{multiple:!0,id:e.id,name:e.name,options:r,isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(t,a){e.handleChange(a)},value:e.value,getOptionLabel:function(e){return e.term},style:{width:"100%"},renderInput:function(e){return i.a.createElement(b.a,Object.assign({},e,{variant:"standard"}))}}))},Z=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.labelAlign?"label-"+e.labelAlign:"")},i.a.createElement("label",{className:"".concat(e.labelAlign?e.labelAlign:""),htmlFor:e.id},e.label),i.a.createElement(l.a,{className:"insideContent ".concat(e.labelAlign?e.labelAlign:"")},"text"===e.type&&i.a.createElement(l.a,null,e.value),"simple-date"===e.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null,e.value)),"text-area"===e.type&&i.a.createElement(l.a,null,i.a.createElement(N.a,null,e.value)),("select"===e.type||"author"===e.type)&&i.a.createElement(l.a,null,e.value.map((function(e,t){return i.a.createElement(g.a,{key:t,label:e,style:{margin:5}})}))),"relation"===e.type&&i.a.createElement(l.a,null,e.value.map((function(t,a){return i.a.createElement(g.a,{key:a,label:t.name,style:{margin:5},icon:M.d.filter((function(e){return e.value===t.icon}))?M.d.filter((function(e){return e.value===t.icon}))[0].iconlight:i.a.createElement(i.a.Fragment,null),onClick:function(){e.redirect("/detail/".concat(t.id))}})})))))},ee=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement("label",{htmlFor:e.id},e.label),i.a.createElement(l.a,{style:{maxHeight:400,overflow:"auto"}},i.a.createElement(A.a,{src:e.data,collapsed:!0})))},te=function(e){var t=I(),a=function(t){e.value.includes(t.target.value)?e.handleChange(e.value.filter((function(e){return e!==t.target.value}))):e.handleChange([].concat(Object(c.a)(e.value),[t.target.value]))};return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement("label",{htmlFor:e.id},e.label),i.a.createElement(l.a,null,e.options.map((function(t,n){return i.a.createElement(l.a,{key:n},i.a.createElement("label",{className:"simple inline",htmlFor:"".concat(e.id,"_").concat(t.value)},t.label),i.a.createElement("input",{type:"checkbox",id:"".concat(e.id,"_").concat(t.value),onChange:a,onBlur:function(){},checked:e.value.includes(t.value),value:t.value}))}))))},ae=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement(l.a,{style:{marginRight:10}},i.a.createElement("label",{htmlFor:e.id},e.label),e.instructions&&i.a.createElement(l.a,{className:"instructions"},e.instructions)),i.a.createElement(l.a,null,i.a.createElement(v.a,{variant:"outlined",onClick:function(){_.a.fire({title:"\xbfEst\xe1s seguro?",text:"\xbfEst\xe1s seguro de que deseas realizar la acci\xf3n?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&Object(B.q)(e.value).then((function(e){_.a.fire({title:"\xa1Hecho!",text:e.msg,icon:"success",confirmButtonText:"Aceptar"})})).catch((function(e){console.log(e)}))}))}},e.btn_label)))},ne=function(e){var t=I();return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement("label",{htmlFor:e.id},e.label),i.a.createElement(l.a,null,e.data.map((function(t,a){return i.a.createElement(i.a.Fragment,null,"select"===t.type&&i.a.createElement(U,{name:t.label,id:a,value:e.values[t.id],options:e.options.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(a,n){e.setFieldValue(t.id,a.target.value)},handleBlur:function(){},instructions:t.instructions}),"checkbox"===t.type&&i.a.createElement(te,{label:t.label,id:a,value:e.values[t.id],options:e.options.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(a){e.setFieldValue(t.id,a)},handleBlur:function(){}}),"checkbox_single"===t.type&&i.a.createElement(J,{name:t.label,id:a,value:e.values[t.id],handleChange:function(a){e.setFieldValue(t.id,a)},instructions:t.instructions}),"button_single"===t.type&&i.a.createElement(ae,{label:t.label,id:a,instructions:t.instructions,btn_label:t.btn_label,value:t.value}))}))))},re=function(e){var t=I(),a=i.a.useState(e.value),r=Object(n.a)(a,2),c=r[0],o=r[1],s=i.a.useState(!1),u=Object(n.a)(s,2),d=u[0],m=u[1],h=i.a.useState(["",""]),b=Object(n.a)(h,2),g=b[0],v=b[1];return i.a.useEffect((function(){if(e.value){var t=e.value.split("|");t.length>1?(m(!0),v(t)):(t=e.value.split(",")).length>1&&(m(!1),v(t))}}),[]),i.a.useEffect((function(){e.setFieldValue(c)}),[c]),i.a.useEffect((function(){o("".concat(g[0]).concat(d?"|":",").concat(g[1]))}),[d,g]),i.a.createElement(i.a.Fragment,null,2===g.length&&i.a.createElement(f.a,{className:t.card},i.a.createElement(l.a,{sx:{width:"100%",padding:0}},i.a.createElement(l.a,{className:"".concat(t.subItemOpts," ots")},i.a.createElement(y.a,{checked:d,onClick:function(){m(!d)},size:"small"}),i.a.createElement(x.a,{type:"text",placeholder:"".concat(d?"Organizaci\xf3n":"Nombre(s)"),value:g[0],onChange:function(e){v([e.target.value.replace(",","").replace("|",""),g[1]]),o("".concat(e.target.value.replace(",","").replace("|","")).concat(d?"|":",").concat(g[0]))}}),i.a.createElement(x.a,{type:"text",placeholder:"".concat(d?"Siglas":"Apellidos"),value:g[1],onChange:function(e){v([g[0],e.target.value.replace(",","").replace("|","")]),o("".concat(g[0]).concat(d?"|":",").concat(e.target.value.replace(",","").replace("|","")))}}),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove()},size:"small"},i.a.createElement(O.a,null)))))))},ce=function(e){var t=I(),a=i.a.useState([]),r=Object(n.a)(a,2),o=(r[0],r[1]);return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.length>0&&i.a.createElement(i.a.Fragment,null,e.value.map((function(t,a){return i.a.createElement(re,{key:a,value:t,remove:function(){return function(t){e.remove(t)}(a)},setFieldValue:function(t){return function(t,a){var n=Object(c.a)(e.value);n[t]=a,o(n),e.setFieldValue(n)}(a,t)}})}))),!e.editing&&i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){e.push("")}},i.a.createElement(j.a,null)))))},oe=function(e){var t=I(),a=i.a.useState(null),r=Object(n.a)(a,2),o=r[0],s=r[1];return i.a.useEffect((function(){s(e.value)}),[e.value]),i.a.createElement(i.a.Fragment,null,o&&i.a.createElement(l.a,{key:e.key,className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.length>0&&i.a.createElement(i.a.Fragment,null,e.value.map((function(t,a){return i.a.createElement(ie,{value:t,key:a,index:a,fields:e.fields,remove:function(){return function(t){e.remove(t)}(a)},setFieldValue:function(t){return function(t,a){var n=Object(c.a)(o);n[t]=a,s(n),e.setFieldValue(n)}(a,t)}})}))),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){var t={};e.fields.map((function(e){t[e.id]=""})),e.push(t)}},i.a.createElement(j.a,null))))))},ie=function(e){var t=I(),a=i.a.useState(null),c=Object(n.a)(a,2),o=c[0],s=c[1];return i.a.useEffect((function(){o&&e.setFieldValue(o)}),[o]),i.a.createElement(i.a.Fragment,null,e.value&&i.a.createElement(f.a,{key:e.key,className:t.card},i.a.createElement(l.a,{sx:{width:"100%",padding:0}},i.a.createElement(l.a,{className:"".concat(t.subItemOpts," ots")},e.fields.map((function(t,a){return i.a.createElement(i.a.Fragment,null,"select"===t.type&&i.a.createElement(d.a,{name:t.id,onChange:function(e){var a=Object(r.a)({},o);a[t.id]=e.target.value,s(a)},value:e.value[t.id]?e.value[t.id]:"",style:{width:"100%"}},t.options.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.value},e.label)}))),"number"===t.type&&i.a.createElement(x.a,{name:t.id,type:"number",onChange:function(e){var a=Object(r.a)({},o);a[t.id]=e.target.value,s(a)},min:0,value:e.value[t.id]?parseInt(e.value[t.id]):0,style:{width:"100%"}}))})),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove()},size:"small"},i.a.createElement(O.a,null)))))))},le=function(e){var t=I(),a=i.a.useState([null,null,null]),r=Object(n.a)(a,2),c=r[0],o=r[1];return i.a.useEffect((function(){if(e.value){var t=new Date(e.value);o([t.getFullYear(),t.getMonth()+1,t.getDate()])}}),[]),i.a.useEffect((function(){if(c[0]){var t=0,a=1;c[1]&&(t=c[1]-1),c[2]&&(a=c[2]);var n=new Date(c[0],t,a);e.setFieldValue(n)}else e.setFieldValue(null)}),[c]),i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement(x.a,{type:"number",step:"1",min:"1900",max:"3000",placeholder:"A\xf1o",value:c[0],onChange:function(e){o([e.target.value,c[1],c[2]])}}),i.a.createElement(x.a,{type:"number",placeholder:"Mes",min:"1",max:"12",value:c[1],onChange:function(e){o([c[0],e.target.value,c[2]])}}),i.a.createElement(x.a,{type:"number",placeholder:"Dia",min:"1",max:"31",value:c[2],onChange:function(e){o([c[0],c[1],e.target.value])}})))},se=function(e){var t=I(),a=i.a.useState([]),r=Object(n.a)(a,2),o=r[0],s=r[1],u=i.a.useState(null),d=Object(n.a)(u,2),m=d[0],f=d[1],p=i.a.useState([]),h=Object(n.a)(p,2),b=h[0];h[1];return i.a.useEffect((function(){e.value&&s(e.value),e.postType&&R.c(e.postType.relation_type).then((function(e){e.parentsTypes.length>0?f([].concat(Object(c.a)(e.parentsTypes),[{id:e.id,name:e.name,slug:e.slug,direct:!0}])):f([{id:e.id,name:e.name,slug:e.slug,direct:!0}])})).catch((function(e){console.log(e)}))}),[]),i.a.useEffect((function(){e.setFieldValue(o)}),[o]),i.a.createElement(i.a.Fragment,null,o&&m&&i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"flex-start",maxHeight:300,overflow:"auto",width:"100%"}},i.a.createElement(F.a,{parents:m,setFondo:function(e,t){o.length>0?0===o.filter((function(t){return t.id===e.id})).length?s([].concat(Object(c.a)(o),[e])):s(o.filter((function(t){return t.id!==e.id}))):s([].concat(Object(c.a)(o),[e]))},activeTypes:m.map((function(t){return t.direct=!1,t.slug===e.postType.relation_type&&(t.direct=!0),t})),childrenEditing:!0,selected:o||[],path:b}))))},ue=function(e){var t=i.a.useState(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return i.a.useEffect((function(){if(e.condition){e.change(e.id,null);var t=e.options.filter((function(t){return t.value===e.conditionValue}));t.length>0?c(t[0].fields):c(null)}}),[e.condition,e.conditionValue]),i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(i.a.Fragment,null,r.map((function(t,a){return i.a.createElement(i.a.Fragment,null,"multiple-checkbox"===t.type&&i.a.createElement(te,{label:e.label,key:a,value:e.value?e.value:[],options:t.options,handleChange:function(t){e.change(e.id,t)}}))}))))}},940:function(e,t,a){"use strict";a.d(t,"b",(function(){return u}));var n=a(2),r=a.n(n),c=a(843),o=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{viewBox:"0 0 53.2 53.2",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fill:"#a3d4ff",d:"M33.3 7.7v8.4h8.4z"}),r.a.createElement("path",{fill:"#2a5082",d:"M39.8 46.9h-27c-1.5 0-2.8-1.3-2.8-2.8V9.6c0-1.5 1.3-2.8 2.8-2.8h21.8l8 8v29.3c0 1.5-1.2 2.8-2.8 2.8zm-27-38.2c-.5 0-.9.4-.9.9v34.5c0 .5.4.9.9.9h27c.5 0 .9-.4.9-.9V15.6l-6.9-6.9h-21z"}),r.a.createElement("path",{fill:"#2a5082",d:"M38.9 17.1h-6.5v-6.6h1.9v4.7h4.6zM47.3 30.1h1.9V32h-1.9zM47.3 33.8h1.9v1.9h-1.9zM43.6 53.4H32.4v-1.9h11.2c2.1 0 3.7-1.7 3.7-3.7V37.6h1.9v10.2c0 3.1-2.5 5.6-5.6 5.6zM24.9 51.5h1.9v1.9h-1.9zM21.2 51.5h1.9v1.9h-1.9zM28.7 51.5h1.9v1.9h-1.9zM9.1 51.5c-2.1 0-3.7-1.7-3.7-3.7V31.4l2.1 2.1 1.3-1.3-4.4-4.4L0 32.2l1.3 1.3 2.1-2.1v16.4c0 3.1 2.5 5.6 5.6 5.6h10.2v-1.9H9.1zM3.5 24.5h1.9v1.9H3.5zM3.5 20.8h1.9v1.9H3.5zM51.3 22.9L49.2 25V5.9c0-3.1-2.5-5.6-5.6-5.6H32.4v1.9h11.2c2.1 0 3.7 1.7 3.7 3.7v19.2L45.2 23l-1.3 1.3 4.4 4.4 4.4-4.4-1.4-1.4zM5.4 18.9H3.5v-13C3.5 2.8 6 .3 9.1.3h10.2v1.9H9.1C7 2.2 5.4 3.8 5.4 5.9v13zM24.9.3h1.9v1.9h-1.9zM21.2.3h1.9v1.9h-1.9zM28.7.3h1.9v1.9h-1.9z"})))},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1",x:"0",y:"0",version:"1.1",viewBox:"0 0 53.2 53.2"},r.a.createElement("defs",null),r.a.createElement("path",{d:"M33.3 50.2h-3.6l-3-4.6c-.6-.9-1.6-1.4-2.6-1.4h-9.9c-1.1 0-2.1.6-2.7 1.5l-2.8 4.6H5.1v2.4l28.4-.2-.2-2.3zm-19.9-3.3c.1-.2.4-.4.7-.4H24c.3 0 .5.1.7.4l2.1 3.3-15.7.1 2.3-3.4z",class:"st0"}),r.a.createElement("path",{fill:"#a3d4ff",d:"M20.1 17.1L32.8 6.4l6.4 7.5L26 24.8z"}),r.a.createElement("path",{d:"M52.2 37.2L36.1 17.5l3-2.4.1.1 4.8-2c.9-.4 1.6-1.2 1.8-2.1.2-1 0-2-.6-2.7l-5.8-7C38.8.7 37.9.3 36.9.3s-1.8.5-2.4 1.3l-3.1 4.1.2.2-11.4 9.5-.3-.4-4.7 2c-.9.4-1.5 1.1-1.8 2.1-.2.9-.1 1.9.5 2.7l5.5 7.3c.6.8 1.5 1.2 2.5 1.2s1.9-.5 2.5-1.3l3-4.2-.2-.2 2.7-2.1 16.3 19.7c.6.7 1.4 1.1 2.2 1.1h.2c.8 0 1.6-.3 2.2-.8l.9-.8c1.4-1.2 1.5-3.1.5-4.5zM36.4 2.9c.2-.3.4-.3.6-.3.2 0 .4 0 .6.3l5.8 7c.2.3.2.5.1.7s-.1.4-.4.5l-3.2 1.3-5.5-6.8 2-2.7zM22.5 27.6c-.1.2-.4.3-.6.3-.2 0-.4 0-.6-.3l-5.5-7.3c-.2-.3-.2-.5-.1-.6 0-.1.1-.4.4-.5l3-1.3 5.4 6.9-2 2.8zM32.6 8.1l4.6 5.5-11.2 9-4.3-5.4 10.9-9.1zm17.6 31.8l-.9.8c-.2.2-.4.2-.6.2-.2 0-.4-.1-.6-.3L32.6 21.9 35 20l15.3 18.8c.3.3.3.8-.1 1.1z",class:"st0"})))},l=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1",x:"0",y:"0",version:"1.1",viewBox:"0 0 53.2 53.2"},r.a.createElement("defs",null),r.a.createElement("path",{className:"back",d:"M11.3,46.4c0,2.4,1.9,4.3,4.3,4.3h23.3c-2.4,0-4.3-1.9-4.3-4.3H11.3z"}),r.a.createElement("path",{className:"back",d:"M8.7,41.6l-2.5,7.7l-2.6-7.8v-31c0-1,0.8-1.7,1.7-1.7H7c1,0,1.7,0.8,1.7,1.7V41.6z"}),r.a.createElement("line",{className:"front",fill:"currentColor",x1:"3.6",y1:"40.7",x2:"8.7",y2:"40.7"}),r.a.createElement("path",{className:"front",fill:"currentColor",d:"M11.3,9.7v2.6H9.6v-1.7c0-0.7-0.3-1.4-0.8-1.8V6.2c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6v2.5 c-0.5,0.5-0.9,1.2-0.9,1.9v31L6.2,52l3.4-10.2V14h1.7v8.6H13V9.7H11.3z M4.4,10.5c0-0.4,0.2-0.7,0.5-0.8h2.4 c0.3,0.1,0.5,0.4,0.5,0.8v1.8H4.4V10.5z M5.3,6.2c0-0.5,0.3-0.9,0.8-0.9S7,5.7,7,6.2v1.7H5.3V6.2z M6.1,46.6l-1.7-5.1h3.3L6.1,46.6z M7.8,39.8H4.4V14h3.4V39.8z"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"19.1",className:"front",fill:"currentColor",width:"15.5",height:"1.7"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"22.6",className:"front",fill:"currentColor",width:"15.5",height:"1.7"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"26",className:"front",fill:"currentColor",width:"15.5",height:"1.7"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"29.5",className:"front",fill:"currentColor",width:"9.5",height:"1.7"}))),r.a.createElement("path",{className:"front",fill:"currentColor",d:"M47.6,10.6L47.6,10.6l-0.1-0.1H20.8c-2.9,0-5.2,2.3-5.2,5.2v30.1h-5.2v0.9c0,2.9,2.3,5.2,5.2,5.2h23.2h0.1 c2.9,0,5.2-2.3,5.2-5.2v-31c0-1.9,1.5-3.4,3.4-3.4h0.1c1.9,0,3.4,1.5,3.4,3.4h-5.2v1.7h6.9h0.1v-1.6C52.8,12.9,50.5,10.6,47.6,10.6 z M17.7,50.2h-2.1c-1.6,0-2.9-1.1-3.3-2.6h21.5c0.1,1,0.6,1.9,1.2,2.6H17.7z M42.4,15.8v31c0,1.9-1.5,3.4-3.4,3.4h-0.2v-0.1 c-1.9,0-3.4-1.5-3.4-3.4v-0.9h-18v-30c0-1.9,1.5-3.4,3.4-3.4h22.9C42.9,13.3,42.4,14.5,42.4,15.8z"}))))},s=a(967),u=Object(c.a)((function(e){return{root:{position:"fixed",width:"54px",background:"rgba(42, 80, 130, 0.8)",borderRadius:"10px",top:"50%",transform:"translateY(-50%)",left:"10px",zIndex:15},item:{cursor:"pointer",position:"relative",margin:2,"& .tooltipUi":{position:"absolute",top:"50%",transform:"translate(calc(50px + 5px), -50%)",background:"rgba(20, 20, 20, 0.9)",padding:"1em",color:"white",borderRadius:"10px",opacity:0,zIndex:-1,visibility:"hidden",transition:"all 0.25s ease"},"& .icon":{width:"50px",height:"50px",position:"relative",borderRadius:"10px",background:"rgba(42, 80, 130, 1)",display:"flex",justifyContent:"center",alignItems:"center","&::before":{content:'""',position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",transform:"scale(0.8)",opacity:0,transition:"all 0.25s ease"},"& svg":{position:"relative",width:"20px","& path, & circle, & rect":{fill:"rgba(255, 255, 255, 0.8)"}}},"&.light .icon":{background:"rgba(42, 80, 130, 0.1)","& svg":{"& path, & circle, & rect":{fill:"rgba(100,100,100, 1)"}}},"&.top .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&:hover":{"& .icon":{"&::before":{transform:"scale(1)",opacity:1}},"& .tooltipUi":{transform:"translate(calc(50px + 10px), -50%)",opacity:1,zIndex:20,visibility:"visible"}},"&.top:hover .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&.edit .icon":{background:"#ed9f31"},"&.new .icon":{background:"#59b359"},"&.delete .icon":{background:"#d34a46"}}}})),d=[{name:"Patrones de texto",icon:r.a.createElement(o,null)},{name:"Informaci\xf3n de fichas",icon:r.a.createElement(l,null)},{name:"Resultados",icon:r.a.createElement(i,null)}];t.a=function(e){var t=u(),a=e.list?e.list:d;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:t.root},a.map((function(e,a){return r.a.createElement(s.a,{className:"".concat(t.item," ").concat(e.action?e.action:""),title:e.name,key:a,onClick:e.callback?e.callback:function(){}},e.icon)}))))}},941:function(e,t,a){"use strict";var n=a(2),r=a.n(n);t.a=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{style:{marginLeft:"70px",marginTop:"10px",marginRight:"10px",position:"relative",width:"calc(100% - 70px)"}},t))}},943:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return u}));var n=a(204),r=a(46);function c(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+"/types",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/types",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function i(e){var t="/types/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e,t){var a="/types/"+e,c={method:"PUT",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/types/"+e,a={method:"DELETE",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function u(e){var t="/types/info/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}},944:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return f}));var n=a(2),r=a.n(n),c=a(488),o=a(1406),i=a(202),l=a(1062),s=a(926),u=a(945),d=a.n(u),m=Object(c.a)(o.a)((function(e){var t=e.theme;return{backgroundColor:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[200],height:t.spacing(3),color:t.palette.text.primary,fontWeight:t.typography.fontWeightRegular,border:"1px solid #dcdcdc",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:300,"& svg":{width:15,marginLeft:10,marginRight:5}}})),f=Object(c.a)(o.a)((function(e){var t=e.theme;return{backgroundColor:"rgb(85 116 154)",height:t.spacing(3),color:"white",fontWeight:t.typography.fontWeightRegular,border:"1px solid #dcdcdc",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:300,"& svg":{width:15,marginLeft:10,marginRight:5},"& path":{fill:"#fff"}}}));t.c=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"body2"},e.selectedType.description),r.a.createElement(l.a,{separator:r.a.createElement(d.a,{fontSize:"small",style:{margin:0}})},e.selectedType.parentsTypes.reverse().map((function(e,t){return r.a.createElement(m,{key:t,label:e.name})})),r.a.createElement(i.a,{variant:"body2",color:"text.primary"},e.selectedType.name)),e.selectedType.hierarchical&&r.a.createElement(s.a,null,r.a.createElement(i.a,{variant:"body2",color:"text.primary"},"Este tipo de contenido puede ser jer\xe1rquico entre si")),e.selectedType.metadata&&r.a.createElement(s.a,null,r.a.createElement(i.a,{variant:"body2",color:"text.primary"},"La estructura de metadatos es: ",e.selectedType.metadata.name)))}},946:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(35),r=a(2),c=a.n(r),o=a(926),i=a(843),l=a(849),s=a(203),u=a(845),d=a(1389),m=a(848),f=a(847),p=a(846),h=a(340),b=a.n(h),g=a(1025),v=a.n(g),y=a(341),E=a.n(y),j=a(1026),x=a.n(j),O=a(937),w=a(1024),k=a.n(w),C=a(46),T=a(263),S=Object(i.a)((function(e){return{check:{padding:0},icon:{marginLeft:e.spacing(2),marginRight:e.spacing(1),minWidth:"auto","& path":{fill:"#56749a"}},text:{"& span":{display:"inline-block",padding:"0 10px",fontSize:"14px",transition:"all 0.3s ease-in-out"},"&.selected span":{background:"#c5cfdc",borderRadius:"5px",color:"#375374"}}}})),N=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],i=a[1],l=S(),s=Object(r.useState)(!1),m=Object(n.a)(s,2),h=m[0],b=m[1];Object(r.useEffect)((function(){if(Object(T.isArray)(e.path)){var t=e.path.find((function(t){return!!t&&t.id===e.id}));b(!!t)}}),[e.path]),Object(r.useEffect)((function(){if(e.selected)if(e.selected.length>0){var t=e.selected.find((function(t){return!!t&&t.id===e.id}));i(!!t)}else i(!1);else i(!1)}),[e.selected]);var g=function(){e.setFondo(e.original,e.parent)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{className:e.class},e.activeTypes.filter((function(t){return t.slug===e.original.post_type}))[0].direct&&c.a.createElement(d.a,{checked:o,className:l.check,edge:"start",color:"primary",onClick:function(){g()}}),c.a.createElement(p.a,{className:l.icon},C.d.filter((function(t){return t.value===e.original.icon}))?C.d.filter((function(t){return t.value===e.original.icon}))[0].iconlight:c.a.createElement(k.a,null)),c.a.createElement(f.a,{style:{cursor:"pointer"},onClick:function(){g()},primary:e.original.name,className:"".concat(l.text," ").concat(h||o?"selected":"")})))},z=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(4)},check:{padding:0},accordeons:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},listado:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),maxWidth:600},nested:{paddingLeft:e.spacing(3)+"px !important",marginLeft:e.spacing(1),borderLeft:"1px solid #dcdcdc"},icon:{marginLeft:e.spacing(2),marginRight:e.spacing(1),minWidth:"auto","&.loading":{"-webkit-animation":"rotate-center 1s linear infinite both",animation:"rotate-center 1s linear infinite both"},"& path":{fill:"#56749a"}},iconExpand:{marginRight:e.spacing(1),minWidth:"auto","& path":{fill:"#999"}},text:{"& span":{display:"inline-block",padding:"0 10px",transition:"all 0.3s ease-in-out",fontSize:"14px"},"&.selected span":{background:"#c5cfdc",borderRadius:"5px",color:"#375374"}}}})),F=function e(t){var a=z(),o=Object(r.useState)(!1),i=Object(n.a)(o,2),h=i[0],g=i[1],y=Object(r.useState)(!1),j=Object(n.a)(y,2),w=j[0],k=j[1],S=Object(r.useState)(!1),F=Object(n.a)(S,2),R=F[0],P=F[1],B=Object(r.useState)(!1),L=Object(n.a)(B,2),A=L[0],M=L[1],H=Object(r.useState)([]),_=Object(n.a)(H,2),I=_[0],q=_[1],D=function(){g(!h)},W=function(){return[].concat(Object(s.a)(t.parent),[{id:t.id,name:t.name}])};return Object(r.useEffect)((function(){0===I.length&&h&&(M(!0),O.g(JSON.stringify({root:t.id,tree:t.activeTypes})).then((function(e){q(e),M(!1)})))}),[h]),Object(r.useEffect)((function(){if(M(!1),Object(T.isArray)(t.path)){var e=t.path.find((function(e){return!!e&&e.id===t.id}));P(!!e),g(!!e)}}),[t.path]),Object(r.useEffect)((function(){t.selected?t.selected.length>0&&t.selected.filter((function(e){return e.id===t.original.id})).length>0?k(!0):k(!1):k(!1)}),[t.selected]),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{className:t.class},t.activeTypes.filter((function(e){return e.slug===t.original.post_type}))[0].direct&&c.a.createElement(d.a,{checked:w,color:"primary",edge:"start",className:a.check,onClick:function(){t.setFondo(t.original,t.parent)}}),A?c.a.createElement(p.a,{className:"loading ".concat(a.icon)},c.a.createElement(x.a,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{className:a.icon},C.d.filter((function(e){return e.value===t.original.icon}))?C.d.filter((function(e){return e.value===t.original.icon}))[0].icon:c.a.createElement(v.a,null))),h&&!A?c.a.createElement(b.a,{style:{cursor:"pointer"},onClick:D,className:a.iconExpand}):c.a.createElement(c.a.Fragment,null,A?c.a.createElement(E.a,{className:a.iconExpand}):c.a.createElement(E.a,{style:{cursor:"pointer"},onClick:D,className:a.iconExpand})),c.a.createElement(f.a,{style:{cursor:"pointer"},className:"".concat(a.text," ").concat(R||w?"selected":""),primary:t.original.name,onClick:function(){t.setFondo(t.original,t.parent)}})),c.a.createElement(m.a,{in:h,timeout:"auto",unmountOnExit:!0},c.a.createElement(l.a,{component:"div",disablePadding:!0,className:t.class},I.map((function(n){return!0!==n.children?c.a.createElement(c.a.Fragment,null,c.a.createElement(N,{name:n.text,original:n,class:"".concat(t.class," ").concat(a.nested),setFondo:t.setFondo,fondo:t.fondo,id:n.id,parent:null!==t.parent?W():[{id:t.id,name:t.name}],path:t.path,selected:t.selected,activeTypes:t.activeTypes})):c.a.createElement(c.a.Fragment,null,c.a.createElement(e,{name:n.text,class:"".concat(a.nested," ").concat(t.class),children:n.children,original:n,id:n.id,path:t.path,setFondo:t.setFondo,fondo:t.fondo,parent:null!==t.parent?W():[{id:t.id,name:t.name}],activeTypes:t.activeTypes,selected:t.selected}))})))))},R=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(4)},tabs:{},accordeons:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},listado:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),maxWidth:600},nested:{paddingLeft:e.spacing(3),marginLeft:e.spacing(3),borderLeft:"1px solid #dcdcdc"},item:{padding:1}}})),P=function(e){var t=R();return c.a.createElement(o.a,{className:t.listado},c.a.createElement(l.a,{disablePadding:!0,component:"nav","aria-labelledby":"nested-list-subheader"},e.root.map((function(a){return!0===a.children?c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{name:"".concat(a.text),children:a.children,id:a.id,original:a,setFondo:e.setFondo,setLoading:e.setLoading,fondo:e.fondo,class:t.item,parent:null,path:e.path,activeTypes:e.activeTypes,selected:e.selected})):c.a.createElement(c.a.Fragment,null,c.a.createElement(N,{id:a.id,name:a.text,original:a,setFondo:e.setFondo,fondo:e.fondo,parent:null,path:e.path,class:t.item,selected:e.selected,activeTypes:e.activeTypes}))}))))},B=a(951),L=function(e){var t=Object(r.useState)(0),a=Object(n.a)(t,2),o=(a[0],a[1],Object(r.useState)([])),i=Object(n.a)(o,2),l=i[0],s=i[1];return Object(r.useEffect)((function(){var t,a,n={root:e.root?e.root:"all",tree:e.parents};e.parents.length>0&&((null===(t=e.filters)||void 0===t?void 0:t.treeKeyword)&&""!==(null===(a=e.filters)||void 0===a?void 0:a.treeKeyword)?(n.keyword=e.filters.treeKeyword,Object(B.b)(JSON.stringify(n)).then((function(e){s(e)}))):Object(O.g)(JSON.stringify(n)).then((function(e){s(e)})))}),[e.parents,e.filters]),c.a.createElement("div",{style:{marginTop:10}},c.a.createElement(P,{root:l,path:e.path,selected:e.selected,setFondo:e.setFondo,activeTypes:e.activeTypes,childrenEditing:e.childrenEditing,setPath:e.setPath}))};t.b=L},947:function(e,t,a){"use strict";var n=a(35),r=a(16),c=a(2),o=a.n(c),i=a(843),l=a(930),s=a(1087),u=a(1404),d=a(1394),m=a(450),f=a(1010),p=a.n(f),h=a(1008),b=a.n(h),g=a(1009),v=a.n(g),y=Object(i.a)((function(e){return{columnas:{display:"flex",height:"calc(100vh - 150px)"},searchContainer:Object(r.a)(Object(r.a)({backgroundColor:"rgba(25,68,124,0.6)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255,255,255,0.1)",padding:e.spacing(1),display:"flex",position:"relative",alignItems:"center",minWidth:350,borderRadius:5},e.breakpoints.down("md"),{minWidth:"auto"}),"& input",{color:"#fff"}),searchContainerLight:Object(r.a)(Object(r.a)({backgroundColor:"rgb(115 141 175 / 23%)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(255,255,255,0.1)",padding:e.spacing(1),display:"flex",position:"relative",alignItems:"center",minWidth:350,color:"#rgba(25,68,124,0.6)",borderRadius:5},e.breakpoints.down("md"),{minWidth:"auto"}),"& input",{color:"rgba(25,68,124,1)"}),searchInput:Object(r.a)({width:"100%",color:"white",fontWeight:"bold"},e.breakpoints.down("md"),{padding:0}),SearchIcon:{marginRight:"2%",color:"#fff","& path":{fill:"#fff"}},SearchIconLight:{marginRight:"2%",color:"#rgba(25,68,124,0.6)","& path":{fill:"#rgba(25,68,124,0.6)"}},tableRow:{width:"100%",display:"flex",alignItems:"center",alignContent:"stretch","&:nth-child(even)":{backgroundColor:"#ececec"}},tableCell:{width:"25%",padding:10,borderRight:"1px solid #ccc"},accessLevel:{width:30,height:30,textAlign:"center",lineHeight:"30px",borderRadius:"50%",display:"inline-block",backgroundColor:"#a7b7cb",color:"#fff","&.level_3":{backgroundColor:"#f7b500"},"&.level_2":{backgroundColor:"#eda73e"},"&.level_1":{backgroundColor:"#ed6e3e"}},help:{position:"absolute",top:85,right:40,maxWidth:700,width:"calc(100% - 440px)",height:"calc(100% - 100px)",backgroundColor:"rgb(114 141 174 / 82%)",zIndex:1,borderRadius:15,backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff","& .txt":{maxWidth:650,padding:20,"& p":{borderLeft:"3px solid #fff",borderTop:"1px dashed #fff",paddingTop:10,paddingLeft:10}},"& .box":{backgroundColor:"rgba(255,255,255,0.65)",paddingLeft:20,paddingRight:20,borderRadius:15,marginRight:5,marginLeft:5,color:"#333"},"& .bold":{fontWeight:"bold",color:"#2c3e50",marginRight:5,marginLeft:5}}}}));t.a=function(e){var t=y(),a=(e.onSearchSubmit,Object(c.useRef)(null)),r=o.a.useState(""),i=Object(n.a)(r,2),f=i[0],h=i[1];return o.a.createElement(l.a,{style:{position:"sticky",top:45,zIndex:1}},o.a.createElement("form",{className:"".concat("light"===e.variant?t.searchContainerLight:t.searchContainer),onSubmit:function(t){t.preventDefault(),e.onSearchSubmit(f)}},o.a.createElement(m.a,{className:"".concat("light"!==e.variant?t.SearchIcon:t.SearchIconLight)}),o.a.createElement(s.c,{className:t.searchInput,placeholder:"Buscar palabra clave",ref:a,inputProps:{maxLength:140},value:f,onChange:function(t){h(t.target.value),""===t.target.value&&e.onSearchSubmit("")}}),""!==f&&o.a.createElement(u.a,{onClick:function(){h(""),e.onSearchSubmit("")}},o.a.createElement(b.a,{className:"".concat("light"!==e.variant?t.SearchIcon:t.SearchIconLight)})),"light"!==e.variant&&o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{size:"small",sx:{backgroundColor:"#f5f5f5",color:"light"===e.variant?"#333":"#2a5082",fontWeight:"bold"},label:e.total>=1?"".concat(e.total," resultados"):"No hay resultados"}),o.a.createElement(u.a,null,o.a.createElement(v.a,{className:"".concat("light"!==e.variant?t.SearchIcon:t.SearchIconLight)})),o.a.createElement(u.a,null,o.a.createElement(p.a,{className:"".concat("light"!==e.variant?t.SearchIcon:t.SearchIconLight)})))))}},951:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o}));var n=a(46),r=a(204);function c(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:Object(r.a)()}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/search",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:Object(r.a)()}),mode:"cors",cache:"default",body:e};return fetch(n.e+"/search/tree",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},953:function(e,t,a){"use strict";a.d(t,"k",(function(){return c})),a.d(t,"l",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return p})),a.d(t,"i",(function(){return h})),a.d(t,"j",(function(){return b}));a(997);var n=a(46),r=a(204);function c(e){var t={method:"PUT",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.e+"/users/update",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"PUT",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.e+"/users/update-me",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.e+"/users/register",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t="/users/"+e,a={method:"GET",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(n.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(n.e+"/users",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function u(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function d(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/admin-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function m(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/node-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function f(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function p(e){var t={method:"DELETE",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function h(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(n.e+"/users/favorites_list",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function b(){var e={method:"GET",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default"};return fetch(n.e+"/users/requests",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},954:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(35),r=a(2),c=function(e,t){var a,c=r.useState(null!==(a=JSON.parse(localStorage.getItem(e)))&&void 0!==a?a:t),o=Object(n.a)(c,2),i=o[0],l=o[1];return r.useEffect((function(){localStorage.setItem(e,JSON.stringify(i))}),[i,e]),[i,l]}},956:function(e,t,a){"use strict";var n=a(18),r=a(35),c=a(2),o=a.n(c),i=a(852),l=a(962),s=a(1394),u=a(1402),d=a(937),m=a(951),f=a(138),p=a.n(f),h=a(36),b=a(955),g=a.n(b),v=a(942),y=a.n(v),E=a(979),j=a.n(E),x=a(960),O=a.n(x),w=a(957),k=a(958),C=a(1362),T=a(968),S=a(959),N=a(336),z=a.n(N),F=a(337),R=Object(i.a)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"30px !important",height:"30px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}},chip_style:{margin:"1px 2px !important",backgroundColor:"rgb(115 141 175 / 10%) !important",color:"rgba(42, 80, 130, .6) !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:"rgba(42, 80, 130, .6) !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:"rgba(42, 80, 130, .6) !important",color:"#fff !important","& path":{fill:"#fff !important"}}},access_chip:{backgroundColor:"rgba(42, 80, 130, .15) !important",border:"1px solid rgba(42, 80, 130, .5) !important",color:"rgba(42, 80, 130, .9) !important"}}}));t.a=function(e){var t=R(),a=Object(c.useState)([]),i=Object(r.a)(a,2),f=i[0],b=i[1],v=Object(c.useState)(0),E=Object(r.a)(v,2),x=E[0],N=E[1],P=Object(c.useState)(0),B=Object(r.a)(P,2),L=B[0],A=B[1],M=Object(h.k)(),H=Object(c.useState)(!1),_=Object(r.a)(H,2),I=_[0],q=_[1],D=Object(c.useState)(!1),W=Object(r.a)(D,2),V=W[0],U=W[1];Object(c.useEffect)((function(){var t=Object(n.a)({},e.filters);t.page=x,e.parent&&(t.parents||(t.parents={id:e.parent._id,post_type:e.parent.post_type})),e.viewDrafts?t.status="draft":t.status="published",t.post_type=e.selectedType.slug,b([]),q(!0),t.keyword?m.a(t).then((function(t){b(t.resources),q(!1),t.resources.length>0?(A(t.total),e.parentTotal(t.total)):(A(0),e.parentTotal&&e.parentTotal(0))})):d.b(e.selectedType.slug,JSON.stringify(t)).then((function(t){b(t.resources),q(!1),t.resources.length>0&&(A(t.total),e.parentTotal&&e.parentTotal(t.total))}))}),[e.selectedType,e.filters,x,e.viewDrafts]),Object(c.useEffect)((function(){N(0)}),[e.selectedType,e.filters]);return o.a.createElement(C.a,{backend:T.a},o.a.createElement(w.a,{onDrop:function(e,t){return console.log(e,t)},onDragStart:function(){console.log("start")}},I&&o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},o.a.createElement(z.a,{options:{loop:!0,autoplay:!0,animationData:F,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:100,width:100})),0===f.length&&!I&&o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},o.a.createElement("h3",null,"No se encontraron resultados")),f.length>0&&!I&&o.a.createElement(l.a,{pagination:!0,resources:f,page:x,setPage:N,total:L,type:e.type,selectedResources:e.selectedResources,perpage:20,handleClick:e.handleClick,setSelected:e.setSelected,style:{position:"absolute"},columns:[{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:"T\xedtulo"},{destiny:"accessRights",label:"Derechos de acceso"}],columnSolver:function(a,n){return o.a.createElement(o.a.Fragment,null,"metadata.firstLevel.title"===n.destiny&&o.a.createElement("span",null,a.metadata.firstLevel.title),"accessRights"===n.destiny&&o.a.createElement(o.a.Fragment,null,a.accessRights&&o.a.createElement(s.a,{size:"small",label:a.accessRights,className:t.access_chip})),""===n.destiny&&o.a.createElement(u.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"}},o.a.createElement(s.a,{label:"",size:"small",icon:o.a.createElement(y.a,null),onClick:function(){return t=a.id,void("users"===e.selectedType?M.push("/admin/users/edit/".concat(t)):M.push("/cataloging/".concat(e.selectedType.slug,"/edit/").concat(t)));var t},className:t.chip_style}),o.a.createElement(s.a,{label:"",size:"small",icon:o.a.createElement(g.a,null),onClick:function(){return e=a.id,void p.a.fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esta acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&d.a(e).then((function(e){p.a.fire({title:"Eliminado",text:"El recurso ha sido eliminado",icon:"success",confirmButtonText:"Aceptar"}).then((function(){window.location.reload()}))})).catch((function(e){e.json().then((function(e){p.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))}));var e},className:t.chip_style}),o.a.createElement(s.a,{label:"Ver metadatos",size:"small",icon:o.a.createElement(O.a,null),onClick:function(){var e;e=a.id,U({id:e})},className:t.chip_style}),o.a.createElement(s.a,{label:"Ver recurso",size:"small",icon:o.a.createElement(j.a,null),onClick:function(){return e.handleClick(a)},className:t.chip_style})))}}),o.a.createElement(k.a,{id:"metadata-info",initialPosition:{x:0,y:0},style:{display:V?"block":"none"},offsetOrigin:e.offsetOrigin?e.offsetOrigin:{x:0,y:-157}},o.a.createElement(S.a,{resource:V,setMetadata:U}))))}},957:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(18),r=a(35),c=a(2),o=a.n(c),i=a(1382),l=function(e){var t=e.onDrop,a=e.children,l=Object(c.useRef)(null),s=Object(c.useState)({x:0,y:0}),u=Object(r.a)(s,2),d=u[0],m=u[1],f=Object(i.a)((function(){return{accept:"box",drop:function(e,a){var r=a.getClientOffset(),c=l.current.getBoundingClientRect();if(r){var o={x:r.x-c.left,y:r.y-c.top,mousePosition:Object(n.a)({},d)};return t(Object(n.a)(Object(n.a)({},e),{},{newPosition:o})),{newPosition:o}}}}}),[t]),p=Object(r.a)(f,2);p[0];return(0,p[1])(l),o.a.createElement("div",{ref:l,id:"droppable-area",style:{width:"100%",height:"100%",position:"relative",overflow:"visible"},onMouseDown:function(e){m({x:e.pageX,y:e.pageY})}},a)}},958:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(18),r=a(35),c=a(2),o=a.n(c),i=a(1383),l=a(1147),s=a(843),u=a(954),d=Object(s.a)((function(e){return{}})),m=function(e){var t=e.offsetOrigin,a=e.id,s=e.children,m=e.initialPosition,f=e.style,p=(d(),Object(c.useState)(m)),h=Object(r.a)(p,2),b=h[0],g=h[1],v=Object(c.useState)({x:0,y:0}),y=Object(r.a)(v,2),E=y[0],j=(y[1],Object(c.useState)({x:0,y:0})),x=Object(r.a)(j,2),O=x[0],w=x[1],k=Object(c.useState)(!0),C=Object(r.a)(k,2),T=(C[0],C[1],Object(c.useRef)(null)),S=document.getElementById("droppable-area"),N=Object(u.a)("position-".concat(a),{x:0,y:0}),z=Object(r.a)(N,2),F=z[0],R=z[1],P=Object(i.a)((function(e){return{type:"box",item:{id:a,position:b},collect:function(e){return{isDragging:!!e.isDragging(),item:e.getItem(),initialClientOffset:e.getInitialClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),clientOffset:e.getClientOffset()}},end:function(e,t){if(t.getDropResult()){var a=t.getDropResult().newPosition;a.x=a.x+O.x,a.y=a.y+O.y}}}})),B=Object(r.a)(P,3),L=B[0].isDragging,A=B[1],M=B[2];Object(c.useEffect)((function(){M&&M(Object(l.a)(),{captureDraggingState:!0})}),[M]);Object(c.useEffect)((function(){if(T&&F)if(0===F.x&&0===F.y){var e=document.getElementById("droppable-area").getBoundingClientRect(),t=T.current.getBoundingClientRect(),a=e.height/2-t.height/2;g({x:0,y:a}),R({x:0,y:H().y})}else g({x:F.x,y:F.y})}),[T]);var H=function(){var e=b.x-500,a=b.y-77;return t&&(e+=t.x,a+=t.y),e<0&&(e=0),a<0&&(a=0),S&&(e+T.current.offsetWidth>S.offsetWidth&&(e=S.offsetWidth-T.current.offsetWidth),a+T.current.offsetHeight>S.offsetHeight&&(a=S.offsetHeight-T.current.offsetHeight)),{x:e,y:a}};return A(T),o.a.createElement("div",{ref:T,style:Object(n.a)(Object(n.a)({},f),{},{position:"absolute",translate:"".concat(H().x,"px ").concat(H().y,"px"),scale:"".concat(L?1.01:1),boxShadow:L?"0 0 10px 0 rgba(150,150,150,0.5)":"0 0 5px 0 rgba(150,150,150,0.6)"}),onMouseDown:function(e){var t=T.current.getBoundingClientRect(),a=e.pageX-t.left,n=e.pageY-t.top;w({x:a,y:n})},onDrag:function(e){T.current.getBoundingClientRect();g({x:e.clientX-E.x-O.x,y:e.clientY-E.y-O.y,mousePosition:b.mousePosition}),R({x:e.clientX-E.x-O.x,y:e.clientY-E.y-O.y})},draggable:!0},s)}},959:function(e,t,a){"use strict";var n=a(35),r=a(2),c=a.n(r),o=a(937),i=a(971),l=a(843),s=a(1406),u=a(996),d=a.n(u),m=a(1002),f=a.n(m),p=Object(l.a)((function(e){return{scrollbar:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:"#56749a",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:"#56749a"},"&::-webkit-scrollbar-thumb:active":{background:"#56749a"},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},close:{"& .MuiChip-label":{display:"none"},"& svg":{margin:"0 !important"}},noborder:{border:"none"}}}));t.a=function(e){var t=p(),a=Object(r.useState)(!1),l=Object(n.a)(a,2),u=(l[0],l[1]),m=Object(r.useState)(null),h=Object(n.a)(m,2),b=h[0],g=h[1],v=Object(r.useState)(null),y=Object(n.a)(v,2),E=y[0],j=y[1];return Object(r.useEffect)((function(){if(u(!0),e.resource){if(E===e.resource.id)return void u(!1);o.e(e.resource.id).then((function(t){g(t),u(!1),j(e.resource.id)})).catch((function(e){console.log(e)}))}}),[e.resource]),c.a.createElement(c.a.Fragment,null,b&&c.a.createElement("div",{style:{background:"white"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",null,e.history&&c.a.createElement(s.a,{label:"Ir al recurso",size:"small",onClick:function(){e.history.push("/detail/".concat(e.resource.id))},icon:c.a.createElement(f.a,null),style:{margin:3},variant:"outlined",className:"".concat(t.noborder)})),c.a.createElement(s.a,{label:"Cerrar",size:"small",onClick:function(){e.setMetadata(null)},variant:"outlined",icon:c.a.createElement(d.a,null),style:{margin:3,width:24,height:24},className:"".concat(t.close," ").concat(t.noborder)})),c.a.createElement(i.a,{data:b,className:t.scrollbar,resource:e.resource,labelAlign:"top",style:{width:370,height:300,overflowY:"auto"}})))}},962:function(e,t,a){"use strict";var n=a(203),r=a(35),c=a(2),o=a.n(c),i=a(843),l=a(930),s=a(1397),u=a(1398),d=a(1400),m=a(1396),f=a(1401),p=a(1387),h=a(1399),b=a(1393),g=a(1389);Object(i.a)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"30px !important",height:"30px !important",margin:"0 2px !important",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}}}}));function v(e){e.onSelectAllClick;var t=e.order,a=e.orderBy,n=(e.numSelected,e.rowCount,e.onRequestSort,e.headCells);return o.a.createElement(f.a,null,o.a.createElement(h.a,null,n.map((function(e){return o.a.createElement(d.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&t},e.label)}))))}function y(e){e.numSelected;return o.a.createElement(p.a,{rowsPerPage:e.perpage,rowsPerPageOptions:[],count:e.total,page:e.page,onPageChange:function(t,a){e.setPage(a)}})}t.a=function(e){var t=e.style,a=e.resources,i=e.pagination,f=e.columns,p=e.columnSolver,E=e.page,j=e.setPage,x=e.total,O=e.handleClick,w=e.perpage,k=e.type,C=e.selectedResources,T=o.a.useState(!1),S=Object(r.a)(T,2),N=S[0],z=(S[1],Object(c.useState)([])),F=Object(r.a)(z,2),R=F[0];F[1];return Object(c.useEffect)((function(){console.log(a)}),[]),o.a.createElement(o.a.Fragment,null,a.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{sx:{width:"100%"},style:t||null},o.a.createElement(b.a,{sx:{width:"100%",mb:2}},o.a.createElement(m.a,null,o.a.createElement(s.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:N?"small":"medium",padding:"none"},o.a.createElement(v,{numSelected:R.length,headCells:"checkbox"===k?[{id:"checkbox",numeric:!1,disablePadding:!0,label:""}].concat(Object(n.a)(f)):f}),o.a.createElement(u.a,null,a.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.id,style:O?{cursor:"pointer"}:{}},"checkbox"===k&&o.a.createElement(d.a,{component:"th",id:"checkbox",scope:"row",sx:{padding:"10px 10px"}},o.a.createElement(g.a,{color:"primary",checked:!!C&&C.includes(e.id)})),f.map((function(t){return o.a.createElement(d.a,{component:"th",id:t.destiny,scope:"row",onClick:O&&""!==t.destiny?function(){return O(e)}:null,key:t.destiny,sx:{padding:"10px 10px"}},p(e,t))}))),e.snap&&o.a.createElement(h.a,null,o.a.createElement(d.a,{component:"th",scope:"row",sx:{padding:"10px 10px"}},o.a.createElement(b.a,null,e.snap))))}))),i&&o.a.createElement(y,{page:E,setPage:j,total:x,perpage:w})))))))}},963:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(204),r=a(46);function c(){var e={method:"GET",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+"/lists",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t="/lists/"+e,a={method:"GET",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e,t){var a=new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),c="/lists/"+e;console.log(t);var o={method:"PUT",headers:a,mode:"cors",cache:"default",body:t};return fetch(r.e+c,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:Object(n.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/lists",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/lists/"+e,a={method:"DELETE",headers:new Headers({Authorization:Object(n.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e}))}},965:function(e,t,a){"use strict";a.r(t),a.d(t,"BloqueContenido",(function(){return ve})),a.d(t,"Main",(function(){return ye}));var n=a(35),r=a(2),c=a.n(r),o=a(50),i=a(139),l=a(940),s=a(941),u=a(843),d=a(926),m=a(202),f=a(943),p=a(938),h=a(1402),b=a(1390),g=a(1380),v=a(1388),y=a(1391),E=a(974),j=a.n(E),x=a(980),O=a.n(x),w=a(949),k=a.n(w),C=a(950),T=a.n(C),S=a(944),N=a(969),z=a(203),F=a(36),R=a(925),P=a(939),B=a(948),L=a(937),A=a(1007),M=a.n(A),H=a(946),_=a(947),I=a(18),q=a(1031),D=a(1039),W=a(1406),V=a(848),U=a(1139),G=a(852),J=a(1404),Y=a(955),K=a.n(Y),X=a(448),Q=a(1387),$=a(964),Z=$.c($.e),ee=Object(G.a)((function(e){return{card:{margin:5,"&.deleted":{backgroundColor:"#f44336",color:"#fff",textDecoration:"line-through"}}}})),te=function(e){var t=ee(),a=Object(r.useState)([]),o=Object(n.a)(a,2),i=o[0],l=o[1],s=Object(r.useState)(!1),u=Object(n.a)(s,2),d=u[0],m=u[1],f=Object(r.useState)(null),h=Object(n.a)(f,2),b=h[0],g=h[1];Object(r.useEffect)((function(){if(console.log(e.file),null!==e.file){var t=Object(I.a)({},e.file);"displayName"in t||(t.displayName=t.name),"accessRights"in t||(t.accessRight="public"),g(t)}}),[]),Object(r.useEffect)((function(){p.b().then((function(e){l([{id:"public",term:"P\xfablica"}].concat(Object(z.a)(e.options)))}))}),[e.file]);var v=function(t){e.onUpdate(t)};return c.a.createElement(q.a,{className:"".concat(t.card," ").concat(e.file.deleted?"deleted":""),key:e.key},c.a.createElement(D.a,{title:c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"calc(100% - 200px)"}},e.file.displayName),c.a.createElement("div",null,c.a.createElement(W.a,{label:e.file.tag,style:{marginLeft:5,marginRight:15,backgroundColor:Z(e.file.tag),color:"#fff"},size:"small"}),c.a.createElement(J.a,{onClick:function(){e.onDeleted(e.file)},size:"small"},c.a.createElement(K.a,null)))),style:{padding:5},disableTypography:!0,action:c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,{onClick:function(){m(!d)}},c.a.createElement(X.a,null)))}),c.a.createElement(V.a,{in:d},b&&c.a.createElement(U.a,{style:{padding:5}},c.a.createElement(P.o,{name:"Nombre del archivo",value:b.displayName,handleChange:function(e){var t=Object(I.a)({},b);t.displayName=e.target.value,g(t),v(t)}}),c.a.createElement(P.l,{name:"Derechos de acceso",options:i.map((function(e){return{value:e.id,label:e.term}})),value:b.accessRights?b.accessRights:"public",handleChange:function(e){var t=Object(I.a)({},b);t.accessRights=e.target.value,g(t),v(t)}}))))},ae=function(e){ee();var t=Object(r.useState)([]),a=Object(n.a)(t,2),o=a[0],i=a[1],l=Object(r.useState)(0),s=Object(n.a)(l,2),u=s[0],d=s[1],m=Object(r.useState)(0),f=Object(n.a)(m,2),p=f[0],h=f[1];return Object(r.useEffect)((function(){L.f(e.resourceId).then((function(e){i(e.data),h(e.total)})).catch((function(e){console.log(e)}))}),[e.resourceId]),c.a.createElement(c.a.Fragment,null,o.map((function(t,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement(te,{file:t,key:a,onDeleted:function(){e.deleteFile(t)},onUpdate:function(t){e.updateFile(t)}}))})),c.a.createElement(Q.a,{rowsPerPage:10,rowsPerPageOptions:[],count:p,page:u,onPageChange:function(e,t){d(t)},sx:{padding:0,display:"block"}}))},ne=a(1014),re=a.n(ne),ce=a(1013),oe=a.n(ce),ie=a(1012),le=a.n(ie),se=a(1011),ue=a.n(se),de=a(138),me=a.n(de),fe=Object(u.a)((function(e){return{columnas:{display:"flex",height:"calc(100vh - 170px)"},alert_detail:{fontSize:13,background:"#f27474",color:"white",padding:"2px",borderRadius:"5px",margin:"2px"}}})),pe=Object(F.o)((function(e){var t=fe(),a=c.a.useState(null),o=Object(n.a)(a,2),i=o[0],l=o[1],s=c.a.useState(!1),u=Object(n.a)(s,2),f=u[0],p=u[1],h=c.a.useState({}),b=Object(n.a)(h,2),g=b[0],v=b[1],y=c.a.useState([]),E=Object(n.a)(y,2),j=E[0],x=E[1],O=c.a.useState({}),w=Object(n.a)(O,2),k=w[0],C=w[1],T=c.a.useState([]),S=Object(n.a)(T,2),F=S[0],A=S[1],I=c.a.useState([]),q=Object(n.a)(I,2),D=q[0],W=q[1],V=c.a.useState(1),U=Object(n.a)(V,2),G=U[0],J=U[1];Object(r.useEffect)((function(){e.match.params.id?(p(!0),L.e(e.match.params.id).then((function(t){t&&(t.msg?me.a.fire({title:"Error",text:t.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){X("/cataloging/".concat(e.selectedType.slug))})):(p(!0),t.files=[],v(t),A([]),t.parents&&l(t.parents[0]),x(t.parents)))})).catch((function(t){t.json().then((function(t){me.a.fire({title:"Error!",text:t.msg,icon:"error",confirmButtonText:"Aceptar"}).then((function(){X("/cataloging/".concat(e.selectedType.slug))}))}))}))):(p(!1),K())}),[e.match.params]),Object(r.useEffect)((function(){if(e.selectedType){var t=e.selectedType.metadata.fields,a=Y(t);W(a)}}),[e.selectedType]);var Y=function(e){var t=[],a=[];return e.forEach((function(e,n){"separator"===e.type?(t.push(a),(a=[]).push(e)):a.push(e)})),t.push(a),t},K=function(){var t={files:[]};t.post_type=e.selectedType.slug,t.parents=[i],v(t)},X=function(t){e.history.push("".concat(t))},Q=function(e,t){var a,n=t.split("."),r=e,c=Object(N.a)(n);try{for(c.s();!(a=c.n()).done;){if(void 0===(r=r[a.value]))return}}catch(o){c.e(o)}finally{c.f()}return r},$=function(e,t,a){var n,r=t.split("."),c=0,o=Object(N.a)(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;++c===r.length?e[i]=a:e=e[i]}}catch(l){o.e(l)}finally{o.f()}};return c.a.createElement(c.a.Fragment,null,Object.keys(g).length>0&&c.a.createElement(d.a,{className:t.columnas},e.selectedType.parentsTypes.length>0||e.selectedType.hierarchical?c.a.createElement(c.a.Fragment,null,c.a.createElement(ve,{style:{width:"calc(440px)",height:"calc(100vh - 170px)",overflow:"auto"},title:"Estructura de carpetas para: ".concat(e.selectedType.name),topBar:c.a.createElement(_.a,{variant:"light"})},c.a.createElement(H.a,{parents:e.selectedType.parentsTypes,setFondo:function(e,t){i&&t?i.id===e.id?(l(null),x([])):(l(e),x([].concat(Object(z.a)(t),[e]))):t?(l(e),x([].concat(Object(z.a)(t),[e]))):i?i.id===e.id&&(l(null),x([])):(l(e),x([e]))},activeTypes:Object(z.a)(e.selectedType.parentsTypes),childrenEditing:!0,selected:i?[i]:[],path:j}))):c.a.createElement(c.a.Fragment,null),c.a.createElement(ve,{style:{width:"calc(100% - 470px)",maxHeight:"calc(100vh - 170px)",overflow:"auto",maxWidth:"750px",position:"relative"},title:"Nuevo recurso para: ".concat(e.selectedType.name)},F&&c.a.createElement(ae,{files:F,resourceId:e.match.params.id,deleteFile:function(e){var t=F.findIndex((function(t){return t.id===e.id}));if(-1!==t){var a=Object(z.a)(F);a[t].deleted=!a[t].deleted,A(Object(z.a)(a))}else{var n=F;e.deleted=!0,n.push(e),A(Object(z.a)(n))}},updateFile:function(e){var t=F.findIndex((function(t){return t.id===e.id}));if(-1!==t){var a=Object(z.a)(F);a[t]=e,A(Object(z.a)(a))}else{var n=F;n.push(e),A(Object(z.a)(n))}}}),c.a.createElement(B.c,{initialValues:g,onSubmit:function(a,n){var r=n.setSubmitting;f?(r(!1),me.a.fire({title:"\xbfEst\xe1s seguro?",text:"Se modificar\xe1 el recurso",icon:"warning",showCancelButton:!0}).then((function(n){if(n.isConfirmed){a.parents=i?[{id:i.id,post_type:i.post_type}]:null,a.parent=i?[{id:i.id,post_type:i.post_type}]:null,(void 0===a.accessRights||"none"===a.accessRights)&&(a.accessRights="public");var r=new FormData,o=[],l=[],s=[];a.files?(a.filesIds=[],a.files.forEach((function(e,t){"string"!==typeof e.file&&e.file&&(r.append("files",e.file),a.filesIds.push({file:t,filetag:e.id}))})),F.forEach((function(e){e.deleted?l.push(e.id):(o.push(e.id),s.push(e))})),a.files=o,a.deletedFiles=l,a.updatedFiles=s):a.files=[],r.append("data",JSON.stringify(a)),L.i(e.match.params.id,r).then((function(t){X("/cataloging/".concat(e.selectedType.slug))})).catch((function(e){e.json().then((function(e){e.errors&&C(e.errors);var a=Object.keys(e.errors).map((function(a){return M.a.renderToString(c.a.createElement("div",{className:t.alert_detail},"".concat(a,": ").concat(e.errors[a])))}));a=a.join(""),me.a.fire({title:"Error!",html:"".concat(e.msg," ").concat(a),icon:"error",confirmButtonText:"Ok"})}))}))}}))):(r(!1),me.a.fire({title:"\xbfEst\xe1s seguro?",text:"Se crear\xe1 un nuevo recurso",icon:"warning",showCancelButton:!0}).then((function(t){if(t.isConfirmed){a.parents=i?[{id:i.id,post_type:i.post_type}]:null,a.parent=i?[{id:i.id,post_type:i.post_type}]:null,(void 0===a.accessRights||"none"===a.accessRights)&&(a.accessRights="public");var n=new FormData;a.filesIds=[],a.files.forEach((function(e,t){n.append("files",e.file),a.filesIds.push({file:t,filetag:e.id})})),a.files=[],n.append("data",JSON.stringify(a)),L.h(n).then((function(t){X("/cataloging/".concat(e.selectedType.slug))})).catch((function(e){e.json().then((function(e){e.errors&&C(e.errors),me.a.fire({title:"Error!",text:e.msg,icon:"error",confirmButtonText:"Ok"})}))}))}})))}},(function(t){var a=t.values,n=(t.errors,t.touched,t.handleChange),r=t.handleBlur,o=t.handleSubmit,i=(t.isSubmitting,t.setFieldValue);return c.a.createElement("form",{onSubmit:o},e.selectedType.metadata&&c.a.createElement(c.a.Fragment,null,D[G-1].map((function(e,t){return c.a.createElement(c.a.Fragment,null,"file"===e.type&&c.a.createElement(P.h,{name:e.label,key:e.filetag,id:e.filetag,values:a,required:e.required,change:i}),"text"===e.type&&c.a.createElement(P.o,{name:e.label,id:e.destiny,handleChange:n,handleBlur:r,value:Q(a,e.destiny),required:e.required,errors:k[e.destiny]}),"text-area"===e.type&&c.a.createElement(P.n,{name:e.label,id:e.destiny,handleChange:n,handleBlur:r,value:Q(a,e.destiny),required:e.required,errors:k[e.destiny]}),"select"===e.type&&c.a.createElement(P.i,{name:e.label,id:e.destiny,handleChange:n,handleBlur:r,value:Q(a,e.destiny)?Q(a,e.destiny):"none",required:e.required,options:e.list,errors:k[e.destiny],destiny:e.destiny}),"select-multiple2"===e.type&&c.a.createElement(P.f,{handleChange:function(t){i(e.destiny,t)},id:e.destiny,name:e.label,field:e,required:e.required,value:Q(a,e.destiny),errors:k[e.destiny]}),"author"===e.type&&c.a.createElement(B.b,{name:e.destiny},(function(t){var n=t.insert,r=t.remove,o=t.push,l=t.move;return c.a.createElement(P.d,{name:e.label,id:e.destiny,insert:n,remove:r,push:o,setFieldValue:function(t){i(e.destiny,t)},move:l,value:Q(a,e.destiny)?Q(a,e.destiny):[],required:e.required,errors:k[e.destiny]})})),"simple-date"===e.type&&c.a.createElement(P.m,{name:e.label,id:e.destiny,setFieldValue:function(t){i(e.destiny,t)},handleBlur:r,value:Q(a,e.destiny),required:e.required,errors:k[e.destiny]}),"relation"===e.type&&c.a.createElement(P.k,{name:e.label,id:e.destiny,value:Q(a,e.destiny),required:e.required,errors:k[e.destiny],postType:e,setFieldValue:function(t){i(e.destiny,t)}}),"checkbox"===e.type&&c.a.createElement(P.g,{name:e.label,id:e.destiny,handleChange:function(t){i(e.destiny,t)},handleBlur:r,value:Q(a,e.destiny),required:e.required,errors:k[e.destiny]}),"number"===e.type&&c.a.createElement(P.j,{name:e.label,id:e.destiny,handleChange:n,handleBlur:r,value:Q(a,e.destiny),required:e.required,errors:k[e.destiny]}),"separator"===e.type&&c.a.createElement(m.a,{variant:"h6",style:{marginTop:10,marginBottom:10}},e.label))})),c.a.createElement(d.a,{style:{display:"flex",justifyContent:"space-between",gap:10,marginTop:10,position:"sticky",bottom:0,backgroundColor:"white"}},c.a.createElement(d.a,null,c.a.createElement(R.a,{type:"button",variant:"contained",onClick:function(){return X("/cataloging/"+e.selectedType.slug)},style:{margin:5}},"Cancelar"),c.a.createElement(R.a,{variant:"contained",type:"button",onClick:function(){$(a,"status","draft"),o()},style:{margin:5},startIcon:c.a.createElement(ue.a,null)},"Guardar"),(e.user.roles.includes("publisher")||e.user.roles.includes("admin"))&&c.a.createElement(R.a,{variant:"contained",type:"button",onClick:function(){$(a,"status","published"),o()},style:{margin:5},startIcon:c.a.createElement(le.a,null)},"Publicar")),D.length>1&&c.a.createElement(d.a,null,c.a.createElement(R.a,{variant:"contained",onClick:function(){J(1===G?1:G-1)},disabled:1===G,style:{margin:5},startIcon:c.a.createElement(oe.a,null)},"Anterior"),c.a.createElement(R.a,{variant:"contained",onClick:function(){G===D.length?J(D.length):J(G+1)},disabled:G===D.length,style:{margin:5},endIcon:c.a.createElement(re.a,null)},"Siguiente")))))})))))})),he=a(978),be=(a(263),a(954)),ge=Object(u.a)((function(e){return{bloque:{padding:"10px",backgroundColor:"rgba(255,255,255,.9)",margin:5,width:"100%",height:"100%",overflow:"auto",position:"relative",borderRadius:10,border:"3px solid #fff","&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:"#56749a",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:"#56749a"},"&::-webkit-scrollbar-thumb:active":{background:"#56749a"},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},tituloBloque:{top:0,fontSize:15,fontWeight:"bold",padding:"10px 15px",position:"sticky",zIndex:10,width:"100%",left:0,background:"#e6e6e6",borderTopLeftRadius:10,borderTopRightRadius:10,color:"#56749a",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},breadcrumbs:{padding:"5px 15px",background:"#56749a",position:"sticky",color:"#fff",borderBottomLeftRadius:10,borderBottomRightRadius:10,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},linkBreadcrumb:{color:"#fff",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:200,display:"inline-block","&:hover":{color:"#fff"}},selectedBread:{color:"#fff !important",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:150,backgroundColor:"rgba(255,255,255,.2)",display:"inline-block",padding:"0 5px",borderRadius:2},columnas:{display:"flex",height:"calc(100vh - 150px)"}}})),ve=function(e){var t=ge();return c.a.createElement(d.a,{className:t.bloque,style:e.style},e.title&&c.a.createElement(d.a,{className:t.tituloBloque},e.title),e.topBar&&c.a.createElement(c.a.Fragment,null,e.topBar),e.children)},ye=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),o=a[0],i=a[1],u=Object(r.useState)(null),d=Object(n.a)(u,2),E=d[0],x=d[1],w=Object(r.useState)(!1),C=Object(n.a)(w,2),N=C[0],z=C[1],F=Object(r.useState)(!1),R=Object(n.a)(F,2),P=R[0],B=R[1],L=Object(r.useState)(null),A=Object(n.a)(L,2),M=A[0],H=A[1],_=Object(r.useState)(null),I=Object(n.a)(_,2),q=I[0],D=I[1],W=Object(be.a)("viewDrafts",!1),V=Object(n.a)(W,2),U=V[0],G=V[1];Object(r.useEffect)((function(){J()}),[e.match]);var J=function(){var t=e.match.path.split("/").filter((function(e){return""!==e}));t.length>2&&"new"===t[2]?(B(!0),H(null)):t.length>2&&"edit"===t[2]?(B(!0),H(t[3])):(B(!1),H(null))};Object(r.useEffect)((function(){e.match.params.slug?f.c(e.match.params.slug).then((function(e){x(e)})):p.d().then((function(t){e.history.push("/cataloging/"+t.value)}))}),[e.match]),Object(r.useEffect)((function(){f.b().then((function(e){i(e)})),J()}),[]);return c.a.createElement(s.a,null,c.a.createElement(l.a,{userRoles:e.user.roles,list:function(){var t=[];return(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&!P&&E&&t.push({name:"Agregar recursos",icon:c.a.createElement(k.a,null),action:"new",callback:function(){e.history.push("/cataloging/".concat(E.slug,"/new")),B(!0)}}),(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&!P&&E&&t.push({name:"Descargar inventario",icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,null),c.a.createElement(O.a,null)),callback:function(){me.a.fire({title:"\xbfEst\xe1s seguro?",text:"Se generar\xe1 un archivo con el inventario de la categor\xeda seleccionada",icon:"warning",showCancelButton:!0}).then((function(e){e.isConfirmed&&p.a("inventoryMaker",JSON.stringify({post_type:E.slug,parent:q,status:U?"draft":"published"})).then((function(e){me.a.fire({title:"Procesamiento iniciado",text:e.msg,icon:"success",confirmButtonText:"Aceptar"})})).catch((function(e){e.json().then((function(e){me.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))}))}}),(e.user.roles.includes("admin")||e.user.roles.includes("editor"))&&P&&E&&t.push({name:"Volver",icon:c.a.createElement(T.a,null),callback:function(){e.history.push("/cataloging/".concat(E.slug)),B(!1)}}),t}()}),c.a.createElement(ve,{style:{width:"calc(100% - 20px)",padding:"2px"}},c.a.createElement(h.a,{style:{minHeight:"auto"}},c.a.createElement(b.a,{variant:"outlined",style:{marginRight:15,borderRadius:50},onClick:function(){return z(!N)}},"Ver informaci\xf3n"),c.a.createElement(g.a,{size:"small",onChange:function(t){x(null),z(!1),P?e.history.push("/cataloging/"+t.target.value+"/new"):e.history.push("/cataloging/"+t.target.value)},value:E?E.slug:"",style:{borderRadius:50,height:32,textTransform:"uppercase",fontSize:11}},o.map((function(e){return c.a.createElement(v.a,{value:e.slug},e.name)}))),c.a.createElement(m.a,{style:{marginLeft:15}},"Ver borradores:"),c.a.createElement(y.a,{checked:U,onChange:function(){return G(!U)}}))),N&&E&&c.a.createElement(ve,{style:{width:"calc(100% - 20px)",maxWidth:500},title:"Acerca de ".concat(E.name)},c.a.createElement(S.c,{selectedType:E})),P&&E&&!N&&!M&&c.a.createElement(pe,{user:e.user,selectedType:E}),P&&E&&!N&&M&&c.a.createElement(pe,{user:e.user,selectedType:E,selectedResource:M}),!P&&E&&!N&&c.a.createElement(he.a,{viewDrafts:U,history:e.history,selectedType:E,setSelected:D}))};t.default=Object(o.b)((function(e){return{user:e.auth.user}}),i.a)(ye)},967:function(e,t,a){"use strict";var n=a(2),r=a.n(n);t.a=function(e){var t=e.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:e.index,className:"".concat(t," ").concat(e.labelPos?e.labelPos:""),onClick:function(){return e.onClick(e.title)}},r.a.createElement("div",{className:"icon"},e.children),r.a.createElement("div",{className:"tooltipUi"},e.title)))}},971:function(e,t,a){"use strict";var n=a(18),r=a(2),c=a.n(r),o=a(1405),i=a(939);t.a=function(e){return c.a.createElement(o.a,{style:Object(n.a)({padding:"10px",width:"100%",maxWidth:"750px"},e.style),className:e.className},e.data.fields.map((function(t,a){return c.a.createElement(i.b,{label:t.label,value:t.value,labelAlign:e.labelAlign,type:t.type,redirect:e.redirect})})))}},978:function(e,t,a){"use strict";var n=a(16),r=a(18),c=a(203),o=a(35),i=a(2),l=a.n(i),s=a(50),u=a(139),d=a(965),m=a(947),f=a(956),p=a(946),h=a(843),b=a(926),g=Object(h.a)((function(e){return{columnas:{display:"flex",height:"calc(100vh - 150px)"}}}));t.a=Object(s.b)((function(e){return{user:e.auth.user}}),u.a)((function(e){var t=g(),a=Object(i.useState)(null),s=Object(o.a)(a,2),u=s[0],h=s[1],v=Object(i.useState)(null),y=Object(o.a)(v,2),E=y[0],j=y[1],x=Object(i.useState)([]),O=Object(o.a)(x,2),w=O[0],k=O[1],C=Object(i.useState)({}),T=Object(o.a)(C,2),S=T[0],N=T[1],z=Object(i.useState)(0),F=Object(o.a)(z,2),R=F[0],P=F[1],B=Object(i.useState)([]),L=Object(o.a)(B,2),A=(L[0],L[1],Object(i.useState)("")),M=Object(o.a)(A,2),H=M[0],_=M[1],I=Object(i.useState)(""),q=Object(o.a)(I,2),D=q[0],W=q[1];Object(i.useEffect)((function(){e.selectedType.parentsTypes?e.selectedType.parentsTypes.length>0?h("multiple"):e.selectedType.hierarchical?h("tree"):h("single"):h(null)}),[e.selectedType]),Object(i.useEffect)((function(){e.setSelected&&E?e.setSelected(E.id):e.setSelected&&e.setSelected(null)}),[E]),Object(i.useEffect)((function(){V("keyword",H)}),[H]),Object(i.useEffect)((function(){j(null),k([]),V("parents",null),V("treeKeyword",D)}),[D]),Object(i.useEffect)((function(){V("status",e.viewDrafts?"draft":"published")}),[e.viewDrafts]);var V=function(e,t){N(Object(r.a)(Object(r.a)({},S),{},Object(n.a)({},e,t)))};return l.a.createElement(l.a.Fragment,null,u&&l.a.createElement(l.a.Fragment,null,"single"===u&&l.a.createElement(d.BloqueContenido,{style:{width:"calc(100% - 20px)",height:"calc(100vh - 170px)",overflow:"auto"},title:"Buscar recursos para: ".concat(e.selectedType.name),topBar:l.a.createElement(m.a,{total:R,onSearchSubmit:function(e){_(e)}})},l.a.createElement(f.a,{selectedType:e.selectedType,type:e.type,filters:S,viewDrafts:e.viewDrafts,parentTotal:P,handleClick:function(t){e.history?e.history.push("/detail/".concat(t.id)):"checkbox"===e.type&&e.setSelectedResources(t.id)},selectedResources:e.selectedResources})),"multiple"===u&&l.a.createElement(b.a,{className:t.columnas},l.a.createElement(d.BloqueContenido,{style:{width:"calc(440px)",height:"calc(100vh - 170px)",overflow:"auto"},title:"Estructura de carpetas para: ".concat(e.selectedType.name),topBar:l.a.createElement(m.a,{variant:"light",onSearchSubmit:function(e){W(e)}})},l.a.createElement(p.a,{parents:e.selectedType.parentsTypes,setFondo:function(e,t){E&&t?E.id===e.id?(j(null),k([]),V("parents",null)):(j(e),k([].concat(Object(c.a)(t),[e])),V("parents",e)):t?(j(e),k([].concat(Object(c.a)(t),[e])),V("parents",e)):E&&E.id===e.id?(j(null),k([]),V("parents",null)):(j(e),k([e]),V("parents",e))},activeTypes:Object(c.a)(e.selectedType.parentsTypes),childrenEditing:!1,selected:E?[E]:[],path:w,filters:S})),l.a.createElement(d.BloqueContenido,{style:{minWidth:800,width:"calc(100% - 470px)",height:"calc(100vh - 170px)",overflow:"auto"},title:"Buscar recursos para: ".concat(e.selectedType.name),topBar:l.a.createElement(m.a,{total:R,onSearchSubmit:function(e){_(e)}})},l.a.createElement(f.a,{selectedType:e.selectedType,filters:S,type:e.type,parentTotal:P,viewDrafts:e.viewDrafts,handleClick:function(t){e.history?e.history.push("/detail/".concat(t.id)):"checkbox"===e.type&&e.setSelectedResources(t.id)},selectedResources:e.selectedResources})))))}))},994:function(e,t,a){"use strict";var n=a(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67)),c=a(0);t.default=(0,r.default)((0,c.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")}}]);
//# sourceMappingURL=10.91fe2d63.chunk.js.map