"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[5658],{15658:function(e,r,t){t.r(r);var i=t(24765),n=t(89379),a=t(5544),l=t(65043),o=t(73216),d=t(72378),s=t(19853),u=t(85865),c=t(15316),b=t(81551),f=t(43288),h=t(99246),g=t(24394),p=t(63516),m=t(11238),x=t(26240),y=t(58140),k=t(70579),v=(0,b.A)((function(e){return{bloque:{backgroundColor:"#999",display:"flex",borderRadius:5,transition:"all .3s","&:hover":{backgroundColor:"rgba(42, 80, 130, 1)"},"& h3":{margin:0,marginBottom:5,color:"#56749a",fontSize:18}},instructions:{fontSize:14,marginBottom:10,padding:10,backgroundColor:"white"}}}));r.default=function(e){v();var r=(0,l.useState)(null),t=(0,a.A)(r,2),b=t[0],w=t[1],j=(0,l.useState)(null),A=(0,a.A)(j,2),C=A[0],S=A[1],q=(0,l.useState)({}),B=(0,a.A)(q,2),F=B[0],R=(B[1],(0,l.useState)(!1)),E=(0,a.A)(R,2),D=E[0],I=E[1],z=(0,o.g)().slug,M=(0,x.A)(),N=(0,y.M)().showAlert,V=(0,h.A)();(0,l.useEffect)((function(){z&&s.DJ(z,"settings").then((function(e){var r={};e.forEach((function(e){"instructions"!==e.type&&"file"!==e.type&&((r=(0,n.A)({},r))[e.id]=e.default)})),r.files=[],S(r),w(e),I(!1)})).catch((function(e){console.log(e)}))}),[]);var J=function(e,r){var t,n=r.split("."),a=e,l=(0,i.A)(n);try{for(l.s();!(t=l.n()).done;){if(void 0===(a=a[t.value]))return}}catch(o){l.e(o)}finally{l.f()}return a};return(0,k.jsxs)(d.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:D?"center":"flex-start"},children:[(0,k.jsxs)(d.EL,{style:{padding:10,height:"calc(100vh - 20px)",width:"600px",display:"block",overflow:"auto",placeContent:"flex-start"},children:[!b&&(0,k.jsx)(f.A,{}),b&&C&&(0,k.jsx)(p.l1,{initialValues:C,onSubmit:function(e,r){var t=r.setSubmitting;t(!0),I(!0);var i=new FormData;i.append("data",JSON.stringify(e)),e.files.forEach((function(e){i.append("files",e.file)})),s.r1(z,i).then((function(e){t(!1),I(!1),N("success",e.msg)})).catch((function(e){t(!1),I(!1),e.json().then((function(e){N("error",e.msg)}))}))},children:function(e){var r=e.values,t=e.errors,i=(e.touched,e.handleChange),n=e.handleBlur,a=e.handleSubmit,l=e.isSubmitting,o=e.setFieldValue;return(0,k.jsxs)("form",{onSubmit:a,children:[b.map((function(e,a){return(0,k.jsxs)(k.Fragment,{children:["file"===e.type&&(0,k.jsx)(g.U0,{name:e.label,id:e.name,values:r,required:e.required,change:o,limit:e.limit,acceptedFiles:e.acceptedFiles},a),"instructions"===e.type&&(0,k.jsx)(u.A,{variant:"body1",sx:{padding:"10px",marginBottom:"10px",borderRadius:"5px",background:M.palette.primary.light,color:M.palette.primary.main},children:e.text},a),"checkbox"===e.type&&(0,k.jsx)(g.FO,{id:e.name,name:e.label,instructions:e.instructions,value:r[e.name],handleChange:i,handleBlur:n,error:t[e.name],required:e.required},a),"select"===e.type&&(0,k.jsx)(g.Q5,{id:e.id,name:e.label,value:r[e.id],handleChange:function(r,t){o(e.id,r.target.value)},handleBlur:n,error:t[e.id],options:e.options,required:e.required},a),"text"===e.type&&(0,k.jsx)(g.BR,{id:e.id,name:e.label,value:r[e.id],handleChange:i,handleBlur:n,error:t[e.id],required:e.required},a),"multiple"===e.type&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.ED,{name:e.id,children:function(t){var i=t.insert,n=t.remove,l=t.push,d=t.move;return(0,k.jsx)(g.z2,{name:e.title,id:e.id,insert:i,remove:n,push:l,fields:e.fields,setFieldValue:function(r){o(e.id,r)},move:d,value:J(r,e.id)?J(r,e.id):[],required:e.required,errors:F[e.destiny]},a)}},a)})]})})),(0,k.jsx)(c.A,{style:{display:"flex",justifyContent:"center",marginTop:25},children:(0,k.jsx)(m.nA,{variant:"outlined",type:"submit",style:{margin:5,width:"auto"},disabled:l,label:V.formatMessage({id:"general.save"})})})]})}})]}),D&&(0,k.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,k.jsx)(f.A,{})})]})}},72378:function(e,r,t){t.d(r,{EL:function(){return d},WB:function(){return s}});var i=t(89379),n=(t(65043),t(26240)),a=t(81551),l=t(83003),o=t(70579),d=function(e){var r=(0,n.A)(),t=(0,l.d4)((function(e){return e.app.isDarkMode})),d=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:r.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:r.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:r.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,o.jsx)("div",{id:e.id,style:(0,i.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:t?r.palette.grey[900]:"white",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:d.bloque,onScroll:e.onScroll,children:e.children})},s=function(e){var r=(0,n.A)(),t=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:r.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:r.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:r.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,o.jsx)("div",{id:e.id,style:(0,i.A)({padding:10,backgroundColor:r.palette.grey[100],borderRadius:5,color:r.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:t.bloque,children:e.children})};r.Ay=function(e){var r=e.children,t=e.style;e.onScroll;return(0,o.jsx)("section",{style:(0,i.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},t),children:r})}}}]);
//# sourceMappingURL=5658.f2852285.chunk.js.map