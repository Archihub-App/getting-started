"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[4030,4208],{749:function(e,t,n){var r=n(58168),a=n(80045),o=n(65043),i=n(43024),s=n(20495),c=n(47573),l=o.forwardRef((function(e,t){var n=e.classes,c=e.className,l=e.raised,u=void 0!==l&&l,d=(0,a.A)(e,["classes","className","raised"]);return o.createElement(s.A,(0,r.A)({className:(0,i.default)(n.root,c),elevation:u?8:1,ref:t},d))}));t.A=(0,c.A)({root:{overflow:"hidden"}},{name:"MuiCard"})(l)},6456:function(e,t,n){var r=n(65043),a=n(24794);t.A=(0,a.A)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},18219:function(e,t,n){var r=n(58168),a=n(80045),o=n(65043),i=n(43024),s=n(47573),c=o.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,l=void 0===c?"div":c,u=(0,a.A)(e,["classes","className","component"]);return o.createElement(l,(0,r.A)({className:(0,i.default)(n.root,s),ref:t},u))}));t.A=(0,s.A)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(c)},22505:function(e,t,n){var r=n(24994);t.A=void 0;var a=r(n(40039)),o=n(70579);t.A=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},24208:function(e,t,n){n.r(t),n.d(t,{TarjetaItem:function(){return S}});var r=n(5544),a=n(65043),o=n(73216),i=n(83003),s=n(31445),c=n(19853),l=n(95540),u=n(22505),d=n(749),f=n(96795),g=n(87243),h=n(17339),p=n(97563),m=n(18219),b=n(81551),v=n(21337),y=n(85473),A=n(35475),x=n(6456),j=n(72378),w=n(11238),k=n(26240),C=n(43288),M=n(36910),N=n(18751),H=n(92429),T=n(58140),D=n(99246),R=n(70579),S=function(e){var t=(0,k.A)(),n=(0,i.d4)((function(e){return e.app.isDarkMode})),o=(0,b.A)((function(e){return{card:{marginTop:5,marginBottom:5,backgroundColor:n?t.palette.grey[700]:"white","& .MuiCardHeader-root":{padding:"5px 10px","& .MuiCardHeader-content":{"& .MuiTypography-root":{fontSize:"14px",fontWeight:"normal",color:n?t.palette.grey[300]:t.palette.grey[700]}}}},btn_color:{color:n?t.palette.grey[800]:t.palette.grey[400],backgroundColor:n?t.palette.grey[500]:t.palette.grey[100],padding:5,width:30,height:30,margin:"0 2px",border:"1px solid ".concat(n?t.palette.grey[700]:t.palette.grey[300]),"&:hover":{color:"#fff",backgroundColor:t.palette.primary.main},"& .MuiSvgIcon-root":{width:14}}}}))(),s=(0,a.useState)(!1),c=(0,r.A)(s,2),u=c[0],j=c[1];return(0,R.jsxs)(d.A,{className:o.card,children:[(0,R.jsx)(f.A,{title:e.title,action:(0,R.jsxs)(g.A,{disableGutters:!0,variant:"dense",children:[e.onDuplicate&&(0,R.jsx)(h.A,{className:o.btn_color,size:"small","aria-label":"duplicate",onClick:function(){e.onDuplicate(e.slug)},children:(0,R.jsx)(M.A,{})}),e.onDownload&&(0,R.jsx)(h.A,{className:o.btn_color,size:"small","aria-label":"download",onClick:function(){e.onDownload(e.slug)},children:(0,R.jsx)(N.A,{})}),(0,R.jsx)(A.N_,{to:"/".concat(e.type,"/").concat(e.slug),children:(0,R.jsx)(h.A,{className:o.btn_color,size:"small","aria-label":"settings",children:(0,R.jsx)(l.A,{})})}),(0,R.jsx)(h.A,{className:o.btn_color,size:"small","aria-label":"settings",onClick:function(){e.onDeleted(e.slug)},children:(0,R.jsx)(x.A,{})}),(0,R.jsx)(h.A,{size:"small","aria-label":"settings",onClick:function(){return j(!u)},children:u?(0,R.jsx)(y.A,{}):(0,R.jsx)(v.A,{})})]})}),(0,R.jsx)(p.A,{in:u,timeout:"auto",unmountOnExit:!0,children:(0,R.jsx)(m.A,{children:e.description})})]})};t.default=function(e){(0,o.g)().id;var t=(0,a.useState)([]),n=(0,r.A)(t,2),l=n[0],d=n[1],f=((0,i.d4)((function(e){return e.user})),(0,o.Zp)()),h=(0,k.A)(),p=(0,T.M)().showAlert,m=(0,i.d4)((function(e){return e.app.isDarkMode})),b=(0,D.A)();(0,a.useEffect)((function(){s.DI().then((function(e){d(e)}),(function(e){console.log(e)}))}),[]);var v=function(e){p("confirm",b.formatMessage({id:"cataloging.confirmDelete"})).then((function(t){t&&s.SJ(e).then((function(t){d(l.filter((function(t){return t.slug!==e})))}),(function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};return(0,R.jsx)(j.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:(0,R.jsxs)(j.EL,{style:{width:"70%",maxWidth:400,display:"block",overflow:"auto",placeContent:"flex-start"},children:[(0,R.jsxs)("div",{style:{padding:10},children:[(0,R.jsx)(g.A,{style:{justifyContent:"space-between",minHeight:"auto",padding:0},children:(0,R.jsx)(w.nA,{startIcon:(0,R.jsx)(u.A,{}),label:b.formatMessage({id:"cataloging.createNew"}),style:{borderRadius:5,backgroundColor:h.palette.success.light,color:h.palette.success.main},onClick:function(){return f("/cataloging/types/new")}})}),(0,R.jsx)(w.nA,{startIcon:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(N.A,{}),(0,R.jsx)(H.A,{})]}),label:b.formatMessage({id:"cataloging.downloadInventory"}),style:{borderRadius:5,backgroundColor:m?h.palette.grey[800]:h.palette.grey[200],color:h.palette.grey[500]},onClick:function(){p("confirm",b.formatMessage({id:"cataloging.confirmDownloadInventory"})).then((function(e){e&&c.Gj("inventoryMaker",JSON.stringify({}),"bulk-types").then((function(e){p("success",e.msg)})).catch((function(e){e.json().then((function(e){p("error",e.msg)}))}))}))}})]}),0===l.length&&(0,R.jsx)(C.A,{}),l.map((function(e,t){return(0,R.jsx)(S,{title:e.name,description:e.description,slug:e.slug,onDeleted:v,type:"cataloging/types"},t)}))]})})}},54030:function(e,t,n){n.r(t);var r=n(5544),a=n(65043),o=n(73216),i=n(83003),s=n(99246),c=n(77208),l=n(19853),u=n(22505),d=n(72378),f=n(55263),g=n(24208),h=n(11238),p=n(26240),m=n(43288),b=n(58140),v=n(70579);t.default=function(e){(0,o.g)().id;var t=(0,a.useState)([]),n=(0,r.A)(t,2),y=n[0],A=n[1],x=((0,i.d4)((function(e){return e.user})),(0,p.A)()),j=(0,o.Zp)(),w=(0,b.M)().showAlert,k=(0,a.useState)(!1),C=(0,r.A)(k,2),M=C[0],N=C[1],H=(0,s.A)(),T=function(){c.n7().then((function(e){A(e)})).catch((function(e){console.log(e)}))};(0,a.useEffect)((function(){T()}),[]);var D=function(e){w("confirm",H.formatMessage({id:"cataloging.confirmDelete"})).then((function(t){t&&(N(!0),c.i6(e).then((function(e){N(!1),T()})).catch((function(e){N(!1),e.json().then((function(e){w("error",e.msg)}))})))})).catch((function(e){console.log(e)}))},R=function(e){w("confirm",H.formatMessage({id:"cataloging.confirmCreateDuplicate"})).then((function(t){t&&(N(!0),c.YD(e).then((function(e){N(!1),T()})).catch((function(e){N(!1),e.json().then((function(e){w("error",e.msg)}))})))})).catch((function(e){console.log(e)}))},S=function(e){w("confirm",H.formatMessage({id:"cataloging.confirmDownloadInventory"})).then((function(t){t&&(N(!0),l.Gj("inventoryMaker",JSON.stringify({parent:e}),"bulk-forms").then((function(e){N(!1),w("success",e.msg)})).catch((function(e){N(!1),e.json().then((function(e){w("error",e.msg)}))})))}))};return(0,v.jsxs)(d.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,v.jsxs)(d.EL,{style:{width:"70%",maxWidth:400,display:"block",overflow:"auto",placeContent:"flex-start"},children:[(0,v.jsx)("div",{style:{padding:10},children:(0,v.jsx)(f.A,{style:{justifyContent:"space-between",minHeight:"auto",padding:0},children:(0,v.jsx)(h.nA,{startIcon:(0,v.jsx)(u.A,{}),label:H.formatMessage({id:"cataloging.createNew"}),style:{borderRadius:5,backgroundColor:x.palette.success.light,color:x.palette.success.main},onClick:function(){return j("/cataloging/forms/new")}})})}),0===y.length&&(0,v.jsx)(m.A,{}),y.map((function(e,t){return(0,v.jsx)(g.TarjetaItem,{title:e.name,description:e.description,slug:e.slug,onDeleted:D,onDuplicate:R,onDownload:S,type:"cataloging/forms"},t)}))]}),M&&(0,v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,v.jsx)(m.A,{})})]})}},55263:function(e,t,n){n.d(t,{A:function(){return b}});var r=n(64467),a=n(98587),o=n(58168),i=n(65043),s=n(69292),c=n(98610),l=n(98206),u=n(34535),d=n(92532),f=n(72372);function g(e){return(0,f.Ay)("MuiToolbar",e)}(0,d.A)("MuiToolbar",["root","gutters","regular","dense"]);var h=n(70579),p=["className","component","disableGutters","variant"],m=(0,u.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,r.A)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),b=i.forwardRef((function(e,t){var n=(0,l.b)({props:e,name:"MuiToolbar"}),r=n.className,i=n.component,u=void 0===i?"div":i,d=n.disableGutters,f=void 0!==d&&d,b=n.variant,v=void 0===b?"regular":b,y=(0,a.A)(n,p),A=(0,o.A)({},n,{component:u,disableGutters:f,variant:v}),x=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,c.A)(n,g,t)}(A);return(0,h.jsx)(m,(0,o.A)({as:u,className:(0,s.A)(x.root,r),ref:t,ownerState:A},y))}))},72378:function(e,t,n){n.d(t,{EL:function(){return c},WB:function(){return l}});var r=n(89379),a=(n(65043),n(26240)),o=n(81551),i=n(83003),s=n(70579),c=function(e){var t=(0,a.A)(),n=(0,i.d4)((function(e){return e.app.isDarkMode})),c=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,s.jsx)("div",{id:e.id,style:(0,r.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:n?t.palette.grey[900]:"white",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:c.bloque,onScroll:e.onScroll,children:e.children})},l=function(e){var t=(0,a.A)(),n=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,s.jsx)("div",{id:e.id,style:(0,r.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:n.bloque,children:e.children})};t.Ay=function(e){var t=e.children,n=e.style;e.onScroll;return(0,s.jsx)("section",{style:(0,r.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},n),children:t})}},77208:function(e,t,n){n.d(t,{DG:function(){return c},Rs:function(){return i},YD:function(){return u},i6:function(){return l},n7:function(){return o},wi:function(){return s}});var r=n(88120),a=n(91280);function o(){var e={method:"GET",headers:new Headers({Authorization:(0,a.g)()}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/forms",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/forms/"+e,o={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,r.H6)()+n,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e,t){var n="/forms/"+e,o={method:"PUT",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,r.H6)()+n,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/forms",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t="/forms/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,a.g)()}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+t,n).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function u(e){var t="/forms/duplicate/"+e,n={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+t,n).then((function(e){if(201!==e.status)return Promise.reject(e)}))}},87243:function(e,t,n){var r=n(58168),a=n(80045),o=n(64467),i=n(65043),s=n(43024),c=n(47573),l=i.forwardRef((function(e,t){var n=e.classes,o=e.className,c=e.component,l=void 0===c?"div":c,u=e.disableGutters,d=void 0!==u&&u,f=e.variant,g=void 0===f?"regular":f,h=(0,a.A)(e,["classes","className","component","disableGutters","variant"]);return i.createElement(l,(0,r.A)({className:(0,s.default)(n.root,n[g],o,!d&&n.gutters),ref:t},h))}));t.A=(0,c.A)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,o.A)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(l)},92429:function(e,t,n){var r=n(24994);t.A=void 0;var a=r(n(40039)),o=n(70579);t.A=(0,a.default)((0,o.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},95540:function(e,t,n){var r=n(24994);t.A=void 0;var a=r(n(40039)),o=n(70579);t.A=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},96795:function(e,t,n){var r=n(58168),a=n(80045),o=n(65043),i=n(43024),s=n(47573),c=n(66187),l=o.forwardRef((function(e,t){var n=e.action,s=e.avatar,l=e.classes,u=e.className,d=e.component,f=void 0===d?"div":d,g=e.disableTypography,h=void 0!==g&&g,p=e.subheader,m=e.subheaderTypographyProps,b=e.title,v=e.titleTypographyProps,y=(0,a.A)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),A=b;null==A||A.type===c.A||h||(A=o.createElement(c.A,(0,r.A)({variant:s?"body2":"h5",className:l.title,component:"span",display:"block"},v),A));var x=p;return null==x||x.type===c.A||h||(x=o.createElement(c.A,(0,r.A)({variant:s?"body2":"body1",className:l.subheader,color:"textSecondary",component:"span",display:"block"},m),x)),o.createElement(f,(0,r.A)({className:(0,i.default)(l.root,u),ref:t},y),s&&o.createElement("div",{className:l.avatar},s),o.createElement("div",{className:l.content},A,x),n&&o.createElement("div",{className:l.action},n))}));t.A=(0,s.A)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(l)}}]);
//# sourceMappingURL=4030.dd77c76e.chunk.js.map