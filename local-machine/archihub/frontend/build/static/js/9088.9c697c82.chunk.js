"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[9088],{72378:function(e,t,n){n.d(t,{EL:function(){return s},WB:function(){return c}});var r=n(89379),o=(n(65043),n(26240)),a=n(81551),i=n(70579),s=function(e){var t=(0,o.A)(),n=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,i.jsx)("div",{id:e.id,style:(0,r.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:n.bloque,onScroll:e.onScroll,children:e.children})},c=function(e){var t=(0,o.A)(),n=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,i.jsx)("div",{id:e.id,style:(0,r.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:n.bloque,children:e.children})};t.Ay=function(e){var t=e.children,n=e.style;e.onScroll;return(0,i.jsx)("section",{style:(0,r.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},n),children:t})}},15089:function(e,t,n){var r=n(5544),o=n(65043),a=n(26240),i=n(70579);t.A=function(e){var t=(0,a.A)(),n=(0,o.useRef)(null),s=(0,o.useState)(0),c=(0,r.A)(s,2),l=c[0],u=c[1];return(0,o.useEffect)((function(){!function(){for(var t=5,r=0;r<l;r++)n.current.innerHTML=e.list[r].label,t+=n.current.offsetWidth;n.current.innerHTML=e.list[l].label,n.current.style.left="".concat(t,"px")}()}),[l]),(0,o.useEffect)((function(){if(e.value){var t=e.list.findIndex((function(t){return t.value===e.value}));t>=0&&u(t)}}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",background:t.palette.secondary.light,borderRadius:"50px",marginLeft:"10px",marginRight:"10px",padding:"5px",position:"relative",overflow:"hidden"},children:[(0,i.jsx)("div",{ref:n,style:{position:"absolute",padding:"7px",borderRadius:"50px",cursor:"pointer",background:t.palette.primary.main,color:"transparent",transition:"all 0.25s ease"}}),e.list.map((function(n,r){return(0,i.jsx)("div",{style:{position:"relative",padding:"7px",borderRadius:"50px",cursor:"pointer",color:l===r?"white":t.palette.secondary.contrastText},onClick:function(){u(r),e.onChange&&e.onChange(n)},children:n.label},r)}))]})})}},64904:function(e,t,n){n.d(t,{M:function(){return a}});var r=n(5544),o=n(65043),a=function(e,t){var n,a=o.useState(null!==(n=JSON.parse(localStorage.getItem(e)))&&void 0!==n?n:t),i=(0,r.A)(a,2),s=i[0],c=i[1];return o.useEffect((function(){localStorage.setItem(e,JSON.stringify(s))}),[s,e]),[s,c]}},29088:function(e,t,n){n.r(t),n.d(t,{Main:function(){return ne},default:function(){return re}});var r=n(65043),o=n(83003),a=n(85211),i=n(72378),s=n(17135),c=n(5544),l=n(19853),u=n(65240),d=n(8168),p=n(51715),h=n(95382),f=n(43845),m=n(18751),g=n(72620),x=n(72450),b=n.n(x),j=n(26240),y=n(70579),v=function(e){var t=(0,j.A)(),n=(0,u.A)((function(e){return{btn_color:{color:"".concat(t.palette.primary.main," !important"),padding:"5px !important",width:"20px !important",height:"20px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid ".concat(t.palette.primary.light," !important"),"&:hover":{color:"#fff !important",backgroundColor:"".concat(t.palette.primary.main," !important")},"& .MuiSvgIcon-root":{width:"14px !important"}}}}))(),o=(0,r.useState)([]),a=(0,c.A)(o,2),i=a[0],s=a[1],x=(0,r.useState)(0),v=(0,c.A)(x,2),A=v[0],k=v[1],w=(0,r.useState)(0),S=(0,c.A)(w,2),C=S[0],T=S[1];(0,r.useEffect)((function(){var t={page:A};l.SP(e.user,JSON.stringify(t)).then((function(e){s(e)})).catch((function(e){console.log(e)})),l.Eh(e.user).then((function(e){T(e)})).catch((function(e){console.log(e)}))}),[A]);var R=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())};return(0,y.jsx)(d.A,{pagination:!0,resources:i,perpage:10,page:A,setPage:function(e){return k(e)},total:C,columns:[{destiny:"date",label:"Fecha"},{destiny:"name",label:"Nombre"},{destiny:"status",label:"Estado"},{destiny:"",label:"Acciones"}],columnSolver:function(e,t){return(0,y.jsxs)(y.Fragment,{children:["name"===t.destiny&&(0,y.jsx)("span",{children:e.name}),"status"===t.destiny&&(0,y.jsx)(y.Fragment,{children:"pending"===e.status?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(p.A,{className:"".concat(n.btn_color)})}):"completed"===e.status?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(h.A,{className:"".concat(n.btn_color)})}):"failed"===e.status?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(g.A,{className:"".concat(n.btn_color)})}):(0,y.jsx)(y.Fragment,{})}),"date"===t.destiny&&(0,y.jsx)(y.Fragment,{children:R(e.date.$date)}),""===t.destiny&&"completed"===e.status&&"file_download"===e.resultType&&(0,y.jsx)(f.A,{label:"Descargar",icon:(0,y.jsx)(m.A,{}),onClick:function(){return t=e.name.split(".")[0],n=e.taskId,void l.EI(t,n).then((function(e){var n=new Blob([e]),r="";"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?r="xlsx":"application/pdf"===e.type?r="pdf":"application/zip"===e.type&&(r="zip"),b().saveAs(n,"".concat(t,".").concat(r))})).catch((function(e){console.log(e)}));var t,n}})]})}})},A=n(5670),k=n(55263),w=n(77739),S=n(63336),C=n(64904),T=n(28780),R=n(15089),P=n(73216),F=n(88455),z=n(43288),N=function(e){var t=(0,j.A)(),n=(0,P.Zp)(),a=(0,u.A)((function(e){return{chip_style:{margin:"1px 2px !important",backgroundColor:t.palette.primary.light+" !important",color:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:t.palette.primary.main+" !important",color:"#fff !important","& path":{fill:"#fff !important"}}}}}))(),i=(0,r.useState)([]),s=(0,c.A)(i,2),l=s[0],p=s[1],h=(0,r.useState)(0),m=(0,c.A)(h,2),g=m[0],x=m[1],b=(0,r.useState)(0),v=(0,c.A)(b,2),N=v[0],E=v[1],_=(0,C.M)("favView","resources"),M=(0,c.A)(_,2),B=M[0],I=M[1],L=(0,o.wA)(),O=(0,o.d4)((function(e){return e.user})),H=(0,r.useState)(!0),q=(0,c.A)(H,2),U=q[0],J=q[1];(0,r.useEffect)((function(){G()}),[]),(0,r.useEffect)((function(){G()}),[g,B]);var G=function(){p([]),J(!0),A.qM({type:B,page:g}).then((function(e){J(!1),p(e.results),E(e.total)})).catch((function(e){console.log(e)}))},W=function(e){var t={type:B,id:e};A.C5(t).then((function(e){G(),L((0,F.me)(O.access_token))})).catch((function(e){console.log(e)}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(S.A,{elevation:1,style:{padding:5,marginBottom:5,width:"100%"},children:(0,y.jsx)(k.A,{style:{minHeight:"auto",margin:5,justifyContent:"center"},children:(0,y.jsx)(R.A,{value:B,list:[{label:"Recursos",value:"resources"},{label:"Archivos",value:"records"}],onChange:function(e){p([]),I(e.value)}})})}),l.length>0&&"resources"===B&&(0,y.jsx)(d.A,{pagination:!0,resources:l,page:g,setPage:x,total:N,perpage:20,columns:[{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:"T\xedtulo"}],columnSolver:function(e,t){return(0,y.jsxs)(y.Fragment,{children:["metadata.firstLevel.title"===t.destiny&&(0,y.jsx)("span",{children:e.metadata.firstLevel.title}),""===t.destiny&&(0,y.jsx)(k.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:(0,y.jsx)(w.A,{title:"Quitar",placement:"top",children:(0,y.jsx)(f.A,{label:"",size:"small",icon:(0,y.jsx)(T.A,{}),onClick:function(){return W(e.id)},className:a.chip_style})})})]})},handleClick:function(e){e.view?n("/explore/".concat(e.view,"/detail/").concat(e.id)):n("/detail/".concat(e.id))}}),U&&(0,y.jsx)(z.A,{}),l.length>0&&"records"===B&&(0,y.jsx)(d.A,{pagination:!0,resources:l,page:g,setPage:x,total:N,perpage:20,columns:[{destiny:"",label:""},{destiny:"name",label:"T\xedtulo"}],columnSolver:function(e,t){return(0,y.jsxs)(y.Fragment,{children:["name"===t.destiny&&(0,y.jsx)("span",{children:e.displayName?e.displayName:e.name}),""===t.destiny&&(0,y.jsx)(k.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:(0,y.jsx)(w.A,{title:"Quitar",placement:"top",children:(0,y.jsx)(f.A,{label:"",size:"small",icon:(0,y.jsx)(T.A,{}),onClick:function(){return W(e.id)},className:a.chip_style})})})]})},handleClick:function(e){n("/file/".concat(e.id))}})]})},E=n(10765),_=n(63516),M=n(11238),B=n(58140),I=function(e){var t=(0,r.useState)(null),n=(0,c.A)(t,2),a=n[0],i=n[1],s=(0,o.d4)((function(e){return e.user})),l=(0,o.wA)(),u=(0,B.M)().showAlert;return(0,r.useEffect)((function(){i({name:s.name,password:"",password_confirmation:""})}),[e.user]),(0,y.jsx)(y.Fragment,{children:a&&(0,y.jsx)(_.l1,{initialValues:a,onSubmit:function(e){u("askUserInput","Ingresa la contrase\xf1a de tu cuenta para realizar cambios al perfil:","password").then((function(t){A.vE(JSON.stringify({name:e.name,password:t,new_password:e.password,new_password_confirmation:e.password_confirmation})).then((function(e){u("success","Tu perfil ha sido actualizado."),l((0,F.me)(s.access_token))})).catch((function(e){e.json().then((function(e){u("error","Hubo un error al actualizar tu perfil: ".concat(e.msg))}))}))}))},children:function(e){var t=e.values,n=(e.errors,e.touched,e.handleChange),r=e.handleBlur,o=e.handleSubmit;e.isSubmitting,e.setFieldValue;return(0,y.jsxs)("form",{style:{width:"100%"},onSubmit:o,children:[(0,y.jsx)(E.BR,{name:"Nombre",id:"name",value:t.name,handleChange:n,handleBlur:r}),(0,y.jsx)(E.BR,{name:"Contrase\xf1a",id:"password",type:"password",value:t.password,handleChange:n,handleBlur:r}),(0,y.jsx)(E.BR,{name:"Confirmar contrase\xf1a",id:"password_confirmation",type:"password",value:t.password_confirmation,handleChange:n,handleBlur:r}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:(0,y.jsx)(M.nA,{label:"Guardar cambios",type:"submit",style:{width:"300px"}})})]})}})})},L=n(60436),O=n(48210),H=n(98787),q=n(91784),U=function(e){var t=(0,j.A)(),n=(0,u.A)((function(e){return{chip_style:{margin:"1px 2px !important",backgroundColor:t.palette.primary.light+" !important",color:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:t.palette.primary.main+" !important",color:"#fff !important","& path":{fill:"#fff !important"}}}}}))(),o=(0,C.M)("snapView","image"),a=(0,c.A)(o,2),i=a[0],s=a[1],l=(0,r.useState)([]),p=(0,c.A)(l,2),h=p[0],m=p[1],g=(0,r.useState)(0),x=(0,c.A)(g,2),b=x[0],v=x[1],A=(0,r.useState)(0),F=(0,c.A)(A,2),N=F[0],E=F[1],_=(0,r.useState)(!0),M=(0,c.A)(_,2),B=M[0],I=M[1],U=(0,P.Zp)(),J=function(e){var t=h.findIndex((function(t){return t._id===e}));if(h[t].snap){var n=(0,L.A)(h);n[t].snap=null,m(n)}else O.rQ(e).then((function(e){var n=(0,L.A)(h),r=new Blob([e],{type:"image/jpeg"}),o=URL.createObjectURL(r);n[t].snap=(0,y.jsx)("img",{src:o,alt:"snap",style:{width:"100%"}}),m(n)}))},G=function(){I(!0),O._e({page:b,type:i}).then((function(e){m(e.results),E(e.total),I(!1)}))};(0,r.useEffect)((function(){G()}),[]),(0,r.useEffect)((function(){G()}),[b,i]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(S.A,{style:{padding:5,marginBottom:5,width:"100%"},children:(0,y.jsx)(k.A,{style:{minHeight:"auto",margin:5,justifyContent:"center"},children:(0,y.jsx)(R.A,{value:i,list:[{value:"image",label:"Im\xe1genes"},{value:"document",label:"Documentos"},{value:"audio",label:"Audios"},{value:"video",label:"Videos"},{value:"transcription",label:"Transcripciones"}],onChange:function(e){m([]),s(e.value)}})})}),B&&(0,y.jsx)(z.A,{}),h.length>0&&!B&&(0,y.jsx)(d.A,{pagination:!0,resources:h,page:b,setPage:v,total:N,perpage:20,columns:[{destiny:"",label:""},{destiny:"record_name",label:"Nombre del archivo"}],columnSolver:function(e,t){return(0,y.jsxs)(y.Fragment,{children:["record_name"===t.destiny&&(0,y.jsx)("span",{children:e.record_name}),""===t.destiny&&(0,y.jsxs)(k.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:[(0,y.jsx)(w.A,{title:"Ver recorte",placement:"top",children:(0,y.jsx)(f.A,{label:"",size:"small",icon:(0,y.jsx)(q.A,{}),onClick:function(){J(e._id)},className:n.chip_style})}),(0,y.jsx)(w.A,{title:"Quitar",placement:"top",children:(0,y.jsx)(f.A,{label:"",size:"small",icon:(0,y.jsx)(T.A,{}),onClick:function(){return t=e._id,void O.u5(t).then((function(e){G()}));var t},className:n.chip_style})}),(0,y.jsx)(w.A,{title:"Ver documento",placement:"top",children:(0,y.jsx)(f.A,{label:"",size:"small",icon:(0,y.jsx)(H.A,{}),onClick:function(){U("/file/".concat(e.record_id))},className:n.chip_style})})]})]})},handleClick:function(e){J(e._id)}})]})},J=n(89379),G=n(15316),W=n(17392),D=n(11906),V=n(85865),Q=n(81551),Z=n(4002),X=n(47260),Y=n(72819),$=(0,Q.A)((function(e){return{item:{paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,width:"100%","& h6":{margin:0,marginBottom:5,color:"#666",fontWeight:"bold"},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(odd)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"}},"& input":{width:"100%",padding:5,border:"1px solid #ccc",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderRight:"none"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}}},generateBlock:{display:"flex"},leftInput:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none"},sliderContainer:{width:"100%",display:"flex",marginTop:10},counter:{borderRadius:3,borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none",minWidth:100,background:"#eee",border:"1px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center"},slider:{borderRadius:3,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",width:"100%",border:"1px solid #ccc",borderRight:"none",position:"relative"},anim:{position:"absolute",top:0,left:0,height:"100%",background:"#56749a",transition:"width .3s ease-in-out"}}})),K=function(e){var t=$(),n=(0,r.useState)("password"),o=(0,c.A)(n,2),a=o[0],i=o[1],s=(0,j.A)(),l=(0,B.M)().showAlert;return(0,y.jsxs)(G.A,{className:t.generateBlock,children:[(0,y.jsx)("input",{type:a,value:e.value,readOnly:!0,className:t.leftInput}),(0,y.jsx)(W.A,{sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none"},children:"password"===a?(0,y.jsx)(X.A,{onClick:function(){return i("text")}}):(0,y.jsx)(Y.A,{onClick:function(){return i("password")}})}),(0,y.jsx)(D.A,{variant:"outlined",className:t.rightButton,sx:{boxShadow:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"1px solid #ccc",color:s.palette.grey[600]},onClick:function(){var t=e.timed?"askUserInputGenerate":"askUserInput";l(t,"","password").then((function(t){e.timed?e.callback(t).then((function(t){l("success","Token generado"),e.requestUser()})).catch((function(e){l("error","Error al generar token")})):e.callback({password:t}).then((function(t){l("success","Token generado"),e.requestUser()})).catch((function(e){l("error","Error al generar token")}))}))},children:"Generar"})]})},ee=function(e){var t=$(),n=(0,r.useState)(0),o=(0,c.A)(n,2),a=o[0],i=o[1];(0,r.useEffect)((function(){s()}),[]);var s=function(){A.nH().then((function(e){i(e.requests)})).catch((function(e){console.log(e)}))};return(0,y.jsxs)(G.A,{className:t.sliderContainer,children:[(0,y.jsx)(G.A,{className:t.slider,children:(0,y.jsx)(G.A,{className:t.anim,sx:{width:"".concat(a/2e3*100,"%")}})}),(0,y.jsx)(W.A,{onClick:function(){s()},sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none"},children:(0,y.jsx)(Z.A,{})}),(0,y.jsxs)(G.A,{className:t.counter,children:[a,"/2000"]})]})},te=function(e){var t=(0,o.d4)((function(e){return e.user})),n=(0,r.useState)(null),a=(0,c.A)(n,2),i=a[0],s=a[1],l=$(),u=(0,j.A)(),d=function(){A.Jt().then((function(e){var t={};e.adminToken&&(t=(0,J.A)((0,J.A)({},t),{},{adminToken:e.adminToken})),e.token&&(t=(0,J.A)((0,J.A)({},t),{},{token:e.token})),e.vizToken&&(t=(0,J.A)((0,J.A)({},t),{},{vizToken:e.vizToken})),e.nodeToken&&(t=(0,J.A)((0,J.A)({},t),{},{nodeToken:e.nodeToken})),e.requests&&(t=(0,J.A)((0,J.A)({},t),{},{requests:e.requests})),s(t)})).catch((function(e){console.log(e)}))};return(0,r.useEffect)((function(){d()}),[]),(0,y.jsxs)(y.Fragment,{children:[!i&&(0,y.jsx)(z.A,{}),i&&(0,y.jsxs)(y.Fragment,{children:[t.roles.includes("admin")&&(0,y.jsx)(G.A,{className:l.item,children:(0,y.jsxs)(G.A,{children:[(0,y.jsx)(V.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Auth Header Token"}),(0,y.jsxs)(V.A,{variant:"body1",style:{fontSize:14,marginBottom:10},children:[(0,y.jsx)("i",{children:"Solo para administradores."})," Este token permite usar la API completa del aplicativo desde otras aplicaciones. Sirve para carga masiva de contenido usando el m\xf3dulo . El token es v\xe1lido por dos d\xedas o hasta generar uno nuevo."]}),(0,y.jsx)(K,{value:i.adminToken?i.adminToken:"",callback:A.ke,requestUser:d,timed:!0})]})}),t.roles.includes("admin")&&(0,y.jsx)(G.A,{className:l.item,children:(0,y.jsxs)(G.A,{children:[(0,y.jsx)(V.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Auth Header Token para los nodos de procesamiento"}),(0,y.jsxs)(V.A,{variant:"body1",style:{fontSize:14,marginBottom:10},children:[(0,y.jsx)("i",{children:"Solo para administradores."})," Este token sirve para conectar los nodos de procesamiento al nodo principal y habilita la limpieza del cache."]}),(0,y.jsx)(K,{value:i.nodeToken?i.nodeToken:"",callback:A.XG,requestUser:d})]})}),t.roles.includes("visualizer")&&(0,y.jsx)(G.A,{className:l.item,children:(0,y.jsxs)(G.A,{children:[(0,y.jsx)(V.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Token para los tableros de visualizaci\xf3n"}),(0,y.jsxs)(V.A,{variant:"body1",style:{fontSize:14,marginBottom:10},children:["Este token permite conectar los tableros de visualizaci\xf3n con el aplicativo. Est\xe1 disponible para los usuarios con rol ",(0,y.jsx)("i",{children:"visualizer"}),". Puedes usar ",(0,y.jsx)("a",{style:{textDecoration:"none",color:u.palette.primary.main,background:u.palette.grey[200],paddingLeft:5,paddingRight:5},href:"https://observablehq.com/framework/",children:"Observable Framework"})," para personalizar reportes con datos de tu archivo."]}),(0,y.jsx)(K,{value:i.vizToken?i.vizToken:"",callback:A.S,requestUser:d})]})})]}),i&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(G.A,{className:l.item,children:(0,y.jsxs)(G.A,{children:[(0,y.jsx)(V.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Token para la API p\xfablica"}),(0,y.jsx)(V.A,{variant:"body1",style:{fontSize:14,marginBottom:10},children:"Este token permite usar la API p\xfablica del aplicativo. Esta disponible para todos los usuarios y tiene un l\xedmite de 2000 peticiones a la semana. Es v\xe1lido hasta que se genere uno nuevo."}),(0,y.jsx)(K,{value:i.token?i.token:"",callback:A.HU,requestUser:d})]})}),(0,y.jsx)(G.A,{className:l.item,children:(0,y.jsxs)(G.A,{sx:{width:"100%"},children:[(0,y.jsx)(V.A,{variant:"h6",style:{color:"#666",fontWeight:"normal"},children:"Cantidad de peticiones a la API esta semana"}),(0,y.jsx)(ee,{})]})})]})]})},ne=function(e){var t=(0,o.wA)(),n=(0,o.d4)((function(e){return e.user})),c=(0,o.d4)((function(e){return e.app.views}));return(0,r.useEffect)((function(){if(!c.profile){var e=(0,a.FU)(c,"profile",{tab:"profile"});t((0,a.GD)(e))}}),[]),(0,y.jsx)(i.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:c.profile&&(0,y.jsxs)(i.EL,{style:{display:"flex",height:"calc(100% - 40px)",maxWidth:650,placeContent:"flex-start",overflow:"auto"},children:["keys"===c.profile.tab&&(0,y.jsx)(te,{}),"profile"===c.profile.tab&&(0,y.jsx)(I,{user:n,requestUser:e.requestUser}),"favorites"===c.profile.tab&&(0,y.jsx)(N,{}),"snaps"===c.profile.tab&&(0,y.jsx)(U,{}),"tasks"===c.profile.tab&&(0,y.jsx)(v,{user:n.name}),"usertasks"===c.profile.tab&&(0,y.jsx)(s.A,{user:n.name}),"autotasks"===c.profile.tab&&(0,y.jsx)(v,{user:"automatic"})]})})},re=ne},48210:function(e,t,n){n.d(t,{_e:function(){return i},rQ:function(){return c},u5:function(){return s},vt:function(){return a}});var r=n(88120),o=n(91280);function a(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/snaps",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/snaps",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/snaps/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 204!==e.status?Promise.reject(e):e}))}function c(e){var t="/snaps/"+e,n={method:"GET",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.blob()}))}},5670:function(e,t,n){n.d(t,{C5:function(){return g},Gm:function(){return m},HU:function(){return d},Hc:function(){return l},Jt:function(){return c},S:function(){return f},UK:function(){return u},XG:function(){return h},ke:function(){return p},nH:function(){return b},qM:function(){return x},vE:function(){return i},vt:function(){return s},yo:function(){return a}});var r=n(88120),o=n(91280);function a(e){var t={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/users/update",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/users/update-me",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/users/register",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function c(){var e={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.FM+"/users/me",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function l(e){var t="/users/"+e,n={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function u(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/users",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function d(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function p(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/admin-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function h(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/node-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function f(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/viz-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function m(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function g(e){var t={method:"DELETE",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function x(e){var t={method:"POST",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(r.FM+"/users/favorites_list",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function b(){var e={method:"GET",headers:{Authorization:(0,o.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default"};return fetch(r.FM+"/users/requests",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},17135:function(e,t,n){var r=n(5544),o=n(65043),a=n(86279),i=n(73216),s=n(26240),c=n(65240),l=n(8168),u=n(43845),d=n(43288),p=n(58140),h=n(88120),f=n(98787),m=n(70579);t.A=function(e){var t=(0,s.A)(),n=(0,p.M)().showAlert,g=(0,c.A)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"30px !important",height:"30px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}},chip_style:{margin:"1px 2px !important",backgroundColor:t.palette.secondary.light+" !important",color:t.palette.primary.dark+" !important",border:"1px solid white !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:t.palette.secondary.main+" !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:t.palette.primary.dark+" !important",color:"#fff !important","& path":{fill:"#fff !important"}}},access_chip:{backgroundColor:t.palette.secondary.light+" !important",border:"1px solid "+t.palette.secondary.main+" !important",color:t.palette.secondary.dark+" !important","& svg":{marginLeft:"10px !important",width:"15px !important",height:"15px !important",opacity:".5 !important"}}}}))(),x=(0,o.useState)([]),b=(0,r.A)(x,2),j=b[0],y=b[1],v=(0,o.useState)(0),A=(0,r.A)(v,2),k=A[0],w=A[1],S=(0,o.useState)(0),C=(0,r.A)(S,2),T=C[0],R=C[1],P=(0,i.Zp)();(0,o.useEffect)((function(){F()}),[k]);var F=function(){a.C(JSON.stringify({status:["pending","review","rejected"],page:k,user:e.user?e.user:null})).then((function(e){y(e.results),R(e.total)})).catch((function(e){e.json().then((function(t){n("error",e.msg).then((function(){P("/")}))}))}))};return(0,m.jsxs)(m.Fragment,{children:[0===j.length&&(0,m.jsx)(d.A,{}),j.length>0&&(0,m.jsx)(l.A,{pagination:!0,resources:j,perpage:10,page:k,setPage:w,total:T,columns:[{destiny:"date",label:"Fecha"},{destiny:"user",label:"Usuario"},{destiny:"status",label:"Estado"},{destiny:"link",label:"Acciones"}],columnSolver:function(e,t){return(0,m.jsxs)(m.Fragment,{children:["user"===t.destiny&&(0,m.jsx)("span",{children:e.user}),"status"===t.destiny&&(0,m.jsx)(u.A,{label:h.Y$.find((function(t){return t.value===e.status})).label,size:"small",style:{margin:"2px"},className:g.access_chip}),"link"===t.destiny&&(0,m.jsx)(u.A,{size:"small",icon:(0,m.jsx)(f.A,{}),className:g.chip_style,onClick:function(){return P("/cataloging/".concat(e.resourceType,"/edit/").concat(e.resourceId))}}),"date"===t.destiny&&(0,m.jsx)("span",{children:e.createdAt})]})}})]})}},8168:function(e,t,n){var r=n(60436),o=n(5544),a=n(65043),i=n(81551),s=n(83003),c=n(85211),l=n(15316),u=n(71806),d=n(73460),p=n(10039),h=n(79650),f=n(84882),m=n(19090),g=n(28076),x=n(63336),b=n(51962),j=n(70579);(0,i.A)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"30px !important",height:"30px !important",margin:"0 2px !important",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}}}}));function y(e){e.onSelectAllClick;var t=e.order,n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort,e.headCells);return(0,j.jsx)(f.A,{children:(0,j.jsx)(g.A,{children:r.map((function(e){return(0,j.jsx)(p.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t,children:e.label},e.id)}))})})}function v(e){var t=(0,s.wA)(),n=(0,s.d4)((function(e){return e.app.filters}));return(0,j.jsx)(m.A,{rowsPerPage:e.perpage,rowsPerPageOptions:[],count:e.total,page:n[e.view]?n[e.view].page:0,onPageChange:function(r,o){var a=(0,c.e)(n,e.view,"page",o);t((0,c.vm)(a))}})}t.A=function(e){var t=e.style,n=e.resources,i=e.pagination,s=e.columns,c=e.columnSolver,f=e.page,m=e.setPage,A=e.total,k=e.handleClick,w=e.perpage,S=e.type,C=e.selectedResources,T=e.view,R=a.useState(!1),P=(0,o.A)(R,2),F=P[0],z=(P[1],(0,a.useState)([])),N=(0,o.A)(z,2),E=N[0];N[1];return(0,j.jsx)(j.Fragment,{children:n.length>0&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(l.A,{sx:{width:"100%"},style:t||null,children:(0,j.jsx)(h.A,{children:(0,j.jsxs)(u.A,{sx:{width:"100%"},"aria-labelledby":"tableTitle",size:F?"small":"medium",padding:"none",children:[(0,j.jsx)(y,{numSelected:E.length,headCells:"checkbox"===S?[{id:"checkbox",numeric:!1,disablePadding:!0,label:""}].concat((0,r.A)(s)):s}),(0,j.jsx)(d.A,{children:n.map((function(e){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g.A,{hover:!0,role:"checkbox",tabIndex:-1,style:k?{cursor:"pointer"}:{},children:["checkbox"===S&&(0,j.jsx)(p.A,{component:"th",id:"checkbox",scope:"row",sx:{padding:"10px 10px"},children:(0,j.jsx)(b.A,{onClick:k?function(){return k(e)}:null,color:"primary",checked:!!C&&C.includes(e.id)})}),s.map((function(t){return(0,j.jsx)(p.A,{component:"th",id:t.destiny,scope:"row",onClick:k&&""!==t.destiny?function(){return k(e)}:null,sx:{padding:"10px 10px"},children:c(e,t)},t.destiny)}))]},e.id),e.snap&&(0,j.jsx)(g.A,{children:(0,j.jsx)(p.A,{component:"th",scope:"row",sx:{padding:"10px 10px"},children:(0,j.jsx)(x.A,{children:e.snap})})})]})}))}),i&&(0,j.jsx)(v,{view:T,page:f,setPage:m,total:A,perpage:w})]})})})})})}}}]);
//# sourceMappingURL=9088.9c697c82.chunk.js.map