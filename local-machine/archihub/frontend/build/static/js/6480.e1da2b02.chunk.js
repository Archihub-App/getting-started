"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[6480],{72378:function(e,n,t){t.d(n,{EL:function(){return c},WB:function(){return u}});var r=t(89379),o=(t(65043),t(26240)),a=t(81551),i=t(83003),s=t(70579),c=function(e){var n=(0,o.A)(),t=(0,i.d4)((function(e){return e.app.isDarkMode})),c=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:n.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:n.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:n.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,s.jsx)("div",{id:e.id,style:(0,r.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:t?n.palette.grey[900]:"white",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:c.bloque,onMouseDown:e.onMouseDown,onScroll:e.onScroll,children:e.children})},u=function(e){var n=(0,o.A)(),t=(0,a.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:n.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:n.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:n.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,s.jsx)("div",{id:e.id,style:(0,r.A)({padding:10,backgroundColor:n.palette.grey[100],borderRadius:5,color:n.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:t.bloque,children:e.children})};n.Ay=function(e){var n=e.children,t=e.style;e.onScroll;return(0,s.jsx)("section",{style:(0,r.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},t),children:n})}},26480:function(e,n,t){t.r(n);var r=t(5544),o=t(65043),a=t(83003),i=t(73216),s=t(97223),c=t(16702),u=t(72378),l=t(63516),d=t(24394),h=t(11238),f=t(26240),g=t(43288),p=t(58140),m=t(99246),b=(t(88120),t(70579));n.default=function(e){var n=(0,o.useState)(!1),t=(0,r.A)(n,2),v=t[0],y=t[1],j=(0,o.useState)(null),k=(0,r.A)(j,2),w=k[0],x=k[1],C=(0,o.useState)(!0),A=(0,r.A)(C,2),H=A[0],S=A[1],T=(0,o.useState)([]),M=(0,r.A)(T,2),P=M[0],E=M[1],R=(0,i.g)().slug,z=((0,a.d4)((function(e){return e.app.user})),(0,i.Zp)()),B=(0,p.M)().showAlert,q=(0,f.A)(),N=(0,m.A)();(0,o.useEffect)((function(){R?(y(!0),s.Hc(R).then((function(e){x({name:e.name,provider:e.provider,endpoint:e.endpoint||"",endpointCognitive:e.endpointCognitive||""}),S(!1)})).catch((function(e){console.log(e),S(!1),B("error",N.formatMessage({id:"cataloging.errorLoadingResource"}))})),s.Z3().then((function(e){E(e)})).catch((function(e){console.log(e),S(!1),B("error",N.formatMessage({id:"cataloging.errorLoadingProviders"}))}))):s.Z3().then((function(e){E(e),y(!1),S(!1),x({name:"",provider:e[0],key:"",endpoint:""})})).catch((function(e){console.log(e)}))}),[]);var D=function(e){z("".concat(e))};return(0,b.jsxs)(u.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,b.jsx)(u.EL,{style:{width:"70%",maxWidth:600,display:"block",overflow:"auto",placeContent:"flex-start"},children:w&&(0,b.jsx)(l.l1,{initialValues:w,onSubmit:function(e,n){var t=n.setSubmitting;v?v&&B("confirm",N.formatMessage({id:"cataloging.confirmEditResource"})).then((function(n){n&&(S(!0),s.xI(R,e).then((function(e){S(!1),B("success",e.msg).then((function(){D("/processing/aiasistent")}))})).catch((function(e){S(!1),e.json().then((function(e){B("error",e.msg)}))})))})):B("confirm",N.formatMessage({id:"cataloging.confirmNewResource"})).then((function(n){n&&(S(!0),s.v5(e).then((function(e){S(!1),B("success",e.msg).then((function(){D("/processing/aiasistent")}))})).catch((function(e){S(!1),e.json().then((function(e){B("error",e.msg)}))})))})),t(!1)},validate:function(e){var n={};return e.name||(n.name="El nombre es requerido"),n},children:function(e){var n=e.values,t=e.errors,r=(e.touched,e.handleChange),o=e.handleBlur,a=e.handleSubmit,i=e.isSubmitting;return(0,b.jsx)("form",{onSubmit:a,children:(0,b.jsxs)(c.A,{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)(d.BR,{name:N.formatMessage({id:"general.name"}),id:"name",handleChange:r,handleBlur:o,value:n.name,errors:t.name,required:!0}),(0,b.jsx)(d.Q5,{name:N.formatMessage({id:"general.provider"}),id:"provider",handleChange:r,handleBlur:o,value:n.provider,errors:t.provider,required:!0,options:P.map((function(e){return{value:e,label:e}})),disabled:v}),!v&&(0,b.jsx)(d.BR,{name:N.formatMessage({id:"general.apiKey"}),id:"key",handleChange:r,handleBlur:o,value:n.key,errors:t.key,required:!0,type:"password"}),"Azure"===n.provider&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.BR,{name:N.formatMessage({id:"general.endpoint"}),id:"endpoint",handleChange:r,handleBlur:o,value:n.endpoint,errors:t.endpoint}),(0,b.jsx)(d.BR,{name:N.formatMessage({id:"general.endpointCognitive"}),id:"endpointCognitive",handleChange:r,handleBlur:o,value:n.endpointCognitive,errors:t.endpointCognitive})]}),(0,b.jsxs)(c.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,b.jsx)(h.nA,{type:"button",variant:"outlined",onClick:function(){return D("/processing/aiasistent")},style:{margin:5,width:"auto"},label:N.formatMessage({id:"general.cancel"}),customColor:{color:q.palette.grey[600],background:q.palette.grey[200]}}),(0,b.jsx)(h.nA,{type:"submit",style:{margin:5,width:"auto"},variant:"outlined",disabled:i,label:v?N.formatMessage({id:"general.update"}):N.formatMessage({id:"cataloging.createNew"})})]})]})})}})}),H&&(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,b.jsx)(g.A,{})})]})}},97223:function(e,n,t){t.d(n,{De:function(){return l},Hc:function(){return i},Jb:function(){return h},QL:function(){return g},SM:function(){return d},UK:function(){return a},Z3:function(){return s},kP:function(){return f},v5:function(){return c},xI:function(){return u}});var r=t(88120),o=t(91280);function a(){var e={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/llms",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var n="/llms/model/"+e,t={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+n,t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(){var e={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/llms/providers",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var n={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/llms",n).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function u(e,n){var t="/llms/"+e,a={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(n)};return fetch((0,r.H6)()+t,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var n="/llms/"+e,t={method:"DELETE",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+n,t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e){var n="/llms/models/"+e,t={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+n,t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function h(e){var n={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/llms/conversation",n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function f(e){var n={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/llms/conversation/history",n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function g(e){var n="/llms/conversation/"+e,t={method:"GET",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+n,t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}}}]);
//# sourceMappingURL=6480.e1da2b02.chunk.js.map