(this.webpackJsonpsim=this.webpackJsonpsim||[]).push([[21],{1372:function(e,t,n){"use strict";n.r(t);n(203);var a=n(35),r=n(2),o=n.n(r),i=n(990),c=n(50),l=n(119),u=(n(946),n(979)),s=n(938),d=n(937),f=n(943),m=n.n(f),p=n(843),h=n(46),b=n(953),v=n(991),g=n(930),E=n(1418),x=(n(1002),n(1013),n(996),n(1114),Object(p.a)((function(e){return{toolbar:{minHeight:"auto",padding:5,paddingLeft:"10px !important",backgroundColor:"#56749a",color:"#fff",borderTopLeftRadius:10,overflow:"hidden",alignItems:"center","& h6":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:16,margin:0}}}})));t.default=Object(c.b)((function(e){return{user:e.auth.user}}),l.a)((function(e){var t=x(),n=Object(r.useState)(null),c=Object(a.a)(n,2),l=c[0],f=c[1],p=Object(r.useState)(null),j=Object(a.a)(p,2),y=j[0],w=j[1],O=Object(r.useState)(null),B=Object(a.a)(O,2),k=B[0],S=B[1],T=Object(r.useState)(null),R=Object(a.a)(T,2),N=(R[0],R[1],Object(r.useState)(null)),z=Object(a.a)(N,2);z[0],z[1],b.e;Object(r.useEffect)((function(){e.match.params.slug&&u.e(e.match.params.slug).then((function(e){console.log(e),f(e.types),S(e.files),w({name:e.name,icon:e.icon,description:e.description})})).catch((function(e){console.log(e)}))}),[]);return o.a.createElement(s.a,null,o.a.createElement(d.a,{userRoles:e.user.roles,list:function(){var t=[];return t.push({name:"Volver",icon:o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null)),callback:function(){e.history.goBack()}}),t}()}),l&&k&&y&&o.a.createElement(i.BloqueContenido,{style:{width:"calc(100% - 20px)",height:"calc(100vh - 100px)",padding:"2px",background:"rgb(255 255 255 / 34%)",border:"none",backdropFilter:"blur(10px)",display:"flex"}},o.a.createElement(g.a,{style:{width:"400px",height:"100%",background:"white",borderTopLeftRadius:10,borderBottomLeftRadius:10,marginRight:10}},o.a.createElement(E.a,{className:t.toolbar},o.a.createElement("div",{style:{marginLeft:"24px"}},h.d.find((function(e){return e.value===y.icon})).icon),o.a.createElement("h6",{style:{flexGrow:1,marginLeft:15}},y.name)),o.a.createElement(v.b,{type:y,parents:l,files:k}))))}))},979:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return s}));var a=n(204),r=n(46);function o(e){var t="/views/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t="/views/info/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e,t){var n="/views/"+e,o={method:"PUT",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+n,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t="/views/"+e,n={method:"DELETE",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+"/views",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/views",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}},991:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return x}));var a=n(16),r=n(2),o=n.n(r),i=n(930),c=n(1409),l=n(843),u=n(46),s=n(264),d=n.n(s),f=n(953),m=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},p=function(e){return o.a.createElement("div",null,e.data.map((function(e,t){return o.a.createElement(o.a.Fragment,null,e.count>0&&o.a.createElement("div",{key:t},o.a.createElement("div",{style:{position:"relative",height:"5px",borderRadius:"10px",marginTop:"15px",border:"1px solid #acbbd1",marginBottom:"2px"}},o.a.createElement("div",{style:{width:"".concat(e.percent,"%"),position:"absolute",height:"100%",background:"#acbbd1",borderRadius:"10px"}})),o.a.createElement("div",null,o.a.createElement("div",null,e.name," ",o.a.createElement("span",{style:{float:"right",border:"#fff",fontWeight:"bold",color:"#56749a",minWidth:"20px",height:"20px",lineHeight:"20px",textAlign:"center",fontSize:"10px",borderRadius:"10px",padding:"0px 10px"}},m(e.count))))))})))},h=function(e){var t,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){!function(){var t=e.data.map((function(e){return{type:e._id?e._id:"Sin procesar",value:e.count,color:e.color}})),a=f.f(n.current);a.attr("viewBox","0 0 200 200");var r=f.a().innerRadius(70).outerRadius(85),o=f.b().value((function(e){return e.value})),i=(f.a().innerRadius(95).outerRadius(95),o(t));a.append("g").attr("class","donut-container").attr("transform","translate(".concat(100,", ").concat(100,")")).selectAll("path").data(i).join("path").style("stroke","white").style("stroke-width",2).style("fill",(function(e){return e.data.color})).attr("d",r)}()}),[]),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",position:"relative"}},o.a.createElement("svg",{style:{maxWidth:130},ref:n,className:e.className}),o.a.createElement("div",null,null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return o.a.createElement("div",{style:{textTransform:"uppercase",fontSize:"10px",fontWeight:"bold"},key:t},e._id?u.a.find((function(t){return t.value===e._id})).label:"Sin procesar",o.a.createElement("div",{style:{background:e.color,textAlign:"center",fontWeight:"bold",color:"white",maxWidth:60,borderRadius:3}},m(e.count)))}))))},b=Object(l.a)((function(e){return{container:{display:"flex",flexDirection:"column",width:"90%",overflowY:"auto",marginLeft:"5%",marginTop:"20px",backgroundColor:"#fff",borderRadius:"5px",boxShadow:"inset 0 0 5px rgba(0,0,0,.1)"},item:{padding:"10px",borderBottom:"1px solid #f2f8ff",overflow:"hidden",color:"#777",paddingTop:25,fontSize:14,position:"relative"},itemName:Object(a.a)({fontWeight:"bold",color:"#333",marginBottom:5,position:"absolute",top:15,transform:"translateY(-50%)",textTransform:"uppercase",fontSize:12},"color","#56749a"),chip:{margin:2,padding:2,"& .MuiChip-avatar":{width:"20px !important",height:"20px !important",marginLeft:"13px !important"}}}})),v=function(e){var t=b();return o.a.createElement(i.a,{className:t.item,style:e.style?e.style:{}},o.a.createElement("div",{className:t.itemName},e.title),e.item?e.item:e.children)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,a=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,o)).toFixed(a))+" "+r[o]},E=function(e){var t,n,a=b();return Object(r.useEffect)((function(){0===e.record.parent.length?e.setMetadata(null):e.metadata&&e.setMetadata(e.record.parent[0])}),[e.record]),o.a.createElement(i.a,{className:a.container},o.a.createElement(v,{title:"Nombre del archivo",item:(null===e||void 0===e||null===(t=e.record)||void 0===t?void 0:t.displayName)?null===e||void 0===e||null===(n=e.record)||void 0===n?void 0:n.displayName:e.record.name}),o.a.createElement(v,{title:"HASH",item:e.record.hash}),o.a.createElement(v,{title:"Tama\xf1o",item:g(e.record.size)}),e.record.parent.length>0&&o.a.createElement(v,{title:"Contenido relacionado"},e.record.parent.map((function(t,n){return o.a.createElement(c.a,{avatar:u.d.filter((function(e){return e.value===t.icon}))?u.d.filter((function(e){return e.value===t.icon}))[0].iconlight:o.a.createElement(d.a,null),key:n,label:t.name,className:a.chip,onClick:function(){e.setMetadata(t)}})}))))},x=function(e){var t=b();return o.a.createElement(i.a,{className:t.container},o.a.createElement(v,{title:"Descripci\xf3n",item:e.type.description}),o.a.createElement(v,{title:"Balance general del contenido",item:o.a.createElement(p,{data:e.parents})}),e.files.total>0&&o.a.createElement(v,{title:"Balance general de los documentos",item:o.a.createElement(h,{data:e.files.data})}))}}}]);
//# sourceMappingURL=21.d6b4f5fa.chunk.js.map