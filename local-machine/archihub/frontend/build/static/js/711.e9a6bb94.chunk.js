"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[711],{25928:function(e,n,t){t.d(n,{i:function(){return a}});var r=t(90675),i=t(10467),o=t(88120),a=function(){var e=(0,i.A)((0,r.A)().mark((function e(n,t){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch((0,o.H6)()+"/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(e){return[200].includes(e.status)?e.json():Promise.reject(e)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},50711:function(e,n,t){t.r(n);var r=t(89379),i=t(64467),o=t(5544),a=t(65043),s=t(26240),l=t(83003),d=t(73216),c=t(35475),u=t(88455),p=t(65226),f=t(72003),g=t(81551),m=t(16702),h=t(67678),x=t(58140),b=t(11238),v=t(25928),A=t(91280),y=t(70579);n.default=function(e){var n=(0,a.useState)(!1),t=(0,o.A)(n,2),w=t[0],C=t[1],j=(0,x.M)().showAlert,S=(0,a.useState)({username:"",password:"",showPassword:!1}),k=(0,o.A)(S,2),N=k[0],D=k[1],W=(0,l.wA)(),R=(0,d.Zp)(),T=(0,d.zy)(),F=(0,s.A)(),z=(0,l.d4)((function(e){return e.app.isDarkMode})),E=(0,g.A)((function(e){return{root:{position:"fixed",display:"flex",flexDirection:"row",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"},loginContainer:(0,i.A)((0,i.A)({maxWidth:"350px",width:"100%",padding:"2rem",display:"flex",flexDirection:"column",minHeight:"350px",alignItems:"center",justifyContent:"center",backgroundColor:z?F.palette.grey[900]:F.palette.grey[100],boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)"},"width","100%"),"borderRadius",20),loginContainerForm:{maxWidth:"300px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},loginContainerMobile:{width:"50vw",padding:"2rem",display:"flex",flexDirection:"column",height:"70vh",justifyContent:"space-around",backgroundColor:"#fff"},infoWhite:{height:"100vh",display:"flex",width:"30vw",textAlign:"center",justifyContent:"space-around",color:"#fff",padding:"2rem",alignContent:"center",alignItems:"center",flexWrap:"wrap",backgroundSize:"cover","& img":(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({background:"rgba(42,80,128,0.9)"},"background","rgba(0,0,0,0.3)"),"backdropFilter","blur(10px)"),"padding",20),"width","100%"),"height","auto"),"borderRadius",20)},info:{textAlign:"center",display:"flex",justifyContent:"center",flexDirection:"column"},form:{display:"flex",flexDirection:"column","& > div":{marginBottom:"10px"}},buttons:{width:"100%",justifyContent:"space-around"},titleSection:(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({background:"rgba(42,80,128,0.9)"},"background","rgba(0,0,0,0.3)"),"backdropFilter","blur(10px)"),"width","100%"),"padding",5),"paddingBottom",35),"margin",0),titleCopy:{marginTop:20,color:"#fff",fontWeight:"bold",display:"block",textAlign:"center",fontSize:"12px",background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",padding:"10px 20px",borderRadius:20,textTransform:"uppercase"}}}))();(0,a.useEffect)((function(){if("/logout"===T.pathname)W((0,u.Ub)()),R("/login",{replace:!0});else if("/login"===T.pathname){(0,A.g)()&&R("/",{replace:!0})}}),[]);var I=function(e){return function(n){D((0,r.A)((0,r.A)({},N),{},(0,i.A)({},e,n.target.value)))}};return(0,y.jsx)("div",{className:E.root,children:(0,y.jsxs)(m.A,{className:E.loginContainer,children:[(0,y.jsx)("div",{style:{borderRadius:"10%",marginBottom:"30px",background:"rgba(255,255,255,0.25)",width:"200px",height:"200px",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,y.jsx)("img",{src:"".concat("","/imgs/login_logo.png"),alt:"Main logo",style:{width:"100%",padding:"5px",borderRadius:"10%"}})}),(0,y.jsx)(m.A,{className:E.loginContainerForm,children:(0,y.jsxs)("form",{className:E.form,onSubmit:function(e){e.preventDefault(),C(!0),(0,v.i)(N.username,N.password).then((function(e){W((0,u.me)(e.access_token)),C(!1),R("/")})).catch((function(e){e.json().then((function(e){j("error",e.msg).then((function(){C(!1)}))}))}))},children:[(0,y.jsx)(h.A,{children:(0,y.jsx)(b.Sm,{label:"Nombre de usuario",name:"username",type:"text",value:N.username,onChange:I("username"),placeholder:"Nombre de usuario"})}),(0,y.jsx)(h.A,{children:(0,y.jsx)(b.Sm,{label:"Contrase\xf1a",name:"password",type:N.showPassword?"text":"password",value:N.password,onChange:I("password"),placeholder:"Contrase\xf1a"})}),!w&&(0,y.jsxs)("div",{className:E.buttons,children:[(0,y.jsx)(b.nA,{label:"Ingresar al aplicativo",type:"submit"}),(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:30},children:[(0,y.jsx)(c.N_,{to:"/reset-password",style:{textTransform:"uppercase",fontSize:11,color:F.palette.grey[500]},children:"Recuperar contrase\xf1a"}),(0,y.jsx)(c.N_,{to:"/register",style:{textTransform:"uppercase",fontSize:11,color:F.palette.grey[500]},children:"Registrarme"})]})]}),w&&(0,y.jsx)("div",{className:E.buttons,children:(0,y.jsx)(p.A,{options:{loop:!0,autoplay:!0,animationData:f,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:100,width:100})})]})})]})})}},67678:function(e,n,t){t.d(n,{A:function(){return g}});var r=t(58168),i=t(80045),o=t(65043),a=t(43024);function s(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var l=t(47573),d=t(74822),c=t(64867),u=o.createContext();var p=u,f=o.forwardRef((function(e,n){var t=e.children,l=e.classes,u=e.className,f=e.color,g=void 0===f?"primary":f,m=e.component,h=void 0===m?"div":m,x=e.disabled,b=void 0!==x&&x,v=e.error,A=void 0!==v&&v,y=e.fullWidth,w=void 0!==y&&y,C=e.focused,j=e.hiddenLabel,S=void 0!==j&&j,k=e.margin,N=void 0===k?"none":k,D=e.required,W=void 0!==D&&D,R=e.size,T=e.variant,F=void 0===T?"standard":T,z=(0,i.A)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),E=o.useState((function(){var e=!1;return t&&o.Children.forEach(t,(function(n){if((0,c.A)(n,["Input","Select"])){var t=(0,c.A)(n,["Select"])?n.props.input:n;t&&t.props.startAdornment&&(e=!0)}})),e})),I=E[0],M=E[1],B=o.useState((function(){var e=!1;return t&&o.Children.forEach(t,(function(n){(0,c.A)(n,["Input","Select"])&&function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(s(e.value)&&""!==e.value||n&&s(e.defaultValue)&&""!==e.defaultValue)}(n.props,!0)&&(e=!0)})),e})),P=B[0],_=B[1],q=o.useState(!1),L=q[0],H=q[1],O=void 0!==C?C:L;b&&O&&H(!1);var V=o.useCallback((function(){_(!0)}),[]),J={adornedStart:I,setAdornedStart:M,color:g,disabled:b,error:A,filled:P,focused:O,fullWidth:w,hiddenLabel:S,margin:("small"===R?"dense":void 0)||N,onBlur:function(){H(!1)},onEmpty:o.useCallback((function(){_(!1)}),[]),onFilled:V,onFocus:function(){H(!0)},registerEffect:undefined,required:W,variant:F};return o.createElement(p.Provider,{value:J},o.createElement(h,(0,r.A)({className:(0,a.default)(l.root,u,"none"!==N&&l["margin".concat((0,d.A)(N))],w&&l.fullWidth),ref:n},z),t))})),g=(0,l.A)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(f)}}]);
//# sourceMappingURL=711.e9a6bb94.chunk.js.map