"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[2234],{72378:function(e,t,r){r.d(t,{EL:function(){return s},WB:function(){return c}});var n=r(89379),a=(r(65043),r(26240)),i=r(81551),o=r(83003),l=r(70579),s=function(e){var t=(0,a.A)(),r=(0,o.d4)((function(e){return e.app.isDarkMode})),s=(0,i.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,l.jsx)("div",{id:e.id,style:(0,n.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:r?t.palette.grey[900]:"white",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:s.bloque,onMouseDown:e.onMouseDown,onScroll:e.onScroll,children:e.children})},c=function(e){var t=(0,a.A)(),r=(0,i.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,l.jsx)("div",{id:e.id,style:(0,n.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:r.bloque,children:e.children})};t.Ay=function(e){var t=e.children,r=e.style;e.onScroll;return(0,l.jsx)("section",{style:(0,n.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},r),children:t})}},62234:function(e,t,r){r.r(t);var n=r(89379),a=r(5544),i=r(65043),o=r(73216),l=r(72378),s=r(83003),c=(r(85742),r(50062),r(16702)),u=r(63516),d=r(24394),g=r(69389),b=r(46020),f=r(31445),h=r(11238),p=r(26240),m=r(58140),v=r(43288),x=r(99246),y=r(70579);t.default=function(e){var t=(0,i.useState)(!1),r=(0,a.A)(t,2),w=r[0],k=r[1],A=(0,i.useState)(null),j=(0,a.A)(A,2),C=j[0],M=j[1],S=(0,i.useState)([]),R=(0,a.A)(S,2),q=R[0],B=R[1],I=(0,i.useState)(!1),D=(0,a.A)(I,2),E=D[0],N=D[1],T=((0,s.d4)((function(e){return e.user})),(0,o.g)().slug),V=(0,o.Zp)(),F=(0,p.A)(),J=(0,m.M)().showAlert,L=(0,x.A)();(0,i.useEffect)((function(){T?(k(!0),b.Jt(T).then((function(e){var t=(0,n.A)({},e);M(t)})).catch((function(e){console.log(e)}))):(k(!1),M({name:"",slug:"",description:"",root:null,parent:null,visible:[]})),f.DI().then((function(e){B(e)})).catch((function(e){console.log(e)}))}),[]);return(0,y.jsxs)(l.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,y.jsx)(l.EL,{style:{width:"70%",maxWidth:900,display:"block",overflow:"auto",placeContent:"flex-start"},children:C&&(0,y.jsx)(u.l1,{initialValues:C,onSubmit:function(e,t){var r=t.setSubmitting;if(r(!0),w){var a=(0,n.A)({},e);a.parent?a.parent=a.parent:a.parent="",J("confirm",L.formatMessage({id:"cataloging.confirmEditResource"})).then((function(e){e&&(N(!0),b.yo(T,JSON.stringify(a)).then((function(){V("/cataloging/views")})).catch((function(e){console.log(e),r(!1)})))}))}else{var i=(0,n.A)({},e);i.parent?i.parent=i.parent:i.parent="",J("confirm",L.formatMessage({id:"cataloging.confirmNewResource"})).then((function(e){e&&b.O8(JSON.stringify(i)).then((function(){r(!1),V("/cataloging/views")})).catch((function(e){console.log(e),r(!1)}))}))}r(!1)},validate:function(e){var t={};return e.name||(t.name="El nombre es requerido"),e.root||(t.root="El tipo de archivo inicial es requerido"),t},children:function(t){var r=t.values,n=t.errors,a=(t.touched,t.handleChange),i=t.handleBlur,o=t.handleSubmit,l=t.isSubmitting,s=t.setFieldValue;return(0,y.jsx)("form",{onSubmit:o,children:(0,y.jsxs)(c.A,{style:{display:"flex",flexDirection:"column"},children:[(0,y.jsx)(d.BR,{name:L.formatMessage({id:"general.name"}),id:"name",handleChange:a,handleBlur:i,value:r.name,errors:n.name,required:!0}),(0,y.jsx)(d.BR,{name:L.formatMessage({id:"general.slug"}),id:"slug",handleChange:a,handleBlur:i,value:r.slug,errors:n.slug,required:!0}),(0,y.jsx)(d.QA,{name:L.formatMessage({id:"general.description"}),id:"description",handleChange:a,handleBlur:i,value:r.description}),(0,y.jsx)(d.Q5,{name:L.formatMessage({id:"views.root"}),id:"root",value:r.root,options:q.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(e){s("root",e.target.value)},handleBlur:function(){},instructions:L.formatMessage({id:"views.rootInst"}),required:!0,error:n.root}),r.root&&(0,y.jsx)("div",{style:{marginTop:20,marginBottom:20},children:(0,y.jsx)(g.A,{postType:r.root,view:"list",checkboxTypes:[r.root],multiple:!1,childrenSelect:!0,setSelected:function(e){e.length>0?s("parent",e[0].id):s("parent",null)},selected:r.parent?[{id:r.parent}]:[]},r.root)}),q&&(0,y.jsx)(d.hw,{id:"visible",label:L.formatMessage({id:"views.visiblePT"}),options:q.map((function(e){return{value:e.slug,label:e.name}})),value:r.visible?r.visible:[],handleChange:function(e){s("visible",e)}}),!w&&(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(c.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,y.jsx)(h.nA,{style:{margin:5,width:"auto"},type:"button",onClick:function(){return e.history.push("/cataloging/views")},label:L.formatMessage({id:"general.cancel"})}),(0,y.jsx)(h.nA,{type:"submit",style:{margin:5,width:"auto"},variant:"outlined",disabled:l,label:L.formatMessage({id:"cataloging.createNew"})})]})}),w&&(0,y.jsxs)(c.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,y.jsx)(h.nA,{type:"button",style:{margin:5,width:"auto"},customColor:{color:F.palette.grey[600],background:F.palette.grey[200]},variant:"outlined",onClick:function(){return V("/cataloging/views")},label:L.formatMessage({id:"general.cancel"})}),(0,y.jsx)(h.nA,{type:"submit",style:{margin:5,width:"auto"},variant:"outlined",disabled:l,label:L.formatMessage({id:"general.update"})})]})]})})}})}),E&&(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,y.jsx)(v.A,{})})]})}},50062:function(e,t,r){var n=r(24994);t.A=void 0;var a=n(r(40039)),i=r(70579);t.A=(0,a.default)((0,i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2m0 16H5V7h14zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5M12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Preview")},85742:function(e,t,r){var n=r(24994);t.A=void 0;var a=n(r(40039)),i=r(70579);t.A=(0,a.default)((0,i.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo")}}]);
//# sourceMappingURL=2234.69b55e2f.chunk.js.map