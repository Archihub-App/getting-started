"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[7498],{17498:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(89379),i=t(5544),o=t(64467),a=t(65043),l=t(83003),s=t(73216),d=t(88455),c=t(65226),u=t(72003),p=t(81551),f=t(16702),m=t(58168),h=t(80045),g=t(43024),x=t(66031),b=t(47573),v=t(74822),A=t(64867),w=t(36612),y=a.forwardRef((function(e,n){var t=e.children,r=e.classes,i=e.className,o=e.color,l=void 0===o?"primary":o,s=e.component,d=void 0===s?"div":s,c=e.disabled,u=void 0!==c&&c,p=e.error,f=void 0!==p&&p,b=e.fullWidth,y=void 0!==b&&b,C=e.focused,j=e.hiddenLabel,k=void 0!==j&&j,S=e.margin,N=void 0===S?"none":S,W=e.required,D=void 0!==W&&W,F=e.size,E=e.variant,I=void 0===E?"standard":E,M=(0,h.A)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),B=a.useState((function(){var e=!1;return t&&a.Children.forEach(t,(function(n){if((0,A.A)(n,["Input","Select"])){var t=(0,A.A)(n,["Select"])?n.props.input:n;t&&(0,x.gr)(t.props)&&(e=!0)}})),e})),T=B[0],z=B[1],P=a.useState((function(){var e=!1;return t&&a.Children.forEach(t,(function(n){(0,A.A)(n,["Input","Select"])&&(0,x.lq)(n.props,!0)&&(e=!0)})),e})),R=P[0],q=P[1],L=a.useState(!1),O=L[0],_=L[1],H=void 0!==C?C:O;u&&H&&_(!1);var J=a.useCallback((function(){q(!0)}),[]),U={adornedStart:T,setAdornedStart:z,color:l,disabled:u,error:f,filled:R,focused:H,fullWidth:y,hiddenLabel:k,margin:("small"===F?"dense":void 0)||N,onBlur:function(){_(!1)},onEmpty:a.useCallback((function(){q(!1)}),[]),onFilled:J,onFocus:function(){_(!0)},registerEffect:undefined,required:D,variant:I};return a.createElement(w.A.Provider,{value:U},a.createElement(d,(0,m.A)({className:(0,g.default)(r.root,i,"none"!==N&&r["margin".concat((0,v.A)(N))],y&&r.fullWidth),ref:n},M),t))})),C=(0,b.A)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(y),j=t(58140),k=t(11238),S=t(90675),N=t(10467),W=t(88120),D=function(){var e=(0,N.A)((0,S.A)().mark((function e(n,t){return(0,S.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(W.FM+"/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(e){return[200].includes(e.status)?e.json():Promise.reject(e)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),F=t(91280),E=t(70579),I=(0,p.A)((function(e){return{root:{position:"fixed",display:"flex",flexDirection:"row",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"},loginContainer:(0,o.A)((0,o.A)({maxWidth:"350px",width:"100%",padding:"2rem",display:"flex",flexDirection:"column",minHeight:"350px",alignItems:"center",justifyContent:"center",backgroundColor:"rgb(255,255,255)",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)"},"width","100%"),"borderRadius",20),loginContainerForm:{maxWidth:"300px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},loginContainerMobile:{width:"50vw",padding:"2rem",display:"flex",flexDirection:"column",height:"70vh",justifyContent:"space-around",backgroundColor:"#fff"},infoWhite:{height:"100vh",display:"flex",width:"30vw",textAlign:"center",justifyContent:"space-around",color:"#fff",padding:"2rem",alignContent:"center",alignItems:"center",flexWrap:"wrap",backgroundSize:"cover","& img":(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({background:"rgba(42,80,128,0.9)"},"background","rgba(0,0,0,0.3)"),"backdropFilter","blur(10px)"),"padding",20),"width","100%"),"height","auto")},info:{textAlign:"center",display:"flex",justifyContent:"center",flexDirection:"column"},form:{display:"flex",flexDirection:"column","& > div":{marginBottom:"10px"}},buttons:{display:"flex",width:"100%",justifyContent:"space-around"},titleSection:(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({background:"rgba(42,80,128,0.9)"},"background","rgba(0,0,0,0.3)"),"backdropFilter","blur(10px)"),"width","100%"),"padding",5),"paddingBottom",35),"margin",0),titleCopy:{marginTop:20,color:"#fff",fontWeight:"bold",display:"block",textAlign:"center",fontSize:"12px",background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",padding:"10px 20px",borderRadius:20,textTransform:"uppercase"}}})),M=function(e){var n=(0,a.useState)(!1),t=(0,i.A)(n,2),p=t[0],m=t[1],h=(0,j.M)().showAlert,g=I(),x=(0,a.useState)({username:"",password:"",showPassword:!1}),b=(0,i.A)(x,2),v=b[0],A=b[1],w=(0,l.wA)(),y=(0,s.Zp)(),S=(0,s.zy)();(0,a.useEffect)((function(){if("/logout"===S.pathname)w((0,d.Ub)()),y("/login",{replace:!0});else if("/login"===S.pathname){(0,F.g)()&&y("/",{replace:!0})}}),[]);var N=function(e){return function(n){A((0,r.A)((0,r.A)({},v),{},(0,o.A)({},e,n.target.value)))}};return(0,E.jsx)("div",{className:g.root,children:(0,E.jsxs)(f.A,{className:g.loginContainer,children:[(0,E.jsx)("div",{style:{borderRadius:"10%",marginBottom:"30px",background:"rgba(255,255,255,0.25)",width:"200px",height:"200px",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,E.jsx)("img",{src:"".concat("","/imgs/login_logo.png"),alt:"Main logo",style:{width:"100%",padding:"5px"}})}),(0,E.jsx)(f.A,{className:g.loginContainerForm,children:(0,E.jsxs)("form",{className:g.form,onSubmit:function(e){e.preventDefault(),m(!0),D(v.username,v.password).then((function(e){w((0,d.me)(e.access_token)),m(!1),y("/")})).catch((function(e){e.json().then((function(e){h("error",e.msg).then((function(){m(!1)}))}))}))},children:[(0,E.jsx)(C,{children:(0,E.jsx)(k.Sm,{label:"Nombre de usuario",name:"username",type:"text",value:v.username,onChange:N("username"),placeholder:"Nombre de usuario"})}),(0,E.jsx)(C,{children:(0,E.jsx)(k.Sm,{label:"Contrase\xf1a",name:"password",type:v.showPassword?"text":"password",value:v.password,onChange:N("password"),placeholder:"Contrase\xf1a"})}),!p&&(0,E.jsx)("div",{className:g.buttons,children:(0,E.jsx)(k.nA,{label:"Ingresar al aplicativo",type:"submit"})}),p&&(0,E.jsx)("div",{className:g.buttons,children:(0,E.jsx)(c.A,{options:{loop:!0,autoplay:!0,animationData:u,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:100,width:100})})]})})]})})}}}]);
//# sourceMappingURL=7498.897b088f.chunk.js.map