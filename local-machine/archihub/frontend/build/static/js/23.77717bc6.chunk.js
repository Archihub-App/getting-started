(this.webpackJsonparchihub=this.webpackJsonparchihub||[]).push([[23,4],{1036:function(e,t,n){"use strict";var a=n(18),r=n(203),c=n(37),o=n(2),i=n.n(o),l=n(979),s=n(953),u=n(47),d=n(204);var m=n(954),f=n(994),p=function(e,t){var n,a=t.split("."),r=e,c=Object(f.a)(a);try{for(c.s();!(n=c.n()).done;){r=r[n.value]}}catch(o){c.e(o)}finally{c.f()}return r},h=n(857),b=n(945),g=n(1420),v=n(1421),y=n(1423),E=n(1419),x=n(1424),j=n(1410),O=n(1422),w=n(1425),k=n(1416),T=n(1427),C=n(1413),S=n(1414),N=n(984),z=n.n(N),F=n(962),P=n.n(F),A=n(1014),R=n.n(A),H=n(977),B=n.n(H),L=n(138),M=n.n(L),I=n(38),_=n(1417),q=(n(968),Object(h.a)((function(e){return{btn_color:{color:"#869bb7 !important",padding:"5px !important",width:"30px !important",height:"30px !important",margin:"0 2px !important",border:"1px solid #c6d0dd !important","&:hover":{color:"#fff !important",backgroundColor:"#56749a !important"},"& .MuiSvgIcon-root":{width:"14px !important"}}}})));function V(e){e.onSelectAllClick;var t=e.order,n=e.orderBy,a=(e.numSelected,e.rowCount,e.onRequestSort,e.headCells);return i.a.createElement(x.a,null,i.a.createElement(O.a,null,a.map((function(e){return i.a.createElement(y.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t},e.label)}))))}function G(e){e.numSelected;return i.a.createElement(j.a,{rowsPerPage:20,rowsPerPageOptions:[],count:e.total,page:e.page,onPageChange:function(t,n){e.setPage(n)}})}t.a=function(e){var t=Object(I.k)(),n=q(),f=Object(o.useState)([]),h=Object(c.a)(f,2),x=h[0],j=h[1],N=Object(o.useState)([]),F=Object(c.a)(N,2),A=F[0],H=F[1],L=i.a.useState(!1),W=Object(c.a)(L,2),D=W[0],J=(W[1],Object(o.useState)([])),U=Object(c.a)(J,2),Y=U[0],K=(U[1],Object(o.useState)(0)),Q=Object(c.a)(K,2),X=Q[0],Z=Q[1],$=Object(o.useState)(0),ee=Object(c.a)($,2),te=ee[0],ne=ee[1];Object(o.useEffect)((function(){if(j([]),H([]),e.selectedType&&"string"!==typeof e.selectedType){e.filters.page=te,s.b(e.selectedType.slug,e.filters).then((function(e){j(e),e.length>0&&Z(e[0].total)}));var t=e.selectedType.metadata.fields.map((function(e){return{destiny:e.destiny,label:e.label}}));t=[{destiny:"",label:""}].concat(Object(r.a)(t)),H(t=[{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:"T\xedtulo"},{destiny:"accessRights",label:"Derechos de acceso"}])}else if(e.selectedType&&"string"===typeof e.selectedType)if("users"===e.selectedType)l.g(JSON.stringify({page:te,filters:e.filters})).then((function(e){j(e.map((function(e){return Object(a.a)({},e)}))),e.length>0&&Z(e[0].total);H([{destiny:"",label:""},{destiny:"name",label:"Nombre"},{destiny:"username",label:"Usuario"},{destiny:"roles",label:"Roles"},{destiny:"accessRights",label:"Niveles de acceso"}])}));else if("logs"===e.selectedType)(function(e){var t={method:"POST",headers:new Headers({Authorization:Object(d.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(u.e+"/logs",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))})(JSON.stringify({page:te,filters:e.filters})).then((function(e){j(e.map((function(e){return Object(a.a)({},e)}))),e.length>0&&Z(e[0].total);H([{destiny:"username",label:"Usuario"},{destiny:"action",label:"Evento"}])}));else if("plugins"===e.selectedType)m.g().then((function(e){j(e.plugins);H([{destiny:"name",label:"Nombre"},{destiny:"description",label:"Descripci\xf3n"},{destiny:"active",label:"Activo"}])})).catch((function(e){console.log(e)}));else if("tasks"===e.selectedType)m.j("beta").then((function(e){j(e);H([{destiny:"name",label:"Nombre"},{destiny:"status",label:"Estado"},{destiny:"",label:"Acciones"}])}));else if("files"!==e.selectedType){s.b(e.selectedType,e.filters).then((function(e){j(e.resources)}));H([{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:"T\xedtulo"}])}else e.resourceId||s.c(JSON.stringify({page:te,filters:e.filters})).then((function(e){e.length>0&&Z(e[0].total),j(e.map((function(e){return Object(a.a)({},e)})));H([{destiny:"name",label:"T\xedtulo"},{destiny:"size",label:"Tama\xf1o"},{destiny:"parent",label:"Carpeta"}])}))}),[e.selectedType,e.filters,te]);var ae=function(e){t.push("/detail/".concat(e))};return x.length>0&&console.log(p(x[0],"accessRights")),i.a.createElement(i.a.Fragment,null,x.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{sx:{width:"100%"}},i.a.createElement(k.a,{sx:{width:"100%",mb:2}},i.a.createElement(E.a,null,i.a.createElement(g.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:D?"small":"medium",padding:"none"},i.a.createElement(V,{numSelected:Y.length,headCells:A}),i.a.createElement(v.a,null,x.map((function(a){return i.a.createElement(O.a,{hover:!0,role:"checkbox",tabIndex:-1,key:a.id,onClick:function(){}},A.map((function(r){return i.a.createElement(y.a,{component:"th",id:r.destiny,scope:"row",key:r.destiny,sx:{padding:"6px 2px",fontSize:"1rem",minHeight:"auto"}},""!==r.label&&"active"!==r.destiny&&"accessRights"!==r.destiny&&i.a.createElement(i.a.Fragment,null,("string"===typeof p(a,r.destiny)||"number"===typeof p(a,r.destiny))&&i.a.createElement(i.a.Fragment,null,p(a,r.destiny)),Array.isArray(p(a,r.destiny))&&i.a.createElement(i.a.Fragment,null,p(a,r.destiny).map((function(t,n){return i.a.createElement(i.a.Fragment,null,"users"===e.selectedType&&i.a.createElement(_.a,{size:"small",label:t,style:{margin:"2px"}}),"files"===e.selectedType&&i.a.createElement(C.a,{onClick:function(){ae(t.id)}},n))})))),""===r.label&&i.a.createElement(w.a,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center"}},"tasks"!==e.selectedType&&i.a.createElement(T.a,{className:n.btn_color,size:"small",variant:"contained",onClick:function(){return n=a.id,void("users"===e.selectedType?t.push("/admin/users/edit/".concat(n)):t.push("/cataloging/".concat(e.selectedType.slug,"/edit/").concat(n)));var n}},i.a.createElement(P.a,null)),"users"!==e.selectedType&&i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{className:n.btn_color,size:"small",variant:"contained",onClick:function(){return ae(a.id)}},i.a.createElement(R.a,null)),i.a.createElement(T.a,{className:n.btn_color,size:"small",variant:"contained"},i.a.createElement(B.a,null)),i.a.createElement(T.a,{className:n.btn_color,size:"small",variant:"contained",onClick:function(){return e=a.id,void M.a.fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esta acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&s.a(e).then((function(e){M.a.fire({title:"Eliminado",text:"El recurso ha sido eliminado",icon:"success",confirmButtonText:"Aceptar"}).then((function(){window.location.reload()}))})).catch((function(e){e.json().then((function(e){M.a.fire({title:"Error",text:e.msg,icon:"error",confirmButtonText:"Aceptar"})}))}))}));var e}},i.a.createElement(z.a,null)))),"active"===r.destiny&&i.a.createElement(w.a,{disableGutters:!0,variant:"dense"},i.a.createElement(S.a,{checked:a.active,onChange:function(t){e.onPluginChange(a.slug,t.target.checked).then((function(){M.a.fire({title:"Actualizado",text:"El plugin ha sido actualizado. Para que los cambios surtan efecto, es necesario reiniciar el servidor.",icon:"success",confirmButtonText:"Aceptar"}),m.g().then((function(e){j(e.plugins)})).catch((function(e){console.log(e)}))}))}})),"accessRights"===r.destiny&&p(a,r.destiny)&&i.a.createElement(i.a.Fragment,null,Array.isArray(p(a,r.destiny))&&i.a.createElement(i.a.Fragment,null,p(a,r.destiny).map((function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.a,{size:"small",label:e,style:{margin:"2px"}}))})))))})))}))),"plugins"!==e.selectedType&&i.a.createElement(G,{page:te,setPage:ne,total:X})))))))}},1396:function(e,t,n){"use strict";n.r(t),n.d(t,"BloqueContenido",(function(){return b})),n.d(t,"Main",(function(){return g}));var a=n(2),r=n.n(a),c=n(51),o=n(139),i=n(957),l=n(958),s=n(857),u=n(941),d=n(954),m=n(972),f=n.n(m),p=(n(967),n(47),n(956),n(138),n(1036)),h=Object(s.a)((function(e){return{bloque:{padding:"10px",backgroundColor:"rgba(255,255,255,.9)",margin:5,width:"100%",height:"100%",overflow:"auto",position:"relative",borderRadius:10,border:"3px solid #fff","&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:"#56749a",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:"#56749a"},"&::-webkit-scrollbar-thumb:active":{background:"#56749a"},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},tituloBloque:{top:0,fontSize:15,fontWeight:"bold",padding:"10px 15px",position:"sticky",zIndex:10,width:"100%",left:0,background:"#e6e6e6",borderTopLeftRadius:10,borderTopRightRadius:10,color:"#56749a",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},breadcrumbs:{padding:"5px 15px",color:"#fff",borderBottomLeftRadius:10,borderBottomRightRadius:10,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},linkBreadcrumb:{color:"#fff",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:200,display:"inline-block","&:hover":{color:"#fff"}},selectedBread:{color:"#fff !important",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:150,backgroundColor:"rgba(255,255,255,.2)",display:"inline-block",padding:"0 5px",borderRadius:2},columnas:{display:"flex",height:"calc(100vh - 150px)"},separador:{borderBottom:"1px solid #dcdcdc",paddingTop:25,paddingBottom:10,fontWeight:"bold",color:"#56749a","& svg":{marginRight:10,marginLeft:5,width:20,height:20,padding:3,backgroundColor:"#56749a",borderRadius:50,"& path":{fill:"#fff"}}},toolbar:{minHeight:"auto",padding:5,backgroundColor:"#56749a",color:"#fff",borderTopLeftRadius:10,overflow:"hidden","& h6":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:16}},itemMenu:{display:"flex",alignItems:"center",padding:15,borderBottom:"1px solid #dcdcdc","& svg":{"& path":{fill:"#9fb0c6"}},"&:hover":{backgroundColor:e.palette.grey[100],cursor:"pointer"},"&.selected":{backgroundColor:"#9fb0c6",color:"#fff","& path":{fill:"#fff"}}}}})),b=function(e){var t=h();return r.a.createElement(u.a,{className:t.bloque,style:e.style},e.title&&r.a.createElement(u.a,{className:t.tituloBloque},e.title),e.topBar&&r.a.createElement(r.a.Fragment,null,e.topBar),e.children)},g=function(e){h();Object(a.useEffect)((function(){}),[]);return r.a.createElement(l.a,null,r.a.createElement(i.a,{userRoles:e.user.roles,list:function(){var t=[];return t.push({name:"Volver",icon:r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null)),callback:function(){e.history.push("/dashboard")}}),t}()}),r.a.createElement(b,{style:{width:"calc(50% - 20px)",height:"calc(100vh - 100px)",overflow:"auto"},title:"Plugins instalados"},r.a.createElement(p.a,{selectedType:"plugins",filters:{},onPluginChange:function(e,t){return d.n(e)}})))};t.default=Object(c.b)((function(e){return{user:e.auth.user}}),o.a)(g)},953:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var a=n(18),r=n(204),c=n(47);function o(e,t){var n=new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),o={post_type:Array.isArray(e)?e:[e]};t&&(o=Object(a.a)(Object(a.a)({},t),o));var i={method:"POST",headers:n,mode:"cors",cache:"default",body:JSON.stringify(o)};return fetch(c.e+"/resources/getall",i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default",body:e};return fetch(c.e+"/resources",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(c.e+"/resources/tree",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/resources/"+e,n={method:"DELETE",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(c.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(e){var t="/resources/"+e,n={method:"GET",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default"};return fetch(c.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e,t){var n="/resources/"+e,a={method:"PUT",headers:new Headers({Authorization:Object(r.a)()}),mode:"cors",cache:"default",body:t};return fetch(c.e+n,a).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),o="/resources/"+e+"/records",i={method:"POST",headers:a,mode:"cors",cache:"default",body:JSON.stringify({page:t,groupImages:n})};return fetch(c.e+o,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function f(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(c.e+"/records",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function p(e){var t="/resources/"+e+"/imgs",n={method:"GET",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(c.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}},954:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"r",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return E})),n.d(t,"e",(function(){return x})),n.d(t,"q",(function(){return j}));var a=n(204),r=n(47);function c(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"PUT",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/system",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/access-rights",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/roles",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/default-cataloging-type",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+"/system/plugins",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e){var t="/"+e+"/image",n={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 404===e.status?Promise.reject(e):e.blob()}))}function m(e,t){var n="/"+e+"/settings/"+t,c={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+n,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function f(e,t,n){var c="/"+e+"/"+n,o={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+c,o).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function p(e,t,n){var c="/"+e+"/"+n,o={method:"POST",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default",body:t};return fetch(r.e+c,o).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function h(e,t){var n="/"+e+"/settings",c={method:"POST",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default",body:t};return fetch(r.e+n,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function b(e,t){var n="/"+e+"/bulk",c={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+n,c).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function g(e){var t="/system/plugins/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function v(e,t){var n="/tasks/"+e,c={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+n,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function y(e){var t="/tasks/total/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function E(e){var t="/tasks/total/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function x(e,t){var n="/"+e+"/filedownload/"+t,c={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+n,c).then((function(e){return 404===e.status||500===e.status||400===e.status||401===e.status?Promise.reject(e):e.blob()}))}function j(e){var t="/system/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 404===e.status||500===e.status||400===e.status||401===e.status?Promise.reject(e):e.json()}))}},955:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u}));var a=n(204),r=n(47);function c(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+"/types",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return console.log(r.e+"/types",t),fetch(r.e+"/types",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function i(e){var t="/types/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e,t){var n="/types/"+e,c={method:"PUT",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.e+n,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/types/"+e,n={method:"DELETE",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function u(e,t){var n={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({slug:e,type:t})};return fetch(r.e+"/types/moreinfo",n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}},956:function(e,t,n){"use strict";n.d(t,"h",(function(){return V})),n.d(t,"p",(function(){return G})),n.d(t,"k",(function(){return W})),n.d(t,"o",(function(){return D})),n.d(t,"m",(function(){return J})),n.d(t,"i",(function(){return U})),n.d(t,"g",(function(){return Y})),n.d(t,"c",(function(){return Q})),n.d(t,"e",(function(){return Z})),n.d(t,"f",(function(){return $})),n.d(t,"b",(function(){return ee})),n.d(t,"r",(function(){return te})),n.d(t,"s",(function(){return ne})),n.d(t,"t",(function(){return re})),n.d(t,"d",(function(){return oe})),n.d(t,"q",(function(){return ie})),n.d(t,"n",(function(){return se})),n.d(t,"l",(function(){return ue})),n.d(t,"j",(function(){return de})),n.d(t,"a",(function(){return me}));var a=n(37),r=n(18),c=n(203),o=n(2),i=n.n(o),l=n(941),s=n(1183),u=n(857),d=n(1405),m=n(1411),f=n(1428),p=n(1427),h=n(1404),b=n(1406),g=n(1417),v=n(1413),y=n(1414),E=n(980),x=n.n(E),j=n(965),O=n(454),w=n(1040),k=n.n(w),T=n(1041),C=n.n(T),S=n(1385),N=n(1403),z=n(1044),F=n(973),P=n(955),A=n(966),R=n(47);n(204);function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Headers({"Content-Type":"application/json"}),a="/geosystem/level",c={method:"POST",headers:n,mode:"cors",cache:"default",body:JSON.stringify(Object(r.a)({level:e},t))};return fetch(R.e+a,c).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}var B=n(954),L=n(1039),M=n.n(L),I=n(138),_=n.n(I),q=Object(u.a)((function(e){return{scrollbar:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:"#56749a",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:"#56749a"},"&::-webkit-scrollbar-thumb:active":{background:"#56749a"},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}},item:{display:"flex",paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,position:"relative","&.label-top":{paddingTop:20},"& .MuiAutocomplete-inputRoot":{"&::before":{display:"none"}},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(even)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666",display:"block","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"},"&.inline":{display:"inline-block"},"&.top":{position:"absolute",top:2,width:"100%"}},"& .instructions":{maxWidth:300},"& input":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}},"& .insideContent":{width:"calc(100% - 150px)","&.top":{width:"100%"}}},arrayContainer:{background:"#f5f5f5",padding:5,width:"100%",borderRadius:5,border:"2px dashed #f0f0f0"},card:{marginTop:5,marginBottom:5,"& .MuiCardHeader-root":{padding:"5px 10px",borderBottom:"1px solid #ececec","& .MuiCardHeader-content":{"& .MuiTypography-root":{fontSize:"14px",fontWeight:"normal",fontFamily:"Montserrat",color:"#333"}}}},cardContent:{display:"flex",alignContent:"flex-start",alignItems:"flex-start"},subItem:{marginTop:5,marginBottom:5,display:"flex",borderBottom:"1px dotted #ccc",paddingBottom:5},subItemOpts:{marginTop:0,marginBottom:0,display:"flex",paddingBottom:0,border:"none",alignItems:"center",paddingLeft:10,"& input":{border:"none",outline:"none",borderRadius:0,borderRight:"1px dashed #ececec",transition:"background 0.3s ease","&:focus":{border:"none",background:"#ececec",fontWeight:"bold",color:"#333"}}}}})),V=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(z.a,{onChange:function(t){return function(t){e.values&&e.change("files",[].concat(Object(c.a)(e.values.files.filter((function(t){return t.id!==e.id}))),Object(c.a)(t.map((function(t){return{file:t,id:e.id}})))))}(t)},dropzoneText:"Arrastre y suelte un archivo aqu\xed o haga clic para seleccionar un archivo",showFileNames:!0,useChipsForPreview:!0,getFileAddedMessage:function(e){return"Archivo ".concat(e," agregado")},getFileRemovedMessage:function(e){return"Archivo ".concat(e," eliminado")},Icon:S.a,maxFileSize:2e9,filesLimit:e.limit?e.limit:100,acceptedFiles:e.acceptedFiles?e.acceptedFiles:["image/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","video/*","audio/*"],name:e.id}))},G=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id,style:e.style},(e.label||e.name)&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement("input",{type:e.type?e.type:"text",name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:{width:"100%"},disabled:e.disabled}))},W=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),style:e.style},e.name&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement("input",{type:"number",name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:{width:"100%"},disabled:e.disabled,min:e.min,max:e.max}))},D=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),style:Object(r.a)({},e.rootStyle),key:e.id},(e.label||e.name)&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement("textarea",{name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:Object(r.a)({width:"100%"},e.style),className:t.scrollbar}))},J=function(e){var t=q();return i.a.createElement(l.a,{key:e.key,className:"".concat(t.item," ").concat(e.errors?"error":""),style:Object(r.a)({},e.rootStyle)},(e.name||e.label)&&i.a.createElement(l.a,null,i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),e.instructions&&i.a.createElement(l.a,{className:"instructions"},e.instructions)),i.a.createElement(d.a,{name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:Object(r.a)(Object(r.a)({},e.style),{},{width:"100%"})},i.a.createElement(m.a,{key:-1,value:"none"},"accessRights"===e.destiny?"P\xfablico":"Seleccione una opci\xf3n"),e.options.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.value},e.label)}))))},U=function(e){var t=i.a.useState([]),n=Object(a.a)(t,2),r=n[0],c=n[1];return i.a.useEffect((function(){e.options&&A.d(e.options).then((function(e){c(e.options)})).catch((function(e){console.log(e)}))}),[e.options]),i.a.createElement(J,{name:e.name,id:e.id,handleChange:e.handleChange,handleBlur:e.handleBlur,value:e.value,options:r?r.map((function(e){return{value:e.id,label:e.term}})):[],required:e.required,errors:e.errors,destiny:e.destiny,key:e.id})},Y=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement(l.a,{style:{marginRight:10}},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),e.instructions&&i.a.createElement(l.a,{className:"instructions"},e.instructions)),i.a.createElement("input",{type:"checkbox",name:e.id,onChange:function(t){e.handleChange(t.target.checked)},onBlur:e.handleBlur,checked:e.value}))},K=function(e){var t=q(),n=i.a.useState([]),r=Object(a.a)(n,2),c=r[0],o=r[1],u=i.a.useState([]),d=Object(a.a)(u,2),m=d[0],h=d[1],b=i.a.useState(!1),g=Object(a.a)(b,2),v=g[0],y=g[1],E=i.a.useState([]),x=Object(a.a)(E,2),w=(x[0],x[1]),T=i.a.useState(null),S=Object(a.a)(T,2);S[0],S[1];return i.a.useEffect((function(){"select"===e.item.type||"select-multiple2"===e.item.type?A.c().then((function(e){o(e)})).catch((function(e){console.log(e)})):"relation"===e.item.type&&P.b().then((function(e){h(e)})).catch((function(e){console.log(e)})),e.item.accessRights&&e.item.accessRights.length>0&&y(!0)}),[e.item.type]),i.a.createElement(f.a,{className:t.card},i.a.createElement(s.a,{className:t.cardContent},i.a.createElement(l.a,{sx:{width:"calc(100% - 50px)"}},i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".label")},"Nombre"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".label"),type:"text",placeholder:"Nombre"})),!e.editing&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".type")},"Tipo"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".type"),as:"select"},i.a.createElement("option",{value:"text"},"Texto"),i.a.createElement("option",{value:"author"},"Autor"),i.a.createElement("option",{value:"simple-date"},"Fecha"),i.a.createElement("option",{value:"select"},"Lista de selecci\xf3n"),i.a.createElement("option",{value:"select-multiple2"},"Lista de selecci\xf3n m\xfaltiple"),i.a.createElement("option",{value:"file"},"Archivo"),i.a.createElement("option",{value:"text-area"},"\xc1rea de texto"),i.a.createElement("option",{value:"checkbox"},"Verdadero / Falso"),i.a.createElement("option",{value:"separator"},"Separador"),i.a.createElement("option",{value:"relation"},"Relaci\xf3n"),i.a.createElement("option",{value:"number"},"N\xfamero"),i.a.createElement("option",{value:"location"},"Ubicaci\xf3n"))),"file"===e.item.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".filetag")},"Etiqueta para los archivos"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".filetag"),type:"text"})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".maxFiles")},"N\xfamero m\xe1ximo"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".maxFiles"),type:"number",min:1,max:1e3}))),"separator"!==e.item.type&&"file"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".destiny")},"Destino"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".destiny"),type:"text"})),("select"===e.item.type||"select-multiple2"===e.item.type)&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".list")},"Listado"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".list"),as:"select"},c.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.name)})))),"relation"===e.item.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".relation_type")},"Tipo de contenido"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".relation_type"),as:"select",onChange:function(t){var n="fields.".concat(e.index,".relation_parent");e.setFieldValue(n,[]),n="fields.".concat(e.index,".relation_type"),e.setFieldValue(n,t.target.value)}},m.map((function(e,t){return i.a.createElement("option",{key:t,value:e.slug},e.name)})))),e.value[e.index].relation_type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null),i.a.createElement("div",{style:{marginTop:10,marginBottom:10}},i.a.createElement(F.a,{postType:e.value[e.index].relation_type,view:"list",key:e.value[e.index].relation_type,checkboxTypes:[e.value[e.index].relation_type],multiple:!1,setSelected:function(t){var n="fields.".concat(e.index,".relation_parent"),a=[];t.length>0&&(a=t),e.setFieldValue(n,a)},selected:e.value[e.index].relation_parent})))),"separator"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".required")},"Requerido"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".required"),type:"checkbox"})),"separator"!==e.item.type&&"file"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".setAccess")},"Niveles de acceso"),i.a.createElement(j.a,{type:"checkbox",onClick:function(){v&&w([]),y(!v)},checked:v})),v&&"separator"!==e.item.type&&"file"!==e.item.type&&i.a.createElement(l.a,{className:t.subItem},i.a.createElement(j.a,{name:"fields.".concat(e.index,".accessRights"),as:"select",multiple:!0},e.accessRights.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.term)}))))),e.editing&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".destiny")},"Destino"),i.a.createElement("input",{type:"text",value:e.item.destiny,disabled:!0})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".type")},"Tipo"),i.a.createElement("input",{type:"text",value:e.item.type,disabled:!0})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".required")},"Requerido"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".required"),type:"checkbox",disabled:!0})),i.a.createElement(l.a,{className:t.subItem},i.a.createElement("label",{htmlFor:"fields.".concat(e.index,".setAccess")},"Niveles de acceso"),i.a.createElement(j.a,{name:"fields.".concat(e.index,".setAccess"),type:"checkbox",disabled:!0})))),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove(e.index)}},i.a.createElement(O.a,null)),e.index>0&&i.a.createElement(p.a,{onClick:function(){return e.moveUp(e.index)}},i.a.createElement(k.a,null)),e.index<e.fieldsLen-1&&i.a.createElement(p.a,{onClick:function(){return e.moveDown(e.index)}},i.a.createElement(C.a,null)))))},Q=function(e){var t=q(),n=function(t){e.remove(t)},a=function(t){e.move(t,t-1)},r=function(t){e.move(t,t+1)};return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.map((function(t,c){return i.a.createElement(K,{key:c,item:t,editing:e.editing,index:c,remove:n,moveUp:a,moveDown:r,fieldsLen:e.value.length,accessRights:e.accessRights,value:e.value,setFieldValue:e.setFieldValue})})),!e.editing&&i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){e.push({type:"text",destiny:"",required:!1})}},i.a.createElement(x.a,null)))))},X=function(e){var t=q();return i.a.createElement(f.a,{className:t.card},i.a.createElement(l.a,{sx:{width:"100%",padding:0}},i.a.createElement(l.a,{className:"".concat(t.subItemOpts," ots")},i.a.createElement(j.a,{name:"options.".concat(e.index,".term"),type:"text",placeholder:"T\xe9rmino",value:e.item.term}),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove()},size:"small"},i.a.createElement(O.a,null))))))},Z=function(e){var t=q(),n=function(t){e.move(t,t-1)},a=function(t){e.move(t,t+1)};return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.map((function(t,r){return i.a.createElement(X,{key:r,item:t,editing:e.editing,index:r,remove:function(){console.log(e.value),function(t){e.remove(t)}(r)},moveUp:n,moveDown:a,fieldsLen:e.value.length})})),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){e.push({term:""})}},i.a.createElement(x.a,null)))))},$=function(e){var t=i.a.useState([]),n=Object(a.a)(t,2),r=n[0],c=n[1];i.a.useEffect((function(){var t;(null===e||void 0===e||null===(t=e.field)||void 0===t?void 0:t.list)?A.d(e.field.list).then((function(e){e.options&&c(e.options)})).catch((function(e){console.log(e)})):e.options&&c(e.options)}),[e.field]);var o=q();return i.a.createElement(l.a,{className:"".concat(o.item," ").concat(e.errors?"error":""),key:e.id},e.name&&i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(h.a,{multiple:!0,id:e.id,name:e.name,options:r,isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(t,n){e.handleChange(n)},value:e.value,getOptionLabel:function(e){return e.term},style:{width:"100%"},renderInput:function(e){return i.a.createElement(b.a,Object.assign({},e,{variant:"standard"}))}}))};var ee=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.labelAlign?"label-"+e.labelAlign:"")},i.a.createElement("label",{className:"".concat(e.labelAlign?e.labelAlign:""),htmlFor:e.id},e.label),i.a.createElement(l.a,{className:"insideContent ".concat(e.labelAlign?e.labelAlign:"")},"text"===e.type&&i.a.createElement(l.a,null,e.value),"simple-date"===e.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null,function(e){var t=new Date(e),n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(r)}(e.value))),"text-area"===e.type&&i.a.createElement(l.a,null,i.a.createElement(N.a,null,e.value)),("select"===e.type||"author"===e.type)&&i.a.createElement(l.a,null,e.value.map((function(e,t){return i.a.createElement(g.a,{key:t,label:e,style:{margin:5}})}))),"relation"===e.type&&i.a.createElement(l.a,null,e.value.map((function(t,n){return i.a.createElement(g.a,{key:n,label:t.name,style:{margin:5},icon:R.d.filter((function(e){return e.value===t.icon}))?R.d.filter((function(e){return e.value===t.icon}))[0].iconlight:i.a.createElement(i.a.Fragment,null),onClick:function(){e.redirect("/detail/".concat(t.id))}})})))))},te=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement("label",{htmlFor:e.id},e.label),i.a.createElement(l.a,{style:{maxHeight:400,overflow:"auto"}},i.a.createElement(M.a,{src:e.data,collapsed:!0})))},ne=function(e){var t=q(),n=function(t){e.value.includes(t.target.value)?e.handleChange(e.value.filter((function(e){return e!==t.target.value}))):e.handleChange([].concat(Object(c.a)(e.value),[t.target.value]))};return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement("label",{htmlFor:e.id},e.label),i.a.createElement(l.a,null,e.options.map((function(t,a){return i.a.createElement(l.a,{key:a},i.a.createElement("label",{className:"simple inline",htmlFor:"".concat(e.id,"_").concat(t.value)},t.label),i.a.createElement("input",{type:"checkbox",id:"".concat(e.id,"_").concat(t.value),onChange:n,onBlur:function(){},checked:e.value.includes(t.value),value:t.value}))}))))},ae=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement(l.a,{style:{marginRight:10}},i.a.createElement("label",{htmlFor:e.id},e.label),e.instructions&&i.a.createElement(l.a,{className:"instructions"},e.instructions)),i.a.createElement(l.a,null,i.a.createElement(v.a,{variant:"outlined",onClick:function(){_.a.fire({title:"\xbfEst\xe1s seguro?",text:"\xbfEst\xe1s seguro de que deseas realizar la acci\xf3n?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&Object(B.q)(e.value).then((function(e){_.a.fire({title:"\xa1Hecho!",text:e.msg,icon:"success",confirmButtonText:"Aceptar"})})).catch((function(e){console.log(e)}))}))}},e.btn_label)))},re=function(e){var t=q();return i.a.createElement(l.a,{className:"".concat(t.item)},i.a.createElement("label",{htmlFor:e.id},e.label),i.a.createElement(l.a,null,e.data.map((function(t,n){return i.a.createElement(i.a.Fragment,null,"select"===t.type&&i.a.createElement(J,{name:t.label,id:n,value:e.values[t.id],options:e.options.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(n,a){e.setFieldValue(t.id,n.target.value)},handleBlur:function(){},instructions:t.instructions}),"checkbox"===t.type&&i.a.createElement(ne,{label:t.label,id:n,value:e.values[t.id],options:e.options.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(n){e.setFieldValue(t.id,n)},handleBlur:function(){}}),"checkbox_single"===t.type&&i.a.createElement(Y,{name:t.label,id:n,value:e.values[t.id],handleChange:function(n){e.setFieldValue(t.id,n)},instructions:t.instructions}),"button_single"===t.type&&i.a.createElement(ae,{label:t.label,id:n,instructions:t.instructions,btn_label:t.btn_label,value:t.value}))}))))},ce=function(e){var t=q(),n=i.a.useState(e.value),r=Object(a.a)(n,2),c=r[0],o=r[1],s=i.a.useState(!1),u=Object(a.a)(s,2),d=u[0],m=u[1],h=i.a.useState(["",""]),b=Object(a.a)(h,2),g=b[0],v=b[1];return i.a.useEffect((function(){if(e.value){var t=e.value.split("|");t.length>1?(m(!0),v(t)):(t=e.value.split(",")).length>1&&(m(!1),v(t))}}),[]),i.a.useEffect((function(){e.setFieldValue(c)}),[c]),i.a.useEffect((function(){o("".concat(g[0]).concat(d?"|":",").concat(g[1]))}),[d,g]),i.a.createElement(i.a.Fragment,null,2===g.length&&i.a.createElement(f.a,{className:t.card},i.a.createElement(l.a,{sx:{width:"100%",padding:0}},i.a.createElement(l.a,{className:"".concat(t.subItemOpts," ots")},i.a.createElement(y.a,{checked:d,onClick:function(){m(!d)},size:"small"}),i.a.createElement(j.a,{type:"text",placeholder:"".concat(d?"Organizaci\xf3n":"Nombre(s)"),value:g[0],onChange:function(e){v([e.target.value.replace(",","").replace("|",""),g[1]]),o("".concat(e.target.value.replace(",","").replace("|","")).concat(d?"|":",").concat(g[0]))}}),i.a.createElement(j.a,{type:"text",placeholder:"".concat(d?"Siglas":"Apellidos"),value:g[1],onChange:function(e){v([g[0],e.target.value.replace(",","").replace("|","")]),o("".concat(g[0]).concat(d?"|":",").concat(e.target.value.replace(",","").replace("|","")))}}),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove()},size:"small"},i.a.createElement(O.a,null)))))))},oe=function(e){var t=q(),n=i.a.useState([]),r=Object(a.a)(n,2),o=(r[0],r[1]);return i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.length>0&&i.a.createElement(i.a.Fragment,null,e.value.map((function(t,n){return i.a.createElement(ce,{key:n,value:t,remove:function(){return function(t){e.remove(t)}(n)},setFieldValue:function(t){return function(t,n){var a=Object(c.a)(e.value);a[t]=n,o(a),e.setFieldValue(a)}(n,t)}})}))),!e.editing&&i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){e.push("")}},i.a.createElement(x.a,null)))))},ie=function(e){var t=q(),n=i.a.useState(null),r=Object(a.a)(n,2),o=r[0],s=r[1];return i.a.useEffect((function(){s(e.value)}),[e.value]),i.a.createElement(i.a.Fragment,null,o&&i.a.createElement(l.a,{key:e.key,className:"".concat(t.item," ").concat(e.errors?"error":"")},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{className:t.arrayContainer},e.value.length>0&&i.a.createElement(i.a.Fragment,null,e.value.map((function(t,n){return i.a.createElement(le,{value:t,key:n,index:n,fields:e.fields,remove:function(){return function(t){e.remove(t)}(n)},setFieldValue:function(t){return function(t,n){var a=Object(c.a)(o);a[t]=n,s(a),e.setFieldValue(a)}(n,t)}})}))),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{onClick:function(){var t={};e.fields.map((function(e){t[e.id]=""})),e.push(t)}},i.a.createElement(x.a,null))))))},le=function(e){var t=q(),n=i.a.useState(null),c=Object(a.a)(n,2),o=c[0],s=c[1];return i.a.useEffect((function(){o&&e.setFieldValue(o)}),[o]),i.a.createElement(i.a.Fragment,null,e.value&&i.a.createElement(f.a,{key:e.key,className:t.card},i.a.createElement(l.a,{sx:{width:"100%",padding:0}},i.a.createElement(l.a,{className:"".concat(t.subItemOpts," ots")},e.fields.map((function(t,n){return i.a.createElement(i.a.Fragment,null,"select"===t.type&&i.a.createElement(d.a,{name:t.id,onChange:function(e){var n=Object(r.a)({},o);n[t.id]=e.target.value,s(n)},value:e.value[t.id]?e.value[t.id]:"",style:{width:"100%"}},t.options.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.value},e.label)}))),"number"===t.type&&i.a.createElement(j.a,{name:t.id,type:"number",onChange:function(e){var n=Object(r.a)({},o);n[t.id]=e.target.value,s(n)},min:0,value:e.value[t.id]?parseInt(e.value[t.id]):0,style:{width:"100%"}}))})),i.a.createElement(l.a,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(p.a,{onClick:function(){return e.remove()},size:"small"},i.a.createElement(O.a,null)))))))},se=function(e){var t=q(),n=i.a.useState([null,null,null]),r=Object(a.a)(n,2),c=r[0],o=r[1];return i.a.useEffect((function(){if(e.value){var t=new Date(e.value);o([t.getFullYear(),t.getMonth()+1,t.getDate()])}}),[]),i.a.useEffect((function(){if(c[0]){var t=0,n=1;c[1]&&(t=c[1]-1),c[2]&&(n=c[2]);var a=new Date(c[0],t,n);e.setFieldValue(a)}else e.setFieldValue(null)}),[c]),i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement(j.a,{type:"number",step:"1",min:"1900",max:"3000",placeholder:"A\xf1o",value:c[0],onChange:function(e){o([e.target.value,c[1],c[2]])}}),i.a.createElement(j.a,{type:"number",placeholder:"Mes",min:"1",max:"12",value:c[1],onChange:function(e){o([c[0],e.target.value,c[2]])}}),i.a.createElement(j.a,{type:"number",placeholder:"Dia",min:"1",max:"31",value:c[2],onChange:function(e){o([c[0],c[1],e.target.value])}})))},ue=function(e){var t=q(),n=i.a.useState([]),r=Object(a.a)(n,2),c=r[0],o=r[1],s=i.a.useState(null),u=Object(a.a)(s,2),d=u[0],m=u[1];return i.a.useEffect((function(){e.value&&o(e.value),e.postType.relation_parent&&e.postType.relation_parent.length>0&&m(e.postType.relation_parent[0].id)}),[]),i.a.useEffect((function(){e.setFieldValue(c)}),[c]),i.a.createElement(i.a.Fragment,null,c&&d&&i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{sx:{display:"flex",justifyContent:"flex-start",maxHeight:300,overflow:"auto",width:"100%"}},i.a.createElement(F.a,{root:d,postType:e.postType.relation_type,view:"list",checkboxTypes:[e.postType.relation_type],multiple:!0,childrenSelect:!0,setSelected:function(e){o(e)},selected:c}))))},de=function(e){var t=q(),n=i.a.useState(null),r=Object(a.a)(n,2),c=r[0],o=r[1],s=i.a.useState(null),u=Object(a.a)(s,2),f=u[0],p=u[1],h=i.a.useState(null),b=Object(a.a)(h,2),g=b[0],v=b[1],y=i.a.useState(null),E=Object(a.a)(y,2),x=E[0],j=E[1],O=i.a.useState(null),w=Object(a.a)(O,2),k=w[0],T=w[1],C=i.a.useState(null),S=Object(a.a)(C,2),N=S[0],z=S[1];return i.a.useEffect((function(){H(0).then((function(e){o(e)})).catch((function(e){console.log(e)}))}),[]),i.a.useEffect((function(){f&&H(1,{parent:f}).then((function(e){v(e)})).catch((function(e){console.log(e)}))}),[f]),i.a.useEffect((function(){x&&H(2,{parent:x}).then((function(e){T(e)})).catch((function(e){console.log(e)}))}),[x]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:"".concat(t.item," ").concat(e.errors?"error":""),key:e.id},i.a.createElement("label",{htmlFor:e.id},e.name,e.required?i.a.createElement("span",null,"*"):""),i.a.createElement(l.a,{sx:{width:"100%"}},i.a.createElement(l.a,{sx:{display:"flex"}},c&&i.a.createElement(d.a,{name:"level_0",style:{width:"33%"},onChange:function(e){p(e.target.value)},value:f,placeholder:"Seleccione un pa\xeds"},c.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.properties.ident},e.properties.name)}))),g&&g.length>0&&i.a.createElement(d.a,{name:"level_0",style:{width:"33%"},onChange:function(e){j(e.target.value)},value:x,placeholder:"Seleccione un estado"},g.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.properties.ident},e.properties.name)}))),k&&k.length>0&&i.a.createElement(d.a,{name:"level_0",style:{width:"33%"},onChange:function(e){z(e.target.value)},value:N,placeholder:"Seleccione un municipio"},k.map((function(e,t){return i.a.createElement(m.a,{key:t,value:e.properties.ident},e.properties.name)})))))))},me=function(e){var t=i.a.useState(null),n=Object(a.a)(t,2),r=n[0],c=n[1];return i.a.useEffect((function(){if(e.condition){e.change(e.id,null);var t=e.options.filter((function(t){return t.value===e.conditionValue}));t.length>0?c(t[0].fields):c(null)}}),[e.condition,e.conditionValue]),i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(i.a.Fragment,null,r.map((function(t,n){return i.a.createElement(i.a.Fragment,null,"multiple-checkbox"===t.type&&i.a.createElement(ne,{label:e.label,key:n,value:e.value?e.value:[],options:t.options,handleChange:function(t){e.change(e.id,t)}}))}))))}},957:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(2),r=n.n(a),c=n(857),o=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{viewBox:"0 0 53.2 53.2",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fill:"#a3d4ff",d:"M33.3 7.7v8.4h8.4z"}),r.a.createElement("path",{fill:"#2a5082",d:"M39.8 46.9h-27c-1.5 0-2.8-1.3-2.8-2.8V9.6c0-1.5 1.3-2.8 2.8-2.8h21.8l8 8v29.3c0 1.5-1.2 2.8-2.8 2.8zm-27-38.2c-.5 0-.9.4-.9.9v34.5c0 .5.4.9.9.9h27c.5 0 .9-.4.9-.9V15.6l-6.9-6.9h-21z"}),r.a.createElement("path",{fill:"#2a5082",d:"M38.9 17.1h-6.5v-6.6h1.9v4.7h4.6zM47.3 30.1h1.9V32h-1.9zM47.3 33.8h1.9v1.9h-1.9zM43.6 53.4H32.4v-1.9h11.2c2.1 0 3.7-1.7 3.7-3.7V37.6h1.9v10.2c0 3.1-2.5 5.6-5.6 5.6zM24.9 51.5h1.9v1.9h-1.9zM21.2 51.5h1.9v1.9h-1.9zM28.7 51.5h1.9v1.9h-1.9zM9.1 51.5c-2.1 0-3.7-1.7-3.7-3.7V31.4l2.1 2.1 1.3-1.3-4.4-4.4L0 32.2l1.3 1.3 2.1-2.1v16.4c0 3.1 2.5 5.6 5.6 5.6h10.2v-1.9H9.1zM3.5 24.5h1.9v1.9H3.5zM3.5 20.8h1.9v1.9H3.5zM51.3 22.9L49.2 25V5.9c0-3.1-2.5-5.6-5.6-5.6H32.4v1.9h11.2c2.1 0 3.7 1.7 3.7 3.7v19.2L45.2 23l-1.3 1.3 4.4 4.4 4.4-4.4-1.4-1.4zM5.4 18.9H3.5v-13C3.5 2.8 6 .3 9.1.3h10.2v1.9H9.1C7 2.2 5.4 3.8 5.4 5.9v13zM24.9.3h1.9v1.9h-1.9zM21.2.3h1.9v1.9h-1.9zM28.7.3h1.9v1.9h-1.9z"})))},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1",x:"0",y:"0",version:"1.1",viewBox:"0 0 53.2 53.2"},r.a.createElement("defs",null),r.a.createElement("path",{d:"M33.3 50.2h-3.6l-3-4.6c-.6-.9-1.6-1.4-2.6-1.4h-9.9c-1.1 0-2.1.6-2.7 1.5l-2.8 4.6H5.1v2.4l28.4-.2-.2-2.3zm-19.9-3.3c.1-.2.4-.4.7-.4H24c.3 0 .5.1.7.4l2.1 3.3-15.7.1 2.3-3.4z",class:"st0"}),r.a.createElement("path",{fill:"#a3d4ff",d:"M20.1 17.1L32.8 6.4l6.4 7.5L26 24.8z"}),r.a.createElement("path",{d:"M52.2 37.2L36.1 17.5l3-2.4.1.1 4.8-2c.9-.4 1.6-1.2 1.8-2.1.2-1 0-2-.6-2.7l-5.8-7C38.8.7 37.9.3 36.9.3s-1.8.5-2.4 1.3l-3.1 4.1.2.2-11.4 9.5-.3-.4-4.7 2c-.9.4-1.5 1.1-1.8 2.1-.2.9-.1 1.9.5 2.7l5.5 7.3c.6.8 1.5 1.2 2.5 1.2s1.9-.5 2.5-1.3l3-4.2-.2-.2 2.7-2.1 16.3 19.7c.6.7 1.4 1.1 2.2 1.1h.2c.8 0 1.6-.3 2.2-.8l.9-.8c1.4-1.2 1.5-3.1.5-4.5zM36.4 2.9c.2-.3.4-.3.6-.3.2 0 .4 0 .6.3l5.8 7c.2.3.2.5.1.7s-.1.4-.4.5l-3.2 1.3-5.5-6.8 2-2.7zM22.5 27.6c-.1.2-.4.3-.6.3-.2 0-.4 0-.6-.3l-5.5-7.3c-.2-.3-.2-.5-.1-.6 0-.1.1-.4.4-.5l3-1.3 5.4 6.9-2 2.8zM32.6 8.1l4.6 5.5-11.2 9-4.3-5.4 10.9-9.1zm17.6 31.8l-.9.8c-.2.2-.4.2-.6.2-.2 0-.4-.1-.6-.3L32.6 21.9 35 20l15.3 18.8c.3.3.3.8-.1 1.1z",class:"st0"})))},l=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1",x:"0",y:"0",version:"1.1",viewBox:"0 0 53.2 53.2"},r.a.createElement("defs",null),r.a.createElement("path",{className:"back",d:"M11.3,46.4c0,2.4,1.9,4.3,4.3,4.3h23.3c-2.4,0-4.3-1.9-4.3-4.3H11.3z"}),r.a.createElement("path",{className:"back",d:"M8.7,41.6l-2.5,7.7l-2.6-7.8v-31c0-1,0.8-1.7,1.7-1.7H7c1,0,1.7,0.8,1.7,1.7V41.6z"}),r.a.createElement("line",{className:"front",fill:"currentColor",x1:"3.6",y1:"40.7",x2:"8.7",y2:"40.7"}),r.a.createElement("path",{className:"front",fill:"currentColor",d:"M11.3,9.7v2.6H9.6v-1.7c0-0.7-0.3-1.4-0.8-1.8V6.2c0-1.4-1.2-2.6-2.6-2.6c-1.4,0-2.6,1.2-2.6,2.6v2.5 c-0.5,0.5-0.9,1.2-0.9,1.9v31L6.2,52l3.4-10.2V14h1.7v8.6H13V9.7H11.3z M4.4,10.5c0-0.4,0.2-0.7,0.5-0.8h2.4 c0.3,0.1,0.5,0.4,0.5,0.8v1.8H4.4V10.5z M5.3,6.2c0-0.5,0.3-0.9,0.8-0.9S7,5.7,7,6.2v1.7H5.3V6.2z M6.1,46.6l-1.7-5.1h3.3L6.1,46.6z M7.8,39.8H4.4V14h3.4V39.8z"}),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"19.1",className:"front",fill:"currentColor",width:"15.5",height:"1.7"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"22.6",className:"front",fill:"currentColor",width:"15.5",height:"1.7"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"26",className:"front",fill:"currentColor",width:"15.5",height:"1.7"})),r.a.createElement("g",null,r.a.createElement("rect",{x:"21.7",y:"29.5",className:"front",fill:"currentColor",width:"9.5",height:"1.7"}))),r.a.createElement("path",{className:"front",fill:"currentColor",d:"M47.6,10.6L47.6,10.6l-0.1-0.1H20.8c-2.9,0-5.2,2.3-5.2,5.2v30.1h-5.2v0.9c0,2.9,2.3,5.2,5.2,5.2h23.2h0.1 c2.9,0,5.2-2.3,5.2-5.2v-31c0-1.9,1.5-3.4,3.4-3.4h0.1c1.9,0,3.4,1.5,3.4,3.4h-5.2v1.7h6.9h0.1v-1.6C52.8,12.9,50.5,10.6,47.6,10.6 z M17.7,50.2h-2.1c-1.6,0-2.9-1.1-3.3-2.6h21.5c0.1,1,0.6,1.9,1.2,2.6H17.7z M42.4,15.8v31c0,1.9-1.5,3.4-3.4,3.4h-0.2v-0.1 c-1.9,0-3.4-1.5-3.4-3.4v-0.9h-18v-30c0-1.9,1.5-3.4,3.4-3.4h22.9C42.9,13.3,42.4,14.5,42.4,15.8z"}))))},s=n(969),u=Object(c.a)((function(e){return{root:{position:"fixed",width:"54px",background:"rgba(42, 80, 130, 0.8)",borderRadius:"10px",top:"50%",transform:"translateY(-50%)",left:"10px",zIndex:15},item:{cursor:"pointer",position:"relative",margin:2,"& .tooltipUi":{position:"absolute",top:"50%",transform:"translate(calc(50px + 5px), -50%)",background:"rgba(20, 20, 20, 0.9)",padding:"1em",color:"white",borderRadius:"10px",opacity:0,zIndex:-1,visibility:"hidden",transition:"all 0.25s ease"},"& .icon":{width:"50px",height:"50px",position:"relative",borderRadius:"10px",background:"rgba(42, 80, 130, 1)",display:"flex",justifyContent:"center",alignItems:"center","&::before":{content:'""',position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",transform:"scale(0.8)",opacity:0,transition:"all 0.25s ease"},"& svg":{position:"relative",width:"20px","& path, & circle, & rect":{fill:"rgba(255, 255, 255, 0.8)"}}},"&.light .icon":{background:"rgba(42, 80, 130, 0.1)","& svg":{"& path, & circle, & rect":{fill:"rgba(100,100,100, 1)"}}},"&.top .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&:hover":{"& .icon":{"&::before":{transform:"scale(1)",opacity:1}},"& .tooltipUi":{transform:"translate(calc(50px + 10px), -50%)",opacity:1,zIndex:20,visibility:"visible"}},"&.top:hover .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&.edit .icon":{background:"#ed9f31"},"&.new .icon":{background:"#59b359"},"&.delete .icon":{background:"#d34a46"}}}})),d=[{name:"Patrones de texto",icon:r.a.createElement(o,null)},{name:"Informaci\xf3n de fichas",icon:r.a.createElement(l,null)},{name:"Resultados",icon:r.a.createElement(i,null)}];t.a=function(e){var t=u(),n=e.list?e.list:d;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:t.root},n.map((function(e,n){return r.a.createElement(s.a,{className:"".concat(t.item," ").concat(e.action?e.action:""),title:e.name,key:n,onClick:e.callback?e.callback:function(){}},e.icon)}))))}},958:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{style:{marginLeft:"70px",marginTop:"10px",marginRight:"10px",position:"relative",width:"calc(100% - 70px)"}},t))}},966:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(204),r=n(47);function c(){var e={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+"/lists",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t="/lists/"+e,n={method:"GET",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e,t){var n=new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),c="/lists/"+e;console.log(t);var o={method:"PUT",headers:n,mode:"cors",cache:"default",body:t};return fetch(r.e+c,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:Object(a.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.e+"/lists",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/lists/"+e,n={method:"DELETE",headers:new Headers({Authorization:Object(a.a)()}),mode:"cors",cache:"default"};return fetch(r.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e}))}},967:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var a=n(37),r=n(2),c=n.n(r),o=n(502),i=n(1429),l=n(1107),s=n(941),u=n(955),d=n(970),m=n(959),f=Object(o.a)(i.a)((function(e){var t=e.theme;return{backgroundColor:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[200],height:t.spacing(3),color:t.palette.text.primary,fontWeight:t.typography.fontWeightRegular,border:"1px solid #dcdcdc",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:300,"& svg":{width:15,marginLeft:10,marginRight:5}}})),p=Object(o.a)(i.a)((function(e){var t=e.theme;return{backgroundColor:"rgb(85 116 154)",height:t.spacing(3),color:"white",fontWeight:t.typography.fontWeightRegular,border:"1px solid #dcdcdc",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:300,"& svg":{width:15,marginLeft:10,marginRight:5},"& path":{fill:"#fff"}}})),h=function(e){var t=Object(r.useState)([]),n=Object(a.a)(t,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){e.type&&e.slug&&u.d(e.slug,e.type).then((function(e){var t=m.i(m.k);i(e.map((function(e,n){return e.color=t(e._id),e})))})).catch((function(e){console.log(e)}))}),[]),c.a.createElement(l.a,{style:{margin:"5px",maxWidth:"600px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},"timeCreated"===e.type&&o.length>0&&c.a.createElement(d.c,{data:o,legend:!0,scaleType:"time"}),"statusCount"===e.type&&o.length>0&&c.a.createElement(d.b,{data:o,legend:!0}),"authorCount"===e.type&&o.length>0&&c.a.createElement(d.a,{data:o,legend:!0}))};t.c=function(e){return c.a.createElement(s.a,{style:{display:"flex"}},c.a.createElement(h,{type:"timeCreated",slug:e.selectedType.slug}),c.a.createElement(h,{type:"statusCount",slug:e.selectedType.slug}),c.a.createElement(h,{type:"authorCount",slug:e.selectedType.slug}))}},968:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(47),r=n(204);function c(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:Object(r.a)()}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/search",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:Object(r.a)()}),mode:"cors",cache:"default",body:e};return fetch(a.e+"/search/tree",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},969:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=function(e){var t=e.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:e.index,className:"".concat(t," ").concat(e.labelPos?e.labelPos:""),onClick:function(){return e.onClick(e.title)}},r.a.createElement("div",{className:"icon"},e.children),r.a.createElement("div",{className:"tooltipUi"},e.title)))}},970:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var a=n(203),r=n(18),c=n(37),o=n(959),i=n(2),l=n.n(i),s=n(47),u=n(857),d=Object(u.a)((function(e){return{barBox:{padding:3,paddingTop:"3px",paddingBottom:"13px",borderRadius:"5px","&:hover":{background:"#f5f5f5",cursor:"pointer"},"&.selected":{background:"rgba(86,116,154,0.75)","& .txt, & .number":{color:"#fff","& path":{fill:"#fff"}},"& .borderBox":{border:"1px solid white",background:"rgba(255,255,255,0.15)"},"& .percentBar":{background:"white"}}},borderBox:{position:"relative",height:"5px",borderRadius:"10px",border:"1px solid #acbbd1"},percentBar:{position:"absolute",height:"100%",background:"#acbbd1",borderRadius:"10px"},txt:{textTransform:"uppercase",fontSize:11,display:"flex",alignItems:"center"},number:{float:"right",border:"#fff",fontWeight:"bold",color:"#56749a",minWidth:"20px",height:"20px",lineHeight:"20px",textAlign:"center",fontSize:"10px",borderRadius:"10px",padding:"0px 10px"},icon:{width:"14px",height:"14px",marginRight:5,marginLeft:5,padding:"4px",borderRadius:"50%",borderTopRightRadius:0,borderTopLeftRadius:0,"& svg":{width:"100%",height:"14px"},"& path":{fill:"#acbbd1"}}}})),m=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},f=function(e){var t=d(),n=Object(i.useState)([]),a=Object(c.a)(n,2),r=a[0],o=a[1];return Object(i.useEffect)((function(){if(e.data){var t=0;e.data.forEach((function(e){t+=e.count})),o(e.data.map((function(e,n){return e.percent=Math.round(e.count/t*100),e})))}}),[]),l.a.createElement("div",{style:{width:"90%"}},r.length>0&&r.map((function(e,n){return l.a.createElement(l.a.Fragment,null,e.count>0&&l.a.createElement("div",{key:n,className:"".concat(t.barBox)},l.a.createElement("div",{className:"borderBox ".concat(t.borderBox)},l.a.createElement("div",{style:{width:"".concat(e.percent,"%")},className:"percentBar ".concat(t.percentBar)})),l.a.createElement("div",null,l.a.createElement("div",{className:"".concat(t.txt," txt")},e._id,l.a.createElement("span",{className:"number ".concat(t.number)},m(e.count))))))})))},p=function(e){var t,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){!function(){var t=e.data.map((function(e){return{type:e._id?e._id:"Sin procesar",value:e.count,color:e.color}})),a=o.m(n.current);a.attr("viewBox","0 0 200 200");var r=o.a().innerRadius(70).outerRadius(85),c=o.g().value((function(e){return e.value})).sort(null),i=(o.a().innerRadius(95).outerRadius(95),c(t));a.append("g").attr("class","donut-container").attr("transform","translate(".concat(100,", ").concat(100,")")).selectAll("path").data(i).join("path").style("stroke","white").style("stroke-width",2).style("fill",(function(e){return e.data.color})).attr("d",r)}()}),[]),l.a.createElement("div",{style:Object(r.a)({display:"flex",justifyContent:"space-around",alignItems:"center",position:"relative"},e.style)},l.a.createElement("svg",{style:{maxWidth:130,width:"100%"},ref:n,className:e.className}),e.legend&&l.a.createElement("div",null,null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return l.a.createElement("div",{style:{textTransform:"uppercase",fontSize:"10px",fontWeight:"bold"},key:t},e._id?s.a.find((function(t){return t.value===e._id})).label:"Sin procesar",l.a.createElement("div",{style:{background:e.color,textAlign:"center",fontWeight:"bold",color:"white",maxWidth:60,borderRadius:3}},m(e.count)))}))))},h=function(e){var t=Object(i.useRef)(null),n=10,r=30,c=30,s=60;return Object(i.useEffect)((function(){!function(){for(var i=Object(a.a)(e.data),l=1;l<i.length;l++)i[l].count+=i[l-1].count;var u=o.j().range([0,400]).domain(o.d(i,(function(e){return new Date(e._id)}))),d=o.h().range([400,0]).domain([0,o.f(i,(function(e){return e.count}))]),m=o.m(t.current);m.attr("viewBox","-".concat(s," -").concat(n," ").concat(400+r+s," ").concat(400+c+n)).style("width",400).style("height",400),m.append("g").call((function(e){return e.attr("transform","translate(0,".concat(400,")")).call(o.b(u).ticks(5).tickFormat(o.n("%d/%m/%Y")))})),m.append("g").call((function(e){return e.attr("transform","translate(0,0)").call(o.c(d))})),m.append("path").datum(i).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",o.e().x((function(e){return u(new Date(e._id))})).y((function(e){return d(e.count)})))}()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{ref:t,className:e.className}))}},973:function(e,t,n){"use strict";var a=n(203),r=n(37),c=n(2),o=n.n(c),i=n(9),l=n.n(i),s=n(857),u=n(941),d=n(863),m=n(859),f=n(1412),p=n(860),h=n(861),b=n(862),g=n(264),v=n.n(g),y=n(1038),E=n.n(y),x=n(996),j=n.n(x),O=n(997),w=n.n(O),k=n(1037),T=n.n(k),C=n(980),S=n.n(C),N=n(47),z=n(263),F=n(953),P=Object(s.a)((function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(4)},tabs:{},accordeons:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},listado:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),maxWidth:600},nested:{paddingLeft:e.spacing(3),marginLeft:e.spacing(3),borderLeft:"1px solid #dcdcdc"},item:{padding:1}}})),A=Object(s.a)((function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(4)},check:{padding:0},accordeons:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},listado:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),maxWidth:600},nested:{paddingLeft:e.spacing(3)+"px !important",marginLeft:e.spacing(1),borderLeft:"1px solid #dcdcdc"},icon:{marginLeft:e.spacing(2),marginRight:e.spacing(1),minWidth:"auto","&.loading":{"-webkit-animation":"rotate-center 1s linear infinite both",animation:"rotate-center 1s linear infinite both"},"& path":{fill:"#56749a"}},iconExpand:{marginRight:e.spacing(1),minWidth:"auto","& path":{fill:"#999"}},text:{"& span":{display:"inline-block",padding:"0 10px",transition:"all 0.3s ease-in-out",fontSize:"14px"},"&.selected span":{background:"#c5cfdc",borderRadius:"5px",color:"#375374"}}}})),R=Object(s.a)((function(e){return{check:{padding:0},icon:{marginLeft:e.spacing(2),marginRight:e.spacing(1),minWidth:"auto","& path":{fill:"#56749a"}},text:{"& span":{display:"inline-block",padding:"0 10px",fontSize:"14px",transition:"all 0.3s ease-in-out"},"&.selected span":{background:"#c5cfdc",borderRadius:"5px",color:"#375374"}}}})),H=function(e){var t=e.children,n=e.view,a=e.postType,r=e.className,c=e.checkboxTypes,i=e.parent,l=e.setSelected,s=e.selected,u=e.activeTypes,d=e.childrenSelect;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return e.children?o.a.createElement(L,{view:n,original:e,postType:a,id:e.id,class:r,checkboxTypes:c,parent:i,setSelected:l,selected:s,activeTypes:u}):o.a.createElement(M,{original:e,id:e.id,class:r,checkboxTypes:c,parent:i,setSelected:l,selected:s,childrenSelect:d})})))},B=function(e){var t=P(),n=Object(c.useState)([]),i=Object(r.a)(n,2),l=i[0],s=i[1],m=Object(c.useState)([]),f=Object(r.a)(m,2),p=f[0],h=f[1];Object(c.useEffect)((function(){var t={root:e.root?e.root:"all",view:e.view};"tree"===e.view?t.tree=e.parents:(e.postType&&(t.postType=e.postType),e.activeTypes&&(t.activeTypes=e.activeTypes.map((function(e){return e.slug})))),Object(F.g)(JSON.stringify(t)).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){e.selected&&h(e.selected)}),[e.selected]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:t.listado},o.a.createElement(d.a,{disablePadding:!0,component:"nav","aria-labelledby":"nested-list-subheader"},H({children:l,view:e.view,postType:e.postType,activeTypes:e.activeTypes,checkboxTypes:e.checkboxTypes,parent:[],setSelected:function(t,n){e.multiple?p.filter((function(e){return e.id===t.id})).length>0?(h(p.filter((function(e){return e.id!==t.id}))),e.setSelected(p.filter((function(e){return e.id!==t.id})))):(h([].concat(Object(a.a)(p),[t])),e.setSelected([].concat(Object(a.a)(p),[t]))):p.filter((function(e){return e.id===t.id})).length>0?(h([]),e.setSelected([])):(h([t]),e.setSelected([t]))},selected:p,className:t.item,childrenSelect:e.childrenSelect}))))},L=function(e){var t=A(),n=Object(c.useState)(!1),i=Object(r.a)(n,2),l=i[0],s=i[1],u=Object(c.useState)(!1),g=Object(r.a)(u,2),y=g[0],E=g[1],x=Object(c.useState)(!1),O=Object(r.a)(x,2),k=O[0],C=O[1],P=Object(c.useState)(0),R=Object(r.a)(P,2),B=R[0],L=R[1],M=Object(c.useState)(!1),I=Object(r.a)(M,2),_=I[0],q=I[1],V=Object(c.useState)(!1),G=Object(r.a)(V,2),W=G[0],D=G[1],J=Object(c.useState)([]),U=Object(r.a)(J,2),Y=U[0],K=U[1],Q=function(){s(!l)};Object(c.useEffect)((function(){0===Y.length&&l&&X()}),[l]),Object(c.useEffect)((function(){X()}),[B]);var X=function(){var t={root:e.id,view:e.view,page:B};"tree"===e.view?t.tree=e.activeTypes:(t.postType=e.postType,e.activeTypes&&(t.activeTypes=e.activeTypes.map((function(e){return e.slug})))),D(!0),Object(F.g)(JSON.stringify(t)).then((function(e){e.length<10?q(!1):10===e.length&&q(!0);var t=[].concat(Object(a.a)(Y),Object(a.a)(e));K(t),D(!1)}))};Object(c.useEffect)((function(){if(D(!1),Object(z.isArray)(e.path)){var t=e.path.find((function(t){return!!t&&t.id===e.id}));C(!!t),s(!!t)}}),[e.path]),Object(c.useEffect)((function(){e.selected?e.selected.length>0&&e.selected.filter((function(t){return t.id===e.id})).length>0?E(!0):E(!1):E(!1)}),[e.selected]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:e.class},e.checkboxTypes.includes(e.original.post_type)&&o.a.createElement(f.a,{checked:y,color:"primary",edge:"start",className:t.check,onClick:function(){e.setSelected(e.original,e.parent),l||s(!0)}}),W?o.a.createElement(p.a,{className:"loading ".concat(t.icon)},o.a.createElement(T.a,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{className:t.icon},N.d.filter((function(t){return t.value===e.original.icon}))?N.d.filter((function(t){return t.value===e.original.icon}))[0].icon:o.a.createElement(v.a,null))),l&&!W?o.a.createElement(j.a,{style:{cursor:"pointer"},onClick:Q,className:t.iconExpand}):o.a.createElement(o.a.Fragment,null,W?o.a.createElement(w.a,{className:t.iconExpand}):o.a.createElement(w.a,{style:{cursor:"pointer"},onClick:Q,className:t.iconExpand})),o.a.createElement(h.a,{style:{cursor:"pointer"},className:"".concat(t.text," ").concat(k||y?"selected":""),primary:e.original.name,onClick:function(){Q()}})),o.a.createElement(b.a,{in:l,timeout:"auto",unmountOnExit:!0},o.a.createElement(d.a,{component:"div",disablePadding:!0,className:e.class},H({children:Y,view:e.view,postType:e.postType,className:"".concat(t.nested," ").concat(e.class),checkboxTypes:e.checkboxTypes,activeTypes:e.activeTypes,parent:[].concat(Object(a.a)(e.parent),[{id:e.id,name:e.original.name}]),setSelected:e.setSelected,selected:e.selected,childrenSelect:e.childrenSelect}),_&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{button:!0,onClick:function(){L(B+1)},className:"".concat(t.nested," ").concat(e.class),style:{display:"flex",justifyContent:"center"}},W&&o.a.createElement(p.a,{className:"loading ".concat(t.icon)},o.a.createElement(T.a,null)),!W&&o.a.createElement(p.a,{className:"".concat(t.icon)},o.a.createElement(S.a,null)))))))},M=function(e){var t=R(),n=Object(c.useState)(!1),a=Object(r.a)(n,2),i=a[0],l=a[1],s=Object(c.useState)(!1),u=Object(r.a)(s,2),d=u[0],b=u[1];Object(c.useEffect)((function(){if(Object(z.isArray)(e.path)){var t=e.path.find((function(t){return!!t&&t.id===e.id}));b(!!t)}}),[e.path]),Object(c.useEffect)((function(){if(e.selected)if(e.selected.length>0){var t=e.selected.find((function(t){return t.id===e.id}));l(!!t)}else l(!1);else l(!1)}),[e.selected]);var g=function(){e.setSelected(e.original,e.parent)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:e.class},e.checkboxTypes.includes(e.original.post_type)&&e.childrenSelect&&o.a.createElement(f.a,{checked:i,color:"primary",edge:"start",className:t.check,onClick:function(){g()}}),o.a.createElement(p.a,{className:t.icon},N.d.filter((function(t){return t.value===e.original.icon}))?N.d.filter((function(t){return t.value===e.original.icon}))[0].iconlight:o.a.createElement(E.a,null)),o.a.createElement(h.a,{style:{cursor:"pointer"},onClick:function(){g()},primary:e.original.name,className:"".concat(t.text," ").concat(d||i?"selected":"")})))};B.prototypes={root:l.a.string,view:l.a.string.isRequired,postType:l.a.string},t.a=B},979:function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return b}));n(1059);var a=n(47),r=n(204);function c(e){var t={method:"PUT",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(a.e+"/users/update",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"PUT",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(a.e+"/users/update-me",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(a.e+"/users/register",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t="/users/"+e,n={method:"GET",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(a.e+t,n).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:Object(r.a)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(a.e+"/users",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function u(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/users/token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function d(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/users/admin-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function m(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/users/node-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function f(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function p(e){var t={method:"DELETE",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function h(e){var t={method:"POST",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch(a.e+"/users/favorites_list",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function b(){var e={method:"GET",headers:{Authorization:Object(r.a)(),"Content-Type":"application/json"},mode:"cors",cache:"default"};return fetch(a.e+"/users/requests",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}}}]);
//# sourceMappingURL=23.77717bc6.chunk.js.map