"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[8213],{48084:function(t,e,n){var o=n(5544),r=n(65043),i=n(83003),a=n(85211),s=n(55263),c=n(17392),l=n(30279),u=n(99070),d=n(77739),h=n(30492),p=n(54536),f=n(26240),g=n(64621),m=n(64846),y=n(9856),b=n(38749),v=n(99246),w=n(57770),x=n(41453),A=n(70579);e.A=function(t){var e=(0,i.wA)(),n=((0,i.d4)((function(t){return t.app.adjustements})),(0,r.useState)(!1)),j=(0,o.A)(n,2),C=j[0],T=j[1],z=(0,r.useState)(1),S=(0,o.A)(z,2),H=S[0],k=S[1],E=(0,r.useState)(1),R=(0,o.A)(E,2),L=R[0],P=R[1],O=(0,r.useState)(1),B=(0,o.A)(O,2),N=B[0],D=B[1],M=(0,r.useState)(0),J=(0,o.A)(M,2),U=J[0],q=J[1],I=(0,r.useState)(0),F=(0,o.A)(I,2),Z=F[0],_=F[1],G=(0,f.A)(),Y=(0,v.A)();(0,i.d4)((function(t){return t.app.isDarkMode}));return(0,r.useEffect)((function(){e((0,a.n_)({contrast:H,brightness:L,saturation:N,invert:U,rotation:Z}))}),[]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(s.A,{style:{minHeight:"auto",padding:0,justifyContent:"space-between",alignContent:"center"},children:[t.children?t.children:(0,A.jsx)("div",{}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingLeft:10},children:[(0,A.jsx)(h.A,{style:{color:"white",opacity:C?1:.5,fontSize:20,transition:"opacity 0.3s"}}),(0,A.jsx)(c.A,{onClick:function(){return T(!C)},children:(0,A.jsx)(p.A,{style:{color:"white",opacity:.5,fontSize:20,transform:C?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})})]})]}),(0,A.jsxs)(l.A,{in:C,children:[(0,A.jsxs)(s.A,{style:{minHeight:"auto",padding:0,justifyContent:"center",alignContent:"center",backgroundColor:G.palette.grey[900],borderTopLeftRadius:10,borderTopRightRadius:10,color:"white"},children:[(0,A.jsx)(u.Ay,{size:"small",min:0,max:5,step:.1,value:H,onChange:function(t,n){k(n),e((0,a.n_)({contrast:n,brightness:L,saturation:N,invert:U,rotation:Z}))},style:{width:"calc(100% - 20px)",margin:"10px"},valueLabelDisplay:"auto"}),(0,A.jsx)(d.A,{title:Y.formatMessage({id:"contrast"}),arrow:!0,placement:"top",style:{color:"white",opacity:.5,fontSize:20,marginRight:10},children:(0,A.jsx)(m.A,{style:{color:"white",opacity:.5,fontSize:20,marginRight:10}})})]}),(0,A.jsxs)(s.A,{style:{minHeight:"auto",padding:0,justifyContent:"center",alignContent:"center",backgroundColor:G.palette.grey[900],color:"white"},children:[(0,A.jsx)(u.Ay,{size:"small",min:0,max:3,step:.1,value:L,onChange:function(t,n){P(n),e((0,a.n_)({contrast:H,brightness:n,saturation:N,invert:U,rotation:Z}))},style:{width:"calc(100% - 20px)",margin:"10px"},valueLabelDisplay:"auto"}),(0,A.jsx)(d.A,{title:Y.formatMessage({id:"brightness"}),arrow:!0,placement:"top",style:{color:"white",opacity:.5,fontSize:20,marginRight:10},children:(0,A.jsx)(g.A,{style:{color:"white",opacity:.5,fontSize:20,marginRight:10}})})]}),(0,A.jsxs)(s.A,{style:{minHeight:"auto",padding:0,justifyContent:"center",alignContent:"center",backgroundColor:G.palette.grey[900],color:"white"},children:[(0,A.jsx)(u.Ay,{size:"small",min:0,max:2,step:.1,value:N,onChange:function(t,n){D(n),e((0,a.n_)({contrast:H,brightness:L,saturation:n,invert:U,rotation:Z}))},style:{width:"calc(100% - 20px)",margin:"10px"},valueLabelDisplay:"auto"}),(0,A.jsx)(d.A,{title:Y.formatMessage({id:"saturation"}),arrow:!0,placement:"top",style:{color:"white",opacity:.5,fontSize:20,marginRight:10},children:(0,A.jsx)(b.A,{style:{color:"white",opacity:.5,fontSize:20,marginRight:10}})})]}),(0,A.jsxs)(s.A,{style:{minHeight:"auto",padding:0,justifyContent:"center",alignContent:"center",backgroundColor:G.palette.grey[900],borderBottomLeftRadius:10,borderBottomRightRadius:10,color:"white"},children:[(0,A.jsx)(u.Ay,{size:"small",min:0,max:1,step:1,value:U,onChange:function(t,n){q(n),e((0,a.n_)({contrast:H,brightness:L,saturation:N,invert:n,rotation:Z}))},style:{width:"calc(100% - 20px)",margin:"10px"},valueLabelDisplay:"auto"}),(0,A.jsx)(d.A,{title:Y.formatMessage({id:"invert"}),arrow:!0,placement:"top",style:{color:"white",opacity:.5,fontSize:20,marginRight:10},children:(0,A.jsx)(y.A,{style:{color:"white",opacity:.5,fontSize:20,marginRight:10}})})]}),(0,A.jsxs)(s.A,{style:{minHeight:"auto",justifyContent:"center",alignContent:"center",backgroundColor:G.palette.grey[900],borderRadius:10,color:"white",marginTop:10},children:[(0,A.jsx)(d.A,{title:Y.formatMessage({id:"rotateLeft"}),arrow:!0,placement:"top",style:{color:"white",opacity:.5,fontSize:20},children:(0,A.jsx)(c.A,{onClick:function(){_(Z-90),e((0,a.n_)({contrast:H,brightness:L,saturation:N,invert:U,rotation:Z-90}))},children:(0,A.jsx)(w.A,{style:{color:"white",opacity:.5,fontSize:20}})})}),(0,A.jsx)(d.A,{title:Y.formatMessage({id:"rotateRight"}),arrow:!0,placement:"top",style:{color:"white",opacity:.5,fontSize:20},children:(0,A.jsx)(c.A,{onClick:function(){_(Z+90),e((0,a.n_)({contrast:H,brightness:L,saturation:N,invert:U,rotation:Z+90}))},children:(0,A.jsx)(x.A,{style:{color:"white",opacity:.5,fontSize:20}})})})]})]})]})}},90151:function(t,e,n){n.d(e,{D8:function(){return H},P4:function(){return U},RI:function(){return B},Ts:function(){return N},Zv:function(){return P},a7:function(){return J},i0:function(){return I},kx:function(){return k},oS:function(){return E},qV:function(){return O},vs:function(){return F}});var o,r,i,a=n(89379),s=n(29408),c=n(84538),l=n(17583),u=n(50208),d=n(9920),h=n(49658),p=n(2936),f=n.n(p),g=[],m=[],y=[],b=!1,v=0,w=1e3,x=null,A=null,j=null,C=null,T=null,z=h.UMr(h.t55),S=!0;function H(t){x&&t?(x.mouseButtons={LEFT:s.kBv.ROTATE,MIDDLE:s.kBv.DOLLY,RIGHT:s.kBv.PAN},x.update()):x&&(x.mouseButtons={LEFT:s.kBv.PAN,MIDDLE:s.kBv.DOLLY,RIGHT:s.kBv.ROTATE},x.update()),T=t}function k(t){t}function E(t){t}function R(t,e,n,o,r){var i=document.querySelector(".tooltip");if(i)i.style.left=e+"px",i.style.top=n+"px",i.style.opacity=1,i.style.backgroundColor=o,i.style.boxShadow="0px 0px 5px 0px "+o,i.innerHTML=t;else{var a=document.createElement("div");a.classList.add("tooltip"),a.style.left=e+"px",a.style.top=n+"px",a.style.opacity=1,a.style.backgroundColor=o,a.style.boxShadow="0px 0px 5px 0px "+o,a.innerHTML=t,document.body.appendChild(a)}}function L(){var t=document.querySelector(".tooltip");t&&t.remove()}function P(t){C=t}function O(t,e,n,r){var i=o.position.y,a=o.position.z,s=100*t;if(r){var c=100*(t-1);c<0&&(c=0),s=100*t+(o.position.x-c)}o.position.set(s,i,a),o.rotation.set(0,0,0),v=t,M(t,e,n)}var B=function(t){var e=g[v-1];if(e){var n=e.element.style.filter;n.includes("contrast")&&(t.contrast||0===t.contrast)?n=n.replace(/contrast\((.*?)\)/,"contrast("+t.contrast+")"):(t.contrast||0===t.contrast)&&(n+=" contrast("+t.contrast+")"),n.includes("brightness")&&(t.brightness||0===t.brightness)?n=n.replace(/brightness\((.*?)\)/,"brightness("+t.brightness+")"):(t.brightness||0===t.brightness)&&(n+=" brightness("+t.brightness+")"),n.includes("saturate")&&(t.saturation||0===t.saturation)?n=n.replace(/saturate\((.*?)\)/,"saturate("+t.saturation+")"):(t.saturation||0===t.saturation)&&(n+=" saturate("+t.saturation+")"),n.includes("invert")&&(t.invert||0===t.invert)?n=n.replace(/invert\((.*?)\)/,"invert("+t.invert+")"):(t.invert||0===t.invert)&&(n+=" invert("+t.invert+")"),e.element.style.filter=n;var o=e.element.style.transform;o.includes("rotate")&&(t.rotation||0===t.rotation)?o=o.replace(/rotate\((.*?)\)/,"rotate("+t.rotation+"deg)"):(t.rotation||0===t.rotation)&&(o+=" rotate("+t.rotation+"deg)"),e.element.style.transform=o}};function N(t,e,n,a){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;S=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],A=e,z=h.UMr(h.t55);var p=window.innerWidth/window.innerHeight,f=A.getBoundingClientRect();(o=new s.qUd(w*p/-2,w*p/2,w/2,w/-2,1,1e3)).position.set(-0,0,200),o.rotation.set(0,0,0),r=new s.Z58;for(var j=1;j<=t;j++)y.push(!1),k(72,72/n,j,new s.Pq0(1e4*Math.random()-5e3,2e3*Math.random()-1e3,2e3*Math.random()),new s.O9p(0,0,0));for(var C={line:[]},T=0;T<g.length;T++){var H=new s.B69;H.position.x=100*T,H.position.y=0,H.position.z=0,C.line.push(H)}function k(t,e,i,s,l){var u=document.createElement("div");u.style.width=t+"px",u.style.height=e+"px",u.style.backgroundColor="white",u.style.backgroundSize="contain",u.style.backgroundRepeat="no-repeat",u.style.backgroundPosition="center",u.style.display="flex",u.style.justifyContent="center",u.style.alignItems="center",u.className="plane",u.addEventListener("pointerdown",(function(){if(v===i)b||(b=!0);else{v=i,b=!0;var t=o.position.y,e=o.position.z;o.position.set(100*v,t,e)}M(i,n,a)}));var d=new c.on(u);d.position.copy(s),d.rotation.copy(l),r.add(d),g.push(d),m.push(u)}A.style.height=f.height+"px",(i=new c.a0).setSize(f.width,f.height),i.domElement.style.position="absolute",i.domElement.style.top=0,A.appendChild(i.domElement),o.zoom=.45,(x=new l.N(o,i.domElement)).minZoom=.3,x.maxZoom=5,x.zoomSpeed=2,x.enableRotate=!1,x.enablePan=!1,x.enableZoom=!1,x.mouseButtons={LEFT:s.kBv.PAN,MIDDLE:s.kBv.DOLLY,RIGHT:s.kBv.ROTATE},x.update(),setTimeout((function(){!function(t,e){u.Ay.removeAll();for(var n=0;n<g.length;n++){var o=g[n],r=t[n];o.position.x=r.position.x,o.position.y=r.position.y,o.position.z=r.position.z,o.element.style.transition="all "+e*Math.random()+"s cubic-bezier(0.215, 0.610, 0.355, 1)"}}(C.line,3)}),350),setTimeout((function(){b=!0,v=d,M(d,n,a)}),1e3),window.addEventListener("resize",q)}function D(t){var e=v-1,n=e-10,o=e+10;n<0&&(n=0,o=20),o>g.length&&(n=g.length-20,o=g.length);for(var r=[],i=n;i<o;i++)!1===y[i]&&r.push(i);d.f2(t,r,"small",S).then((function(t){for(var e=0;e<r.length;e++){y[r[e]]=!0;var n=g[r[e]],o="data:image/jpg;base64,"+t[e].data;v!==r[e]+1&&(n.element.style.backgroundColor="transparent",n.element.style.backgroundImage='url("'+o+'")')}}))}function M(t,e,n){if(C(t),b){j&&clearTimeout(j),j=setTimeout((function(){D(n),function(t){d.f2(t,[v-1],"big",S).then((function(t){try{var e=g[v-1],n="data:image/jpg;base64,"+t[0].data;e.element.style.backgroundColor="transparent",e.element.style.backgroundImage='url("'+n+'")'}catch(o){console.log(o)}}))}(n)}),250),x.enablePan=!0,x.enableZoom=!0,x.update();for(var o=0;o<t-1;o++){for(var r=g[o];r.element.firstChild;)r.element.removeChild(r.element.firstChild);r.element.style.transition="all 1s cubic-bezier(0.215, 0.610, 0.355, 1)",r.element.style.width="72px",r.element.style.height=72/e+"px",r.position.x=100*o-1e3,r.position.y=0,r.position.z=0}for(var i=t;i<g.length;i++){for(var a=g[i];a.element.firstChild;)a.element.removeChild(a.element.firstChild);a.element.style.transition="all 1s cubic-bezier(0.215, 0.610, 0.355, 1)",a.element.style.width="72px",a.element.style.height=72/e+"px",a.position.x=100*i+1e3,a.position.y=0,a.position.z=0}var s=g[t-1];s&&(s.element.style.transition="all 1s cubic-bezier(0.215, 0.610, 0.355, 1)",s.element.style.width="1440px",s.element.style.height=1440/e+"px",s.position.z=1e3,s.position.y=10,s.position.x=100*(t-1))}else{j&&clearTimeout(j),j=setTimeout((function(){D(n)}),250),x.enablePan=!1,x.enableZoom=!1,x.update();for(var c=0;c<t-1;c++){var l=g[c];l.element.style.transition="all 1s cubic-bezier(0.215, 0.610, 0.355, 1)",l.element.style.width="72px",l.element.style.height=72/e+"px",l.position.x=100*c,l.position.y=0,l.position.z=0}for(var u=t;u<g.length;u++){var h=g[u];h.element.style.transition="all 1s cubic-bezier(0.215, 0.610, 0.355, 1)",h.element.style.width="72px",h.element.style.height=72/e+"px",h.position.x=100*u,h.position.y=0,h.position.z=0}var p=g[t-1];p.element.style.transition="all 1s cubic-bezier(0.215, 0.610, 0.355, 1)",p.element.style.width="72px",p.element.style.height=72/e+"px",p.position.x=100*(t-1),p.position.z=1e3,p.position.y=10}}function J(t){var e=g[t-1];if(e.element)for(;e.element.firstChild;)e.element.removeChild(e.element.firstChild);e.element.classList.remove("dark")}function U(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t,e){};J(e);var r=new Image;r.src=m[e-1].style.backgroundImage.slice(5,-2);var i=r.width/r.height,s=i>1?100:100*i,c=i>1?100/i:100,l=document.createElementNS("http://www.w3.org/2000/svg","svg");function u(t){return Array.isArray(t.label)?t.label.length>0?"O"===t.label[0]?"transparent":z(t.label[0]):void 0:t.type?z(t.type):t.label?z(t.label):"transparent"}if(l.setAttribute("width","".concat(s,"%")),l.setAttribute("height","".concat(c,"%")),l.setAttribute("viewBox","0 0 ".concat(s," ").concat(c)),l.setAttribute("preserveAspectRatio","none"),null===T)t.forEach((function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","rect"),r=100*t.bbox.y/i;i<1&&(r=100*t.bbox.y);var a=100*t.bbox.height/i;i<1&&(a=100*t.bbox.height);var s=100*t.bbox.x*i;i>1&&(s=100*t.bbox.x);var c=100*t.bbox.width*i;i>1&&(c=100*t.bbox.width),n.setAttribute("x",s),n.setAttribute("y",r),n.setAttribute("width",c),n.setAttribute("height",a),n.setAttribute("fill",u(t,n)),n.setAttribute("fill-opacity",.3),n.addEventListener("mousemove",(function(e){!function(t,e,n){var o=t.clientX,r=t.clientY;Array.isArray(e.label)?e.label.length>0&&("O"===e.label[0]?(n.setAttribute("stroke","black"),n.setAttribute("stroke-width",.05),n.setAttribute("fill","transparent")):(n.setAttribute("stroke","black"),n.setAttribute("stroke-width",.05),n.setAttribute("fill","transparent"),R(e.label[0],o,r-20,u(e),n.getBoundingClientRect().height))):e.type?(n.setAttribute("stroke","black"),n.setAttribute("stroke-width",.05),n.setAttribute("fill","transparent"),R(e.type,o,r-20,u(e),n.getBoundingClientRect().height)):e.label?(n.setAttribute("stroke","black"),n.setAttribute("stroke-width",.05),n.setAttribute("fill","transparent"),R(e.label,o,r-20,u(e),n.getBoundingClientRect().height)):(n.setAttribute("stroke","black"),n.setAttribute("stroke-width",.05),n.setAttribute("fill","transparent"),R(e.text,o,r-20,z(e.text),n.getBoundingClientRect().height))}(e,t,n)})),n.addEventListener("mouseout",(function(){n.setAttribute("stroke","transparent"),n.setAttribute("fill",u(t)),L()})),n.addEventListener("mousedown",(function(n){!function(t,e,n){o(e,n)}(0,t,e)})),l.appendChild(n)}));else{L();var d=document.createElementNS("http://www.w3.org/2000/svg","rect"),h=100*T.bbox.y/i;i<1&&(h=100*T.bbox.y);var p=100*T.bbox.height/i;i<1&&(p=100*T.bbox.height);var y=100*T.bbox.x*i;i>1&&(y=100*T.bbox.x);var b=100*T.bbox.width*i;i>1&&(b=100*T.bbox.width),d.setAttribute("x",y),d.setAttribute("y",h),d.setAttribute("width",b),d.setAttribute("height",p),d.setAttribute("fill",u(T,d)),d.setAttribute("fill-opacity",.3),f()(d).resizable({edges:{left:!1,right:!0,bottom:!0,top:!1},listeners:{move:function(t){var n=t.target.width.animVal.value,r=t.target.height.animVal.value,s=g[e-1].element.getBoundingClientRect().width;s/=2;var l=g[e-1].element.querySelector("svg"),u=n/100*s,d=r/c*l.getBoundingClientRect().height,h=u+t.delta.x,p=d+t.delta.y;h=h/s*100,p=p/l.getBoundingClientRect().height*c,t.target.setAttribute("width","".concat(h)),t.target.setAttribute("height","".concat(p));var f=parseFloat(t.target.getAttribute("x")),m=parseFloat(t.target.getAttribute("y")),y={x:f/(i<1?100*i:100),y:m/(i>1?100/i:100),width:h/(i<1?100/i:100),height:p/(i>1?100/i:100)},b=(0,a.A)({},T);b.bbox=y,o(b)}}}).draggable({listeners:{move:function(t){var n=parseFloat(t.target.getAttribute("x")),r=parseFloat(t.target.getAttribute("y")),l=parseFloat(t.target.getAttribute("width")),u=parseFloat(t.target.getAttribute("height"));l/=s,u/=c;var d=g[e-1].element.getBoundingClientRect().width,h=r/100*d;n=(n=n/100*d+t.delta.x)/d*100,r=(r=h+t.delta.y)/d*100,t.target.setAttribute("x",n),t.target.setAttribute("y",r);var p={x:n/(i<1?100*i:100),y:r/(i>1?100/i:100),width:l,height:u},f=(0,a.A)({},T);f.bbox=p,o(f)}}}),l.appendChild(d)}g[e-1].element.appendChild(l)}function q(){var t=A.getBoundingClientRect(),e=window.innerWidth/window.innerHeight;A.style.height=t.width/e+"px",o.left=-w*e/2,o.right=w*e/2,o.top=w/2,o.bottom=-w/2,o.updateProjectionMatrix(),i.setSize(t.width,t.width/e)}function I(){i&&(requestAnimationFrame(I),o.rotation.set(0,0,0),.5===o.zoom&&o.position.set(100*(v-1),0,200),i.render(r,o))}function F(){r&&i&&r.clear(),window.removeEventListener("resize",q),g=[],y=[],m=[],i=null,r=null,z=h.UMr(h.t55)}},9920:function(t,e,n){n.d(e,{FZ:function(){return f},Hc:function(){return i},RS:function(){return s},Rm:function(){return g},S7:function(){return y},U3:function(){return x},Z$:function(){return b},ao:function(){return m},bn:function(){return w},de:function(){return h},f2:function(){return p},lk:function(){return l},ll:function(){return u},v:function(){return v},vv:function(){return c},wp:function(){return d},xU:function(){return a}});var o=n(88120),r=n(91280);function i(t){var e="/records/"+t,n={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function a(t){var e="/records/"+t+"/stream",n={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){if(t.ok){var e=t.body.getReader(),n=[];function o(){return e.read().then((function(t){var e=t.done,r=t.value;return e?new Blob(n):(n.push(r),o())}))}return o()}return Promise.reject(t)}))}function s(t,e){var n="/records/"+t+"/transcription",i={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({slug:e})};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function c(t,e){var n="/records/"+t+"/metadata",i={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({slug:e})};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function l(t,e){var n="/records/"+t+"/result",i={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({slug:e})};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function u(t){var e={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/liquidText/save",e).then((function(t){return 201!==t.status?Promise.reject(t):t.json()}))}function d(t){var e="/records/"+t+"/document",n={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function h(t){if((0,r.g)()){var e={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/records/galleryinfo",e).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}e={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/records/public/galleryinfo",e).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function p(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,r.g)()){var a="/records/"+t+"/pages",s={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({pages:e,size:n,gallery:!i})};return fetch((0,o.H6)()+a,s).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}var c="/records/public/"+t+"/pages";s={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({pages:e,size:n,gallery:!i})};return fetch((0,o.H6)()+c,s).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function f(t,e,n,i){var a="/records/"+t+"/blocks",s={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({page:e,block:i,slug:n})};return fetch((0,o.H6)()+a,s).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function g(t){var e={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/records/setBlock",e).then((function(t){return 201!==t.status?Promise.reject(t):t.json()}))}function m(t){var e={method:"PUT",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/records/setBlock",e).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function y(t){var e={method:"DELETE",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/records/setBlock",e).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function b(t,e){var n="/records/"+t+"/edit-transcription-speaker",i={method:"PUT",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function v(t,e){var n="/records/"+t+"/edit-transcription",i={method:"PUT",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function w(t,e){var n="/records/"+t+"/edit-transcription",i={method:"DELETE",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function x(t,e){var n=(0,r.g)();return new Promise(n?function(n,i){var a=new XMLHttpRequest;a.open("POST",(0,o.H6)()+"/records/download",!0),a.responseType="blob",a.setRequestHeader("Authorization",(0,r.g)()),a.setRequestHeader("Content-Type","application/json"),a.addEventListener("progress",(function(t){if(t.lengthComputable&&e){var n=t.loaded/t.total*100;e(n)}})),a.addEventListener("load",(function(){if(200===a.status){var t,e=a.response,o=(null===(t=a.getResponseHeader("content-disposition"))||void 0===t?void 0:t.split("filename=")[1])||"download",r=window.URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=o,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(r),n()}),100)}else i(new Error("Download failed with status ".concat(a.status)))})),a.addEventListener("error",(function(){i(new Error("Download failed"))})),a.timeout=6e4,a.addEventListener("timeout",(function(){i(new Error("Download timed out"))})),a.send(JSON.stringify(t))}:function(n,r){var i=new XMLHttpRequest;i.open("POST",(0,o.H6)()+"/records/public/download",!0),i.responseType="blob",i.setRequestHeader("Content-Type","application/json"),i.addEventListener("progress",(function(t){if(t.lengthComputable&&e){var n=t.loaded/t.total*100;e(n)}})),i.addEventListener("load",(function(){if(200===i.status){var t,e=i.response,o=(null===(t=i.getResponseHeader("content-disposition"))||void 0===t?void 0:t.split("filename=")[1])||"download",a=window.URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=o,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(a),n()}),100)}else r(new Error("Download failed with status ".concat(i.status)))})),i.addEventListener("error",(function(){r(new Error("Download failed"))})),i.timeout=6e4,i.addEventListener("timeout",(function(){r(new Error("Download timed out"))})),i.send(JSON.stringify(t))})}},48210:function(t,e,n){n.d(e,{_e:function(){return a},rQ:function(){return c},u5:function(){return s},vt:function(){return i}});var o=n(88120),r=n(91280);function i(t){var e={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/snaps",e).then((function(t){return 201!==t.status?Promise.reject(t):t.json()}))}function a(t){var e={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(t)};return fetch((0,o.H6)()+"/users/snaps",e).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function s(t){var e="/snaps/"+t,n={method:"DELETE",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){return 204!==t.status?Promise.reject(t):t}))}function c(t){var e="/snaps/"+t,n={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){return 200!==t.status?Promise.reject(t):t.blob()}))}}}]);
//# sourceMappingURL=8213.f12af335.chunk.js.map