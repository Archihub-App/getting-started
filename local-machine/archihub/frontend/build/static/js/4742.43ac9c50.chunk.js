"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[4742],{87248:function(e,t,n){var r=n(89379),a=(n(65043),n(70579));t.A=function(e){return(0,a.jsxs)("svg",{viewBox:"0 0 150 150",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",width:e.width?e.width:"100%",height:e.height?e.height:"100%",style:(0,r.A)({},e.style),children:[(0,a.jsx)("path",{style:{fill:"none",stroke:e.color?e.color:"#000",strokeWidth:"8.46704",strokeLinecap:"round",strokeDasharray:"none",strokeOpacity:1},d:"M68.659 21.177S43.569 47.03 38.222 53.082c-3.658 4.14-4.246 5.2-5.112 11.752-.866 6.551-.294 17.686-.294 17.686M76.89 13.225s1.912 7.977 2.66 13.544c.748 5.568.166 12.382-6.233 18.697-6.398 6.316-17.371 16.08-20.508 22.186-3.948 7.685-2.603 21.983 10.78 27.488 16.944 6.969 29.536-6.712 29.672-18.263.271-23.105-.055-52.309-.055-52.309"}),(0,a.jsx)("path",{style:{fill:"none",stroke:e.color?e.color:"#000",strokeWidth:"8.46704",strokeLinecap:"round",strokeDasharray:"none",strokeOpacity:1},d:"M60.726 8.485s-32.728 35.137-36.489 39.31c-3.76 4.171-6.11 8.167-6.228 12.809-.117 4.641 0 31.905.235 36.723.235 4.819 1.175 7.11 6.228 13.104 5.054 5.993 32.259 31.729 32.259 31.729M40.337 104.848l37.95 37.362M136.113 65.598l.235 30.907M107.615 38.922s.193 44.069.118 49.768c-.118 8.872-14.102 26.147-25.207 26.265-8.814.093-12.986.117-12.986.117M122.012 51.256s.332 45.315.25 51.796c-.084 6.482-2.327 9.473-5.485 13.13-3.158 3.656-24.347 25.843-24.347 25.843"}),(0,a.jsx)("circle",{style:{fill:e.color?e.color:"#000",stroke:e.color?e.color:"#000",strokeWidth:"8.46704",strokeLinecap:"round",strokeDasharray:"none",strokeOpacity:1},cx:"72.486",cy:"75.797",r:"6.98"})]})}},11238:function(e,t,n){n.d(t,{$k:function(){return m},Sm:function(){return p},nA:function(){return h}});var r=n(89379),a=n(5544),i=n(65043),o=n(85865),s=n(11906),l=n(72221),c=n(10673),d=n(26240),u=n(70579),p=function(e){var t=e.label,n=e.name,s=e.value,l=e.onChange,c=e.placeholder,p=e.type,h=e.style,m=e.required,f=(0,d.A)(),x=(0,i.useState)(!1),g=(0,a.A)(x,2),y=g[0],v=g[1],j=y?{border:"1px solid ".concat(f.palette.primary.main)}:{border:"1px solid #dcdcdc"},b=y?{color:f.palette.primary.main}:{color:f.palette.grey[700]};return(0,u.jsxs)("div",{style:(0,r.A)({},h),children:[(0,u.jsxs)(o.A,{variant:"label",gutterBottom:!0,style:(0,r.A)({marginBottom:"10px",fontSize:"14px",fontWeight:"bold",display:"block"},b),children:[t,m?(0,u.jsx)("span",{style:{color:"red",marginLeft:5},children:"*"}):""]}),(0,u.jsx)("input",{type:p,id:n,name:n,value:s,onChange:l,placeholder:c,onFocus:function(){return v(!0)},style:(0,r.A)({width:"calc(100% - 20px)",padding:"10px",borderRadius:"5px",marginBottom:"10px",outline:"none"},j)})]})},h=function(e){var t=e.id,n=e.label,a=e.onClick,i=e.type,o=e.customColor,l=e.style,c=e.startIcon,p=e.sx,h=(0,d.A)();return(0,u.jsx)(s.A,{id:t,variant:"contained",color:"primary",type:i,onClick:a,startIcon:c||null,style:(0,r.A)({width:"calc(100% - 0px)",padding:"5px",paddingLeft:"20px",paddingRight:"20px",borderRadius:"100px",marginBottom:"10px",outline:"none",backgroundColor:o?o.background:h.palette.primary.light,color:o?o.color:h.palette.primary.main,boxShadow:"none"},l),sx:(0,r.A)({},p),children:n})},m=function(e){var t=e.label,n=e.name,s=e.value,p=e.onChange,h=e.options,m=e.showLabel,f=e.style,x=(0,d.A)(),g=(0,i.useState)(!1),y=(0,a.A)(g,2),v=y[0],j=y[1],b=v?{border:"1px solid ".concat(x.palette.primary.main)}:{border:"1px solid #dcdcdc"},A=v?{color:x.palette.primary.main}:{color:x.palette.grey[700]};return(0,u.jsxs)("div",{children:[m&&(0,u.jsx)(o.A,{variant:"label",gutterBottom:!0,style:(0,r.A)((0,r.A)({marginBottom:"10px",fontSize:"14px",fontWeight:"bold",display:"block"},A),f),children:t}),(0,u.jsx)(l.A,{id:n,name:n,value:s,onChange:p,onFocus:function(){return j(!0)},onBlur:function(){return j(!1)},style:(0,r.A)((0,r.A)({width:"calc(100%)",padding:"5px",borderRadius:"5px",marginBottom:"10px",outline:"none"},b),f),children:h.map((function(e,t){return(0,u.jsx)(c.A,{value:e.value,children:e.label},t)}))})]})}},43288:function(e,t,n){n(65043);var r=n(65226),a=n(72003),i=n(26240),o=n(70579);t.A=function(e){(0,i.A)();var t={loop:!0,autoplay:!0,animationData:a,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return(0,o.jsx)(r.A,{options:t,height:e.width?e.width:100,width:e.height?e.height:100,style:{padding:0}})}},58140:function(e,t,n){n.d(t,{M:function(){return C},S:function(){return w}});var r=n(64467),a=n(89379),i=n(5544),o=n(65043),s=n(11238),l=n(86279),c=n(26240),d=n(66187),u=n(37948),p=n(10763),h=n(21338),m=n(68137),f=n(18751),x=n(64717),g=n(79167),y=n(43288),v=n(24394),j=n(99246),b=n(83003),A=n(70579),k=(0,o.createContext)(),w=function(e){var t=e.children,n=(0,o.useState)({show:!1,type:"",message:"",resolve:null}),w=(0,i.A)(n,2),C=w[0],T=w[1],S=(0,o.useState)(""),F=(0,i.A)(S,2),E=F[0],N=F[1],H=(0,o.useState)(null),P=(0,i.A)(H,2),D=P[0],z=P[1],R=C.type,L=C.message,I=C.inputType,_=C.errors,O=(0,c.A)(),M=(0,j.A)(),B=(0,b.d4)((function(e){return e.app.isDarkMode}));(0,o.useEffect)((function(){if("taskForm"===R)l.Xq().then((function(e){z(e)})).catch((function(e){console.log(e)}));else if("askUserInputGenerate"==R)z([{label:"2 d\xedas",value:2},{label:"7 d\xedas",value:7},{label:"15 d\xedas",value:15},{label:"30 d\xedas",value:30},{label:"Sin l\xedmite",value:!1}]),N({duration:2,password:""});else if("askUserAction"===R){var e={};JSON.parse(L).map((function(t,n){E[t.id]||(e=(0,a.A)((0,a.A)({},e),{},(0,r.A)({},t.id,t.default)))})),N(e)}else z(null)}),[C]);var q=function(){C.resolve&&C.resolve(E),T({show:!1,type:"",message:"",resolve:null,inputType:"text"}),N("")},U=function(e){C.resolve&&C.resolve(e),T({show:!1,type:"",message:"",resolve:null})},V=function(e){C.resolve&&C.resolve(e),T({show:!1,type:"",message:"",resolve:null})};return(0,A.jsxs)(k.Provider,{value:{alert:C,showAlert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(a,i){T({show:!0,type:e,message:t,resolve:a,inputType:n,errors:r}),N("")}))}},children:[t,C.show&&"loading"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.background.default,textAlign:"center"},children:[(0,A.jsx)(y.A,{}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.primary.dark,textAlign:"center",margin:"20px",maxWidth:"300px"},children:L})]})}),C.show&&"error"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.error.light,textAlign:"center"},children:[(0,A.jsx)(u.A,{style:{color:O.palette.error.dark,fontSize:"100px",margin:"0 auto"}}),(0,A.jsxs)(d.A,{variant:"h6",style:{color:O.palette.error.dark,textAlign:"center",margin:"20px",maxWidth:"300px"},children:["string"===typeof L&&L.length>240?L.substring(0,240)+"...":L,_&&(0,A.jsx)("div",{children:Object.keys(_).map((function(e,t){return(0,A.jsxs)(d.A,{variant:"body1",style:{background:O.palette.error.main,color:O.palette.error.contrastText,textAlign:"center",margin:"5px",maxWidth:"300px",fontSize:"11px",borderRadius:"5px",padding:"5px"},children:[(0,A.jsx)("span",{children:e}),": ",_[e]]},t)}))})]}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.error.main,color:O.palette.error.contrastText},label:"OK",onClick:q})]})}),C.show&&"confirm"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.background.default,textAlign:"center"},children:[(0,A.jsx)(m.A,{style:{color:O.palette.primary.light,fontSize:"100px",margin:"0 auto"}}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.primary.dark,textAlign:"center",margin:"20px",maxWidth:"300px"},children:L}),(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",width:"100%"},children:[(0,A.jsx)(s.nA,{style:{margin:"5px"},customColor:{background:O.palette.primary.light,color:O.palette.primary.main},label:"OK",onClick:function(){U(!0)}}),(0,A.jsx)(s.nA,{style:{margin:"5px"},customColor:{background:O.palette.error.light,color:O.palette.error.main},label:"Cancelar",onClick:function(){U(!1)}})]})]})}),C.show&&"success"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.success.light,textAlign:"center"},children:[(0,A.jsx)(h.A,{style:{color:O.palette.success.dark,fontSize:"100px",margin:"0 auto"}}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.success.dark,textAlign:"center",margin:"20px",maxWidth:"300px"},children:L}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.success.main,color:O.palette.success.light},label:"OK",onClick:q})]})}),C.show&&"info"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.background.default,textAlign:"center"},children:[(0,A.jsx)(p.A,{style:{color:O.palette.grey[200],fontSize:"100px",margin:"0 auto"}}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.grey[800],textAlign:"center",margin:"20px",maxWidth:"300px",fontSize:"16px"},children:L}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.grey[200],color:O.palette.grey[800]},label:"OK",onClick:q})]})}),C.show&&"video-info"===R&&(0,A.jsx)("div",{className:"custom-swal-container dark swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:"transparent",textAlign:"center",padding:0,boxShadow:"none"},children:[(0,A.jsx)("video",{autoPlay:!0,loop:!0,style:{width:"700px",borderRadius:"10px"},children:(0,A.jsx)("source",{src:"".concat("","/videos/").concat(L,".mp4"),type:"video/mp4"})}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.primary.main,color:O.palette.primary.contrastText},label:"Cerrar",onClick:q,style:{width:"150px",display:"block",margin:"0 auto",marginTop:"20px"}})]})}),C.show&&"taskForm"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:D&&(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:B?O.palette.grey[800]:"white",textAlign:"center",padding:0,paddingBottom:"10px"},children:["create"===C.message&&(0,A.jsx)(v.Q5,{name:"Usuario",options:D,value:E.user,handleChange:function(e){N((0,a.A)((0,a.A)({},E),{},{user:e.target.value}))}}),(0,A.jsx)(v.QA,{handleBlur:function(e){N((0,a.A)((0,a.A)({},E),{},{comment:e.target.value}))}}),(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",width:"100%"},children:[(0,A.jsx)(s.nA,{customColor:{background:O.palette.grey[200],color:O.palette.grey[600]},label:"Cerrar",onClick:q,style:{width:"auto",display:"block",margin:"0 auto",marginTop:"10px"}}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.primary.main,color:"white"},label:"".concat("create"===C.message?"Asignar tarea":"Actualizar tarea"),onClick:function(){C.resolve&&C.resolve(E),T({show:!1,type:"",message:"",resolve:null}),N("")},style:{width:"auto",display:"block",margin:"0 auto",marginTop:"10px"}})]})]})}),C.show&&"askUserInput"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.grey[800],display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,A.jsx)(x.A,{style:{color:O.palette.primary.light,fontSize:"100px",margin:"0 auto"}}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.primary.light,textAlign:"center",margin:"20px",maxWidth:"300px"},children:L}),(0,A.jsxs)("div",{style:{maxWidth:"300px",width:"100%",backgroundColor:O.palette.background.default,padding:"10px",borderRadius:"10px"},children:[(0,A.jsx)(s.Sm,{type:I,value:E,label:"password"===I?M.formatMessage({id:"profile.password"}):"",onChange:function(e){return N(e.target.value)},style:{marginTop:10}}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.primary.light,color:O.palette.primary.main},label:"OK",onClick:q}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.grey[200],color:O.palette.grey[600]},label:M.formatMessage({id:"general.cancel"}),onClick:function(){return U(!1)}})]})]})}),C.show&&"askUserInputGenerate"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.grey[800],display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,A.jsx)(x.A,{style:{color:O.palette.primary.light,fontSize:"100px",margin:"0 auto"}}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.primary.light,textAlign:"center",margin:"20px"},children:L}),(0,A.jsxs)("div",{style:{maxWidth:"300px",width:"100%",backgroundColor:O.palette.background.default,padding:"10px",borderRadius:"10px"},children:[D&&(0,A.jsx)(v.Q5,{name:"Duraci\xf3n de la llave",options:D,value:E.duration,handleChange:function(e){N((0,a.A)((0,a.A)({},E),{},{duration:e.target.value}))}}),(0,A.jsx)(s.Sm,{type:I,value:E[I],label:"password"===I?"Contrase\xf1a":"",onChange:function(e){return N((0,a.A)((0,a.A)({},E),{},(0,r.A)({},I,e.target.value)))},style:{marginTop:10}}),(0,A.jsxs)("div",{children:[(0,A.jsx)(s.nA,{customColor:{background:O.palette.primary.light,color:O.palette.primary.main},label:"OK",onClick:q}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.grey[200],color:O.palette.grey[600]},label:"Cancelar",onClick:function(){return U(!1)}})]})]})]})}),C.show&&"askUserDownloadType"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:O.palette.grey[800],display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,A.jsx)(f.A,{style:{color:O.palette.primary.light,fontSize:"100px",margin:"0 auto"}}),(0,A.jsx)(d.A,{variant:"h6",style:{color:O.palette.primary.light,textAlign:"center",margin:"20px"},children:L}),(0,A.jsx)("div",{style:{maxWidth:"300px",width:"100%",padding:"10px",borderRadius:"10px"},children:(0,A.jsxs)("div",{children:[(0,A.jsx)(s.nA,{startIcon:(0,A.jsx)(g.A,{}),customColor:{background:O.palette.primary.light,color:O.palette.primary.main},label:"Archivo original",onClick:function(){return V("original")}}),(0,A.jsx)(s.nA,{startIcon:(0,A.jsx)(g.A,{}),customColor:{background:O.palette.primary.light,color:O.palette.primary.main},label:"Archivo procesado",onClick:function(){return V("small")}}),(0,A.jsx)(s.nA,{style:{marginTop:20},customColor:{background:O.palette.grey[200],color:O.palette.grey[600]},label:"Cancelar",onClick:function(){return U(!1)}})]})})]})}),C.show&&"askUserAction"===R&&(0,A.jsx)("div",{className:"custom-swal-container swal-".concat(R),children:(0,A.jsxs)("div",{className:"custom-swal",style:{backgroundColor:B?O.palette.grey[800]:"white",display:"block",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[JSON.parse(L).map((function(e,t){return(0,A.jsxs)(A.Fragment,{children:["checkbox"===e.type&&(0,A.jsx)(v.FO,{id:e.id,name:e.label,value:E[e.id]?E[e.id]:e.default,instructions:e.instructions,handleChange:function(t){N((0,a.A)((0,a.A)({},E),{},(0,r.A)({},e.id,t)))},required:e.required},t),"select"===e.type&&(0,A.jsx)(v.Q5,{id:e.id,name:e.label,value:E[e.id]?E[e.id]:e.default,handleChange:function(t){N((0,a.A)((0,a.A)({},E),{},(0,r.A)({},e.id,t.target.value)))},options:e.options,required:e.required},t),"text"===e.type&&(0,A.jsx)(v.BR,{id:e.id,name:e.label,value:E[e.id]?E[e.id]:e.default,handleChange:function(t){N((0,a.A)((0,a.A)({},E),{},(0,r.A)({},e.id,t.target.value)))},required:e.required},t),"condition"===e.type&&(0,A.jsx)(v.e7,{id:e.id,label:e.label,value:E[e.id],condition:e.condition,options:e.options,conditionValue:E[e.id_condition],change:function(t,n){N((0,a.A)((0,a.A)({},E),{},(0,r.A)({},e.id,n)))}},"".concat(t,"-").concat(E[e.id_condition]))]})})),(0,A.jsxs)("div",{style:{marginTop:10},children:[(0,A.jsx)(s.nA,{customColor:{background:O.palette.primary.light,color:O.palette.primary.main},label:"OK",onClick:q}),(0,A.jsx)(s.nA,{customColor:{background:O.palette.grey[200],color:O.palette.grey[600]},label:"Cancelar",onClick:function(){return U(!1)}})]})]})})]})},C=function(){return(0,o.useContext)(k)}},69389:function(e,t,n){var r=n(60436),a=n(5544),i=n(65043),o=n(65173),s=n.n(o),l=n(81551),c=n(39849),d=n(83003),u=n(16702),p=n(9989),h=n(97563),m=n(71322),f=n(2050),x=n(51962),g=n(48734),y=n(26240),v=n(39244),j=n(33664),b=n(85473),A=n(21337),k=n(44834),w=n(67201),C=n(94495),T=n(53536),S=n(78717),F=n(70579),E=(0,l.A)((function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(4)},tabs:{},accordeons:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},listado:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),maxWidth:600},nested:{paddingLeft:e.spacing(3),marginLeft:e.spacing(3),borderLeft:"1px solid #dcdcdc"},item:{padding:1}}})),N=(0,l.A)((function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(4)},check:{padding:0},accordeons:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},listado:{flexGrow:1,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),maxWidth:600},nested:{paddingLeft:e.spacing(3)+"px !important",marginLeft:e.spacing(1),borderLeft:"1px solid #dcdcdc"},icon:{marginLeft:e.spacing(2),marginRight:e.spacing(1),minWidth:"auto","&.loading":{"-webkit-animation":"rotate-center 1s linear infinite both",animation:"rotate-center 1s linear infinite both"}},iconExpand:{minWidth:"auto","& path":{fill:"#999"}},text:{"& span":{display:"inline-block",padding:"0 10px",transition:"all 0.3s ease-in-out",fontSize:"14px"}}}})),H=(0,l.A)((function(e){return{check:{padding:0},icon:{marginLeft:e.spacing(2),marginRight:e.spacing(1),minWidth:"auto"},iconExpand:{visibility:"hidden",minWidth:"auto","& path":{fill:"#999"}},text:{"& span":{display:"inline-block",padding:"0 10px",fontSize:"14px",transition:"all 0.3s ease-in-out"},"&.selected span":{background:"#c5cfdc",borderRadius:"5px",color:"#375374"}}}})),P=function(e){var t=e.children,n=e.view,r=e.postType,a=e.className,i=e.checkboxTypes,o=e.parent,s=e.setSelected,l=e.selected,c=e.activeTypes,d=e.childrenSelect,u=e.mainView;return(0,F.jsx)(F.Fragment,{children:t.map((function(e){return e.children?(0,F.jsx)(z,{view:n,original:e,postType:r,id:e.id,class:a,checkboxTypes:i,parent:o,setSelected:s,selected:l,activeTypes:c,mainView:u,childrenSelect:d}):(0,F.jsx)(R,{original:e,id:e.id,class:a,checkboxTypes:i,parent:o,setSelected:s,selected:l,childrenSelect:d,mainView:u})}))})},D=function(e){var t,n=E(),o=(0,i.useState)([]),s=(0,a.A)(o,2),l=s[0],c=s[1],h=(0,i.useState)([]),x=(0,a.A)(h,2),g=x[0],v=x[1],j=(0,i.useState)(!0),b=(0,a.A)(j,2),A=b[0],C=b[1],T=(0,i.useState)(0),N=(0,a.A)(T,2),H=N[0],D=N[1],z=(0,i.useState)(!1),R=(0,a.A)(z,2),L=R[0],I=R[1],_=(0,y.A)(),O=(0,d.d4)((function(e){return e.app.isDarkMode})),M=(0,d.d4)((function(e){return e.app.filters}));console.log("MainTree props",e);var B=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C(!0),t&&(D(0),c([]));var n={root:e.root?e.root:"all",view:e.view,page:H,status:M[e.mainView]?M[e.mainView].status:"published"};"tree"===e.view?n.tree=e.parents:(e.postType&&(n.postType=e.postType),e.activeTypes&&(n.activeTypes=e.activeTypes.map((function(e){return e.slug})))),(0,S.Jv)(JSON.stringify(n)).then((function(e){c(e),C(!1),e.length<10?I(!1):10===e.length&&I(!0),c(t?e:[].concat((0,r.A)(l),(0,r.A)(e))),C(!1)})).catch((function(e){console.log(e)}))};(0,i.useEffect)((function(){B()}),[]),(0,i.useEffect)((function(){B()}),[H]),(0,i.useEffect)((function(){var t;null!==(t=M[e.mainView])&&void 0!==t&&t.status&&B(!0)}),[null===(t=M[e.mainView])||void 0===t?void 0:t.status,e.mainView]),(0,i.useEffect)((function(){e.selected&&v(e.selected)}),[e.selected]);return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(u.A,{className:n.listado,children:(0,F.jsxs)(p.A,{disablePadding:!0,component:"nav","aria-labelledby":"nested-list-subheader",children:[P({children:l,view:e.view,postType:e.postType,activeTypes:e.activeTypes,checkboxTypes:e.checkboxTypes,parent:[],setSelected:function(t,n){e.multiple?g.filter((function(e){return e.id===t.id})).length>0?(v(g.filter((function(e){return e.id!==t.id}))),e.setSelected(g.filter((function(e){return e.id!==t.id})))):(v([].concat((0,r.A)(g),[t])),e.setSelected([].concat((0,r.A)(g),[t]))):g.filter((function(e){return e.id===t.id})).length>0?(v([]),e.setSelected([])):(v([t]),e.setSelected([t]))},selected:g,mainView:e.mainView,className:n.item,childrenSelect:e.childrenSelect}),(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(m.Ay,{button:!0,onClick:function(){D(H+1)},className:"".concat(n.nested," ").concat(e.class),style:{display:"flex",justifyContent:"center"},children:[A&&(0,F.jsx)(f.A,{className:"loading ".concat(n.icon),style:{minWidth:"auto",color:O?_.palette.grey[300]:_.palette.grey[800]},children:(0,F.jsx)(k.A,{})}),!A&&L&&(0,F.jsx)(f.A,{className:"".concat(n.icon),style:{minWidth:"auto",color:O?_.palette.grey[300]:_.palette.grey[800]},children:(0,F.jsx)(w.A,{})})]})})]})})})},z=function(e){var t=N(),n=(0,y.A)(),o=(0,d.d4)((function(e){return e.app.isDarkMode})),s=(0,i.useState)(!1),l=(0,a.A)(s,2),u=l[0],j=l[1],E=(0,i.useState)(!1),H=(0,a.A)(E,2),D=H[0],z=H[1],R=(0,i.useState)(!1),L=(0,a.A)(R,2),I=L[0],_=L[1],O=(0,i.useState)(0),M=(0,a.A)(O,2),B=M[0],q=M[1],U=(0,i.useState)(!1),V=(0,a.A)(U,2),G=V[0],W=V[1],J=(0,i.useState)(!1),K=(0,a.A)(J,2),X=K[0],Q=K[1],Y=(0,i.useState)([]),$=(0,a.A)(Y,2),Z=$[0],ee=$[1],te=(0,i.useRef)(null),ne=function(){j(!u)};(0,i.useEffect)((function(){0===Z.length&&u&&re()}),[u]),(0,i.useEffect)((function(){u&&re()}),[B]);var re=function(){Q(!0);var t={root:e.id,view:e.view,page:B};"tree"===e.view?t.tree=e.activeTypes:(t.postType=e.postType,e.activeTypes&&(t.activeTypes=e.activeTypes.map((function(e){return e.slug})))),(0,S.Jv)(JSON.stringify(t)).then((function(e){e.length<10?W(!1):10===e.length&&W(!0);var t=[].concat((0,r.A)(Z),(0,r.A)(e));ee(t),Q(!1)}))};(0,i.useEffect)((function(){if(Q(!1),(0,T.isArray)(e.path)){var t=e.path.find((function(t){return!!t&&t.id===e.id}));_(!!t),j(!!t)}}),[e.path]),(0,i.useEffect)((function(){e.selected?e.selected.length>0&&e.selected.filter((function(t){return t.id===e.id})).length>0?z(!0):z(!1):z(!1)}),[e.selected]);var ae=function(){e.selected.length>0&&e.selected[0].id===e.original.id?j(!u):j(!0),e.checkboxTypes.includes(e.original.post_type)&&e.setSelected(e.original,e.parent),u||j(!0)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(m.Ay,{style:{margin:0,padding:0},children:[e.checkboxTypes.includes(e.original.post_type)?(0,F.jsx)(x.A,{checked:D,color:"primary",edge:"start",className:t.check,onClick:function(){ae()},style:{padding:0,color:D||I?n.palette.primary.main:o?n.palette.grey[300]:n.palette.grey[800]}}):(0,F.jsx)(x.A,{checked:D,color:"primary",edge:"start",disabled:!0,className:t.check,style:{padding:0,color:D||I?n.palette.primary.main:o?n.palette.grey[300]:n.palette.grey[800]}}),X?(0,F.jsx)(f.A,{className:"loading ".concat(t.icon),style:{minWidth:"auto",color:o?n.palette.grey[300]:n.palette.grey[800]},children:(0,F.jsx)(k.A,{})}):(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.Ay,{title:e.original.type,placement:"top",children:(0,F.jsx)(f.A,{className:t.icon,style:{color:D||I?o?n.palette.primary.light:n.palette.primary.dark:n.palette.secondary.dark,minWidth:"auto"},children:C.dR.filter((function(t){return t.value===e.original.icon}))?C.dR.filter((function(t){return t.value===e.original.icon}))[0].iconlight:(0,F.jsx)(v.A,{})})})}),u&&!X?(0,F.jsx)(b.A,{style:{cursor:"pointer"},onClick:ne,className:t.iconExpand}):(0,F.jsx)(F.Fragment,{children:X?(0,F.jsx)(A.A,{className:t.iconExpand}):(0,F.jsx)(A.A,{style:{cursor:"pointer"},onClick:ne,className:t.iconExpand})}),(0,F.jsx)(g.A,{style:{cursor:"pointer",background:I||D?o?n.palette.grey[800]:n.palette.primary.light:"transparent",color:o?n.palette.grey[300]:n.palette.grey[800],borderRadius:"5px",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},className:"".concat(t.text," ").concat(I||D?"selected":""),primary:e.original.name,onClick:function(e){e.stopPropagation(),te.current?(clearTimeout(te.current),te.current=null,ne()):te.current=setTimeout((function(){te.current=null,ae()}),250)}})]}),(0,F.jsx)(h.A,{in:u,timeout:"auto",unmountOnExit:!0,children:(0,F.jsxs)(p.A,{component:"div",disablePadding:!0,style:{paddingLeft:"30px"},children:[P({children:Z,view:e.view,postType:e.postType,className:"".concat(t.nested," ").concat(e.class),checkboxTypes:e.checkboxTypes,activeTypes:e.activeTypes,parent:[].concat((0,r.A)(e.parent),[{id:e.id,name:e.original.name}]),setSelected:e.setSelected,selected:e.selected,childrenSelect:e.childrenSelect}),G&&(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(m.Ay,{disabled:X,button:!0,onClick:function(){X||q(B+1)},className:"".concat(t.nested," ").concat(e.class),style:{display:"flex",justifyContent:"center"},children:[X&&(0,F.jsx)(f.A,{className:"loading ".concat(t.icon),style:{minWidth:"auto",color:o?n.palette.grey[300]:n.palette.grey[800]},children:(0,F.jsx)(k.A,{})}),!X&&(0,F.jsx)(f.A,{className:"".concat(t.icon),style:{minWidth:"auto",color:o?n.palette.grey[300]:n.palette.grey[800]},children:(0,F.jsx)(w.A,{})})]})})]})})]})},R=function(e){var t=H(),n=(0,i.useState)(!1),r=(0,a.A)(n,2),o=r[0],s=r[1],l=(0,i.useState)(!1),u=(0,a.A)(l,2),p=u[0],h=u[1],v=(0,y.A)(),A=(0,d.d4)((function(e){return e.app.isDarkMode}));console.log("SimpleItemList props",e),(0,i.useEffect)((function(){if((0,T.isArray)(e.path)){var t=e.path.find((function(t){return!!t&&t.id===e.id}));h(!!t)}}),[e.path]),(0,i.useEffect)((function(){if(e.selected)if(e.selected.length>0){var t=e.selected.find((function(t){return t.id===e.id}));s(!!t)}else s(!1);else s(!1)}),[e.selected]);var k=function(){e.setSelected(e.original,e.parent)};return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(m.Ay,{style:{margin:0,padding:0},children:[e.checkboxTypes.includes(e.original.post_type)&&e.childrenSelect?(0,F.jsx)(x.A,{checked:o,color:"primary",edge:"start",className:t.check,onClick:function(){k()},style:{padding:0,color:A?v.palette.grey[800]:v.palette.grey[300]}}):(0,F.jsx)(x.A,{checked:o,color:"primary",edge:"start",className:t.check,disabled:!0,style:{padding:0,color:A?v.palette.grey[800]:v.palette.grey[300]}}),(0,F.jsx)(c.Ay,{title:e.original.type,placement:"top",children:(0,F.jsx)(f.A,{className:t.icon,style:{color:v.palette.secondary.dark,minWidth:"auto"},children:C.dR.filter((function(t){return t.value===e.original.icon}))?C.dR.filter((function(t){return t.value===e.original.icon}))[0].iconlight:(0,F.jsx)(j.A,{})})}),(0,F.jsx)(b.A,{style:{cursor:"pointer"},className:t.iconExpand}),(0,F.jsx)(g.A,{onClick:function(){e.checkboxTypes.includes(e.original.post_type)&&e.childrenSelect&&k()},primary:e.original.name,className:"".concat(t.text),style:{cursor:"pointer",background:p||o?v.palette.primary.light:"transparent",color:A?v.palette.grey[300]:v.palette.grey[800]}})]})})};D.prototypes={root:s().string,view:s().string.isRequired,postType:s().string},t.A=D},94495:function(e,t,n){n.d(t,{Y$:function(){return z},ZC:function(){return D},dR:function(){return H},e7:function(){return N},vJ:function(){return P}});n(65043);var r=n(33972),a=n(39244),i=n(96274),o=n(42744),s=n(76710),l=n(2624),c=n(79996),d=n(76506),u=n(22789),p=n(90047),h=n(90494),m=n(89585),f=n(42902),x=n(1059),g=n(40410),y=n(51076),v=n(13643),j=n(93629),b=n(34659),A=n(25269),k=n(52368),w=n(97874),C=n(75129),T=n(20289),S=n(26755),F=n(35669),E=n(70579),N=function(){return"0.9.7"},H=[{value:"etiqueta",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(r.A,{sx:{marginRight:1,width:15}}),"  Etiqueta"]}),icon:(0,E.jsx)(r.A,{}),iconlight:(0,E.jsx)(h.A,{})},{value:"carpeta",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.A,{sx:{marginRight:1,width:15}}),"  Carpeta"]}),icon:(0,E.jsx)(a.A,{}),iconlight:(0,E.jsx)(f.A,{})},{value:"archivo",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.A,{sx:{marginRight:1,width:15}}),"  Archivo"]}),icon:(0,E.jsx)(o.A,{}),iconlight:(0,E.jsx)(d.A,{})},{value:"caja",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(s.A,{sx:{marginRight:1,width:15}}),"  Caja"]}),icon:(0,E.jsx)(s.A,{}),iconlight:(0,E.jsx)(l.A,{})},{value:"datos",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.A,{sx:{marginRight:1,width:15}}),"  Caja"]}),icon:(0,E.jsx)(u.A,{}),iconlight:(0,E.jsx)(p.A,{})},{value:"libro",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(i.A,{sx:{marginRight:1,width:15}}),"  Libro"]}),icon:(0,E.jsx)(i.A,{}),iconlight:(0,E.jsx)(c.A,{})},{value:"caja_all",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.A,{sx:{marginRight:1,width:15}}),"  Caja"]}),icon:(0,E.jsx)(m.A,{}),iconlight:(0,E.jsx)(x.A,{})},{value:"inbox",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.A,{sx:{marginRight:1,width:15}}),"  Caja"]}),icon:(0,E.jsx)(g.A,{}),iconlight:(0,E.jsx)(y.A,{})},{value:"servicio",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(v.A,{sx:{marginRight:1,width:15}}),"  Caja de herramientas"]}),icon:(0,E.jsx)(v.A,{}),iconlight:(0,E.jsx)(j.A,{})},{value:"mail",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(b.A,{sx:{marginRight:1,width:15}}),"  Sobre"]}),icon:(0,E.jsx)(b.A,{}),iconlight:(0,E.jsx)(A.A,{})},{value:"compras",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(k.A,{sx:{marginRight:1,width:15}}),"  Bolsa de compras"]}),icon:(0,E.jsx)(k.A,{}),iconlight:(0,E.jsx)(w.A,{})},{value:"trabajo",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.A,{sx:{marginRight:1,width:15}}),"  Trabajo"]}),icon:(0,E.jsx)(C.A,{}),iconlight:(0,E.jsx)(T.A,{})},{value:"negocio",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(S.A,{sx:{marginRight:1,width:15}}),"  Negocio"]}),icon:(0,E.jsx)(S.A,{}),iconlight:(0,E.jsx)(F.A,{})}],P=[{value:"av_transcribe",label:"Transcripci\xf3n autom\xe1tica"},{value:"lt_extraction",label:"Segmentaci\xf3n y extracci\xf3n de texto"},{value:"ner_extraction",label:"Extracci\xf3n de entidades nombradas"},{value:"docseg_extraction",label:"Segmentaci\xf3n de documento"},{value:"img_analyze",label:"An\xe1lisis de imagen"},{value:"liquidText",label:"Texto l\xedquido"}],D=[{value:"document",label:"Documentos"},{value:"audio",label:"Audios"},{value:"video",label:"Videos"},{value:"image",label:"Im\xe1genes"},{value:"other",label:"Otros"},{value:"image gallery",label:"Galer\xeda de im\xe1genes"},{value:"published",label:"Publicados"},{value:"draft",label:"Borradores"}],z=[{value:"pending",label:"en espera"},{value:"rejected",label:"devuelta"},{value:"approved",label:"aprobada"},{value:"review",label:"en revisi\xf3n"}]},24394:function(e,t,n){n.d(t,{e7:function(){return dt},yN:function(){return Qe},Yp:function(){return Ue},tF:function(){return rt},sw:function(){return We},_g:function(){return at},lH:function(){return Je},FO:function(){return Be},U0:function(){return Re},wd:function(){return Me},aG:function(){return ct},Z6:function(){return Ie},HU:function(){return lt},Q5:function(){return Oe},Lf:function(){return st},QA:function(){return _e},BR:function(){return Le},z2:function(){return it},GI:function(){return Ye},hw:function(){return $e},qD:function(){return et},ho:function(){return Ke},pv:function(){return Xe}});var r=n(57528),a=n(64467),i=n(89379),o=n(5544),s=n(60436),l=n(65043),c=n(81551),d=n(96446),u=n(17392),p=n(85865),h=n(43360),m=n(30802),f=n(72221),x=n(10673),g=n(51962),y=n(12110),v=n(26494),j=n(60704),b=n(64600),A=n(43845),k=n(4598),w=n(67201),C=n(63516),T=n(51387),S=n(17514),F=n(17445),E=n(30488),N=n(25012),H=n(83003),P=n(26817),D=n(69389),z=n(5670),R=n(31445),L=n(12257),I=n(90675),_=n(10467),O=n(88120),M=n(50805),B=n(22498),q=n(95782),U=n(21478),V=n(48901),G=n(566),W=(0,I.A)().mark(Y),J={Login:"[Login] Action",Logout:"[Logout] Action",Register:"[Register] Action",UserRequested:"[Request User] Action",UserLoaded:"[Load User] Auth API"},K={user:{roles:["userweb"]},authToken:void 0},X=(0,q.persistReducer)({storage:V.A,key:"cev-auth",whitelist:["user","authToken"],transforms:[(0,G.encryptTransform)({secretKey:"test",onError:function(e){}})]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.Login:return{authToken:t.payload.authToken,user:void 0};case J.Logout:return K;case J.UserLoaded:var n=t.payload.user;return(0,i.A)((0,i.A)({},e),{},{user:n});default:return e}})),Q={login:function(e){return{type:J.Login,payload:{authToken:e}}},logout:function(){return{type:J.Logout}},requestUser:function(e){return{type:J.UserRequested,payload:{user:e}}},fulfillUser:function(e){return{type:J.UserLoaded,payload:{user:e}}}};function Y(){return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.p8)(J.Login,(0,I.A)().mark((function e(){return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.yJ)(Q.requestUser());case 2:case"end":return e.stop()}}),e)})));case 2:return e.next=4,(0,U.p8)(J.UserRequested,(0,I.A)().mark((function e(){var t;return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("$(getURL_API()}/users/me",se("GET")).then((function(e){return e.json()})).then((function(e){if(e._id)return e})).catch((function(e){return e}));case 2:return t=e.sent,e.next=5,(0,U.yJ)(Q.fulfillUser(t));case 5:case"end":return e.stop()}}),e)})));case 4:case"end":return e.stop()}}),W)}var $={accessRights:[]},Z=(0,q.persistReducer)({storage:V.A,key:"cev-app",whitelist:[]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return(arguments.length>1?arguments[1]:void 0).type,e})),ee=(0,I.A)().mark(ne),te=(0,M.HY)({app:Z,auth:X});function ne(){return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.Q7)([Y()]);case 2:case"end":return e.stop()}}),ee)}var re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.Zz,ae=(0,B.Ay)(),ie=(0,M.y$)(te,re((0,M.Tw)(ae)));(0,q.persistStore)(ie);ae.run(ne);var oe=ie;function se(e,t){return{method:e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:le()},body:t}}function le(){return"Bearer "+oe.getState().auth.authToken}var ce=function(){var e=(0,_.A)((0,I.A)().mark((function e(t){var n,r;return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers({"Content-Type":"application/json",Authorization:le()}),r={method:"POST",headers:n,mode:"cors",cache:"default",body:JSON.stringify((0,i.A)({},t))},e.abrupt("return",fetch((0,O.H6)()+"/geosystem/level",r).then((function(e){return 200!==e.status?Promise.reject(e):e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify((0,i.A)({level:e},t))};return fetch((0,O.H6)()+"/geosystem/level",n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}var ue,pe=n(19853),he=n(94526),me=n.n(he),fe=n(99246),xe=n(94495),ge=n(26240),ye=n(11238),ve=n(58140),je=n(19974),be=n(53757),Ae=(n(35319),n(5081)),ke=n(43288),we=n(70579),Ce=function(e){var t=l.useState(null),n=(0,o.A)(t,2),r=n[0],a=n[1],s=(0,ge.A)();(0,H.d4)((function(e){return e.app.isDarkMode}));(0,l.useEffect)((function(){c(0)}),[]);var c=function(e){de(e,e>0?{parent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}:{}).then((function(t){if(t.length>0){var n=(0,i.A)({},r);n["level_".concat(e)]=t,a(n)}})).catch((function(t){console.log("Error fetching level ".concat(e," data:"),t)}))},u=function(e){for(var t="",n=0;n<3;n++)null!==e["level_".concat(n)]&&e["level_".concat(n)]&&(t+=e["level_".concat(n)].name+" "),e.name&&(t=e.name+" ");return t};return(0,we.jsxs)(d.A,{style:{marginTop:"20px",width:"500px"},children:[e.locations&&e.locations.map((function(e,t){return(0,we.jsx)(A.A,{size:"small",variant:"outlined",icon:(0,we.jsx)(je.A,{}),label:u(e),sx:{marginRight:1,marginBottom:1,backgroundColor:s.palette.primary.light,color:s.palette.primary.main,"& svg path":{fill:s.palette.primary.main}}},t)})),r&&(0,we.jsx)(Te,{data:r,locations:e.locations,edit:!!e.editing})]})},Te=function(e){var t=(0,l.useRef)(null),n=(0,l.useRef)(null),r=(0,ge.A)(),a=(0,H.d4)((function(e){return e.app.isDarkMode})),s=l.useState(null),c=(0,o.A)(s,2),p=c[0],h=c[1],m=l.useState(!1),f=(0,o.A)(m,2),x=f[0],g=f[1],y=l.useState(!1),v=(0,o.A)(y,2),j=v[0],b=v[1],A=l.useState(!1),k=(0,o.A)(A,2),w=k[0],C=k[1],T=0,S=null,F=function(e){if(!e||"Polygon"!==e.type&&"MultiPolygon"!==e.type)return e;var t=function(e){return e.map((function(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n][0]*e[n+1][1]-e[n+1][0]*e[n][1];return t>0?e.slice().reverse():e}))};return"Polygon"===e.type?(0,i.A)((0,i.A)({},e),{},{coordinates:t(e.coordinates)}):"MultiPolygon"===e.type?(0,i.A)((0,i.A)({},e),{},{coordinates:e.coordinates.map(t)}):e},E=function(){var e=(0,_.A)((0,I.A)().mark((function e(t){var n,r;return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={bounds:{minLng:t.bounds[0][0],minLat:t.bounds[0][1],maxLng:t.bounds[1][0],maxLat:t.bounds[1][1]}},C(!0),e.next=5,ce(n);case 5:return r=e.sent,C(!1),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Error fetching geometries for bounds:",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),N=function(n,i){if(be.Ltv(t.current).selectAll("*").remove(),0!==n.length){var o=400,s=200,l=be.Ltv(t.current).attr("viewBox","0 0 ".concat(o," ").concat(s)),c=n.map((function(e){return{type:"Feature",id:e.properties.ident,properties:e.properties,geometry:F(e.geometry)}})),d={type:"FeatureCollection",features:c};if(e.locationLevels&&e.locationLevels[0]&&e.locationLevels[0].selection&&i){var u,p=n.find((function(e){return e.properties.selected}));if(S=be.bAh().fitSize([o,s],d),p.centroid)u=p.centroid.coordinates;else{var m=be.Ewd(p);u=[m[0],m[1]]}var f=S.scale();S.center(u).scale(1.5*f).translate([200,100])}else S=be.wxe().fitExtent([[5,5],[395,195]],d);var y=be.zFW().projection(S),v=l.append("g"),j=null,A=null,k=be.$Er().on("start",(function(e){j=be.grR(this),g(!0),A=v.append("rect").attr("class","drag-rect").attr("x",j[0]).attr("y",j[1]).attr("width",0).attr("height",0).attr("fill",a?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)").attr("stroke",r.palette.primary.main).attr("stroke-width",.5).attr("stroke-dasharray","2,2")})).on("drag",(function(e){if(j&&A){var t=be.grR(this),n=Math.min(j[0],t[0]),r=Math.min(j[1],t[1]),a=Math.abs(t[0]-j[0]),i=Math.abs(t[1]-j[1]);A.attr("x",n).attr("y",r).attr("width",a).attr("height",i);var o=S.invert(t);o&&h({lng:o[0].toFixed(4),lat:o[1].toFixed(4),x:t[0].toFixed(0),y:t[1].toFixed(0)})}})).on("end",function(){var e=(0,_.A)((0,I.A)().mark((function e(n){var i,o,s,l,c,d,u,p,m,f,x;return(0,I.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!1),j&&A){e.next=3;break}return e.abrupt("return");case 3:if(be.Ltv("body").select(".map-tooltip").style("visibility","hidden"),i=be.grR(this),o=Math.abs(i[0]-j[0]),s=Math.abs(i[1]-j[1]),!(o>25&&s>25)){e.next=30;break}return l=[S.invert([Math.min(j[0],i[0]),Math.min(j[1],i[1])]),S.invert([Math.max(j[0],i[0]),Math.max(j[1],i[1])])],e.next=11,E({bounds:l});case 11:if(0!==(c=e.sent).length){e.next=15;break}return console.warn("No features found for the selected area."),e.abrupt("return");case 15:console.log(c),d=c.map((function(e){return{type:"Feature",id:e.properties.ident,properties:e.properties,geometry:F(e.geometry)}})),u={type:"Feature",geometry:{type:"Polygon",coordinates:[[[l[0][0],l[0][1]],[l[1][0],l[0][1]],[l[1][0],l[1][1]],[l[0][0],l[1][1]],[l[0][0],l[0][1]]]]}},S.fitExtent([[5,5],[395,195]],u),p=be.zFW().projection(S),m=be.Ltv(t.current),f=m.select("g"),(x=N.selectAll("path.feature").data(d,(function(e){return e.id}))).exit().transition().duration(150).attr("fill-opacity",0).remove(),x.enter().append("path").attr("class","feature").attr("d",p).attr("stroke",a?"#555":"#999").attr("stroke-width",.5).attr("fill",(function(e){return w.includes(e.properties.ident)?r.palette.primary.main:e.properties.color?e.properties.color:"transparent"})).attr("fill-opacity",0).style("cursor","pointer").on("mouseenter",(function(e,t){w.includes(e.properties.ident)||be.Ltv(this).attr("fill",a?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)").attr("fill-opacity",.5);var n=e.properties.name||e.properties.ident||"Unknown";be.Ltv(".map-tooltip").style("visibility","visible").html("<strong>".concat(n,"</strong>"))})).on("mousemove",(function(e,t){be.Ltv(".map-tooltip").style("top",be.f0J.pageY-10+"px").style("left",be.f0J.pageX+10+"px")})).on("mouseleave",(function(e,t){w.includes(e.properties.ident)||be.Ltv(this).attr("fill",e.properties.color||"transparent").attr("fill-opacity",1),be.Ltv(".map-tooltip").style("visibility","hidden")})).merge(x).transition().duration(150).attr("d",p).attr("fill-opacity",(function(e){return w.includes(e.properties.ident)?a?1:.2:1})),f.selectAll("path.feature, path.graticule, path.graticule-outline").transition().duration(150).attr("d",p),f.selectAll("[class^='marker-']").transition().duration(150).attr("transform",(function(e){var t,n=be.Ltv(this).node().__data__;if(!n)return be.Ltv(this).attr("transform");if(n.coordinates)t=n.coordinates;else{var r=d.find((function(e){var t;return e.properties.ident===(null===(t=n["level_".concat(T)])||void 0===t?void 0:t.ident)}));if(!r)return be.Ltv(this).attr("transform");t=be.Ewd(r.geometry)}var a=S(t);return"translate(".concat(a[0]-9.65,", ").concat(a[1]-17.65,") scale(0.8)")})),b(!0);case 30:A.remove(),A=null,j=null,h(null);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());l.call(k).on("mousemove",(function(e){if(!x){var t=be.grR(this),n=S.invert(t);n&&h({lng:n[0].toFixed(4),lat:n[1].toFixed(4),x:t[0].toFixed(0),y:t[1].toFixed(0)})}})).on("mouseleave",(function(){x||h(null)})).style("cursor","crosshair");var w=[];w=e.editing?i[0]["level_".concat(T)]?i.map((function(e){return e["level_".concat(T)].ident})):[]:i?i.map((function(e){return e.level_0?e.level_0.ident:e.coordinates?e.coordinates:void 0})):[];var C=be.kGM().step([10,10]);v.append("path").datum(C()).attr("class","graticule").attr("d",y).attr("fill","none").attr("stroke",a?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)").attr("stroke-width",.5).attr("stroke-dasharray","2,2"),v.append("path").datum(C.outline()).attr("class","graticule-outline").attr("d",y).attr("fill","none").attr("stroke",a?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)").attr("stroke-width",1);var N=v.append("g").attr("class","features"),H=be.Ltv("body").append("div").attr("class","map-tooltip").style("position","absolute").style("visibility","hidden").style("background-color",a?r.palette.grey[800]:"rgba(255,255,255,0.95)").style("color",a?"white":"black").style("padding","8px 12px").style("border-radius","4px").style("text-transform","capitalize").style("font-size","10px").style("border","1px solid ".concat(a?"#555":"#ccc")).style("box-shadow","0 2px 4px rgba(0,0,0,0.2)").style("pointer-events","none").style("font-family","monospace").style("z-index","1000").style("max-width","200px");N.selectAll("path").data(c).enter().append("path").attr("class","feature").attr("d",(function(e){return y(e)})).attr("stroke",a?"#555":"#999").attr("stroke-width",.5).attr("fill",(function(e){return w.includes(e.properties.ident)?r.palette.primary.main:e.properties.color?e.properties.color:"transparent"})).attr("fill-opacity",(function(e){return w.includes(e.properties.ident)?a?1:.2:1})).style("cursor","pointer").on("mouseenter",(function(e,t){w.includes(e.properties.ident)||be.Ltv(this).attr("fill",a?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)").attr("fill-opacity",.5);var n=e.properties.name||e.properties.ident||"Unknown";H.style("visibility","visible").html("<strong>".concat(n,"</strong>"))})).on("mousemove",(function(e,t){H.style("top",be.f0J.pageY-10+"px").style("left",be.f0J.pageX+10+"px")})).on("mouseleave",(function(e,t){w.includes(e.properties.ident)||be.Ltv(this).attr("fill",e.properties.color||"transparent").attr("fill-opacity",1),H.style("visibility","hidden")}));l.node().cleanup=function(){be.Ltv("body").select(".map-tooltip").remove()},i&&i.forEach((function(e,t){if(e.coordinates){var i=S(e.coordinates);v.append("path").datum(e).attr("class","marker-".concat(t)).attr("d","M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z").attr("transform","translate(".concat(i[0]-9.65,", ").concat(i[1]-17.65,") scale(0.8)")).attr("fill",a?r.palette.primary.light:r.palette.primary.main).attr("stroke",a?r.palette.primary.main:r.palette.primary.light).style("filter","drop-shadow(0px 3px 3px "+(a?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)")+")")}else{var o=n.find((function(t){var n;return t.properties.ident===(null===(n=e["level_".concat(T)])||void 0===n?void 0:n.ident)}));if(o){var s=be.Ewd(o.geometry),l=S(s);v.append("path").datum(e).attr("class","marker-".concat(t)).attr("d","M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z").attr("transform","translate(".concat(l[0]-9.65,", ").concat(l[1]-17.65,") scale(0.8)")).attr("fill",a?r.palette.primary.light:r.palette.primary.main).attr("stroke",a?r.palette.primary.main:r.palette.primary.light).style("filter","drop-shadow(0px 3px 3px "+(a?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.4)")+")")}}}))}};return(0,l.useEffect)((function(){if(e.editing){for(var t=e.data.level_0||[],n=2;n>0;n--)if(e.data["level_".concat(n)]){T=n,t=e.data["level_".concat(n)];break}N(t,e.locations)}else{var r=e.data.level_0||[];N(r,e.locations)}b(!1)}),[e.locations,e.data,e.editing,a]),(0,we.jsxs)(d.A,{ref:n,sx:{width:"calc(100% - 20px)",height:"auto",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"2px",overflow:"hidden",position:"relative",border:j?"1px solid ".concat(a?"#333":"#ccc"):"none"},children:[(0,we.jsx)("svg",{style:{width:"100%"},ref:t}),p&&(0,we.jsxs)(d.A,{sx:{position:"absolute",bottom:0,left:0,backgroundColor:a?r.palette.grey[800]:"rgba(255,255,255,0.9)",color:a?"white":"black",padding:"4px 8px",fontSize:"10px",fontFamily:"monospace",zIndex:1e3},children:[(0,we.jsxs)("div",{children:["Lng: ",p.lng]}),(0,we.jsxs)("div",{children:["Lat: ",p.lat]})]}),w&&(0,we.jsx)(d.A,{sx:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"flex-start",transform:"translate(-50%, -50%)",zIndex:1e3,backgroundColor:a?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)"},children:(0,we.jsx)(ke.A,{})}),j&&(0,we.jsx)(u.A,{onClick:function(){if(e.editing){for(var t=e.data.level_0||[],n=2;n>0;n--)if(e.data["level_".concat(n)]){T=n,t=e.data["level_".concat(n)];break}N(t,e.locations)}else{var r=e.data.level_0||[];N(r,e.locations)}b(!1)},sx:{position:"absolute",top:10,right:10,zIndex:1e3,color:a?r.palette.primary.light:r.palette.primary.main},children:(0,we.jsx)(Ae.A,{})})]})},Se=n(10763),Fe=n(33326),Ee=n(19778),Ne=n(88874),He=n(46480),Pe=n(85502),De=n(83290),ze=(0,c.A)((function(e){return{item:{display:"flex",paddingTop:15,alignContent:"flex-start",alignItems:"center",textAlign:"left",paddingBottom:20,position:"relative","&.label-top":{paddingTop:20},"& .MuiAutocomplete-inputRoot":{"&::before":{display:"none"}},"&:nth-child(even)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666",display:"block","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"},"&.inline":{display:"inline-block"},"&.top":{position:"absolute",top:2,width:"100%"}},"&.label-left label":{marginRight:20},"& .instructions":{maxWidth:300},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}},"& .insideContent":{width:"calc(100% - 150px)","&.top":{width:"100%"}}},arrayContainer:{background:"#f5f5f5",padding:5,width:"100%",borderRadius:5,border:"2px dashed #f0f0f0"},card:{marginTop:5,marginBottom:5,"& .MuiCardHeader-root":{padding:"5px 10px",borderBottom:"1px solid #ececec","& .MuiCardHeader-content":{"& .MuiTypography-root":{fontSize:"14px",fontWeight:"normal",fontFamily:"Montserrat",color:"#333"}}}},cardContent:{display:"flex",alignContent:"flex-start",alignItems:"flex-start"},subItem:{marginTop:5,marginBottom:5,display:"flex",borderBottom:"1px dotted #ccc",paddingBottom:5},subItemOpts:{marginTop:0,marginBottom:0,display:"flex",paddingBottom:0,border:"none",alignItems:"center",paddingLeft:10,"& input":{border:"none",outline:"none",borderRadius:0,borderRight:"1px dashed #ececec",transition:"background 0.3s ease","&:focus":{border:"none",background:"#ececec",fontWeight:"bold",color:"#333"}}}}})),Re=function(e){var t=ze(),n=(0,ge.A)(),r=(0,H.d4)((function(e){return e.app.isDarkMode})),a=(0,fe.A)();return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:r?"rgba(255,255,255,.1) !important":"inherit"}},children:[(0,we.jsxs)("label",{htmlFor:e.id,style:{color:r?"white":n.palette.grey[700]},children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsx)(P.D,{onChange:function(t){return function(t){e.values&&e.change("files",[].concat((0,s.A)(e.values.files.filter((function(t){return t.id!==e.id}))),(0,s.A)(t.map((function(t){return{file:t,id:e.id}})))))}(t)},dropzoneText:a.formatMessage({id:"cataloging.uploadFile"}),showFileNames:!0,useChipsForPreview:!0,getFileAddedMessage:function(e){return"Archivo ".concat(e," agregado")},getFileRemovedMessage:function(e){return"Archivo ".concat(e," eliminado")},Icon:E.A,maxFileSize:2e9,filesLimit:e.limit?e.limit:100,acceptedFiles:e.acceptedFiles?e.acceptedFiles:["image/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","video/*","audio/*"],name:e.id})]},e.id)},Le=function(e){var t,n=ze(),r=(0,ge.A)(),a=l.useState(!1),s=(0,o.A)(a,2),m=s[0],f=s[1],x=(0,ve.M)().showAlert,g=(0,H.d4)((function(e){return e.app.isDarkMode})),y=(0,c.A)((function(e){return{root:{border:g?"1px solid transparent !important":"1px solid #ccc !important","& input":{color:g?"white":r.palette.grey[700],fontSize:"14px"}}}})),v=m?{border:"1px solid ".concat(g?r.palette.primary.light:r.palette.primary.main)}:{border:"1px solid #dcdcdc"},j=m?{color:g?r.palette.primary.light:r.palette.primary.main}:{color:g?r.palette.grey[200]:r.palette.grey[700]};return(0,we.jsxs)(d.A,{className:"".concat(n.item," ").concat(e.errors?"error":""),style:(0,i.A)({paddingRight:"10px",width:"100%"},e.style),sx:{"&:nth-child(even)":{background:"".concat(g?"rgba(255,255,255,0.05)":r.palette.grey[100]," !important")}},children:[(null===(t=e.field)||void 0===t?void 0:t.instructions)&&(0,we.jsx)(u.A,{size:"small",onClick:function(){x("info",e.field.instructions)},style:{color:g?r.palette.grey[200]:r.palette.grey[700]},children:(0,we.jsx)(Se.A,{})}),(e.label||e.name)&&(0,we.jsxs)(d.A,{style:{padding:"5px",fontWeight:"bold",fontSize:"14px",color:r.palette.grey[700]},children:[(0,we.jsxs)(p.A,{style:(0,i.A)({fontSize:"14px",fontWeight:"bold",display:"block",width:"150px",marginRight:"10px",marginBottom:"0px"},j),gutterBottom:!0,variant:"label",htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{style:{color:r.palette.error.main,marginLeft:5},children:"*"}):""]}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",children:e.instructions})]}),(0,we.jsx)(h.A,{type:e.type?e.type:"text",name:e.id,onChange:e.handleChange,onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},value:e.value,className:y().root,sx:(0,i.A)({width:"100%",padding:"10px",borderRadius:"5px",outline:"none",background:g?"".concat(r.palette.grey[800]," !important"):"white",color:g?"white":r.palette.grey[700]},v),disabled:e.disabled})]},e.id)},Ie=function(e){var t=ze(),n=(0,ge.A)(),r=(0,H.d4)((function(e){return e.app.isDarkMode}));return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),style:e.style,children:[e.name&&(0,we.jsxs)("label",{htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsx)(h.A,{type:"number",name:e.id,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,disabled:e.disabled,min:e.min,max:e.max,sx:{background:r?"".concat(n.palette.grey[800]," !important"):"white",border:"none",textAlign:"center",color:r?"white":n.palette.grey[700],width:"100%"}})]})},_e=function(e){var t,n=(0,ge.A)(),r=(0,H.d4)((function(e){return e.app.isDarkMode})),s=(0,c.A)((function(e){var t;return{scrollbar:(t={width:"100%",padding:"10px",borderRadius:"5px",outline:"none",height:"100px",resize:"none",fontFamily:n.typography.fontFamily},(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)(t,"outline","none"),"border",r?"1px solid transparent":"1px solid #ccc"),"background",r?"".concat(n.palette.grey[800]," !important"):"white"),"color",r?"white":n.palette.grey[700]),"fontSize","14px"),"&:focus",{border:"1px solid ".concat(n.palette.primary.main)}),"&::-webkit-scrollbar",{width:6,height:2}),"&::-webkit-scrollbar-button",{width:10,height:10}),"&::-webkit-scrollbar-thumb",{background:n.palette.primary.main,border:"0px none #ffffff",borderRadius:50}),"&::-webkit-scrollbar-thumb:hover",{background:"#56749a"}),(0,a.A)((0,a.A)((0,a.A)((0,a.A)(t,"&::-webkit-scrollbar-thumb:active",{background:"#56749a"}),"&::-webkit-scrollbar-track",{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50}),"&::-webkit-scrollbar-track:hover",{background:"rgba(0,0,0,0.1)"}),"&::-webkit-scrollbar-track:active",{background:"rgba(0,0,0,0.1)"}))}}))(),h=ze(),f=(0,ve.M)().showAlert,x=l.useState(!1),g=(0,o.A)(x,2),y=g[0],v=g[1],j=y?{color:r?n.palette.primary.light:n.palette.primary.main}:{color:r?"white":n.palette.grey[700]};return(0,we.jsxs)(d.A,{className:"".concat(h.item," ").concat(e.errors?"error":""),style:(0,i.A)((0,i.A)({},e.rootStyle),{},{display:"flex",alignItems:"center",paddingRight:"10px",width:"100%"}),sx:{paddingTop:"10px",paddingBottom:"10px","&:nth-child(even)":{background:"".concat(r?"rgba(255,255,255,0.05)":n.palette.grey[100]," !important")}},children:[(null===(t=e.field)||void 0===t?void 0:t.instructions)&&(0,we.jsx)(u.A,{size:"small",onClick:function(){f("info",e.field.instructions)},style:{color:r?n.palette.grey[200]:n.palette.grey[700]},children:(0,we.jsx)(Se.A,{})}),(e.name||e.label)&&(0,we.jsxs)(d.A,{style:{padding:"5px",fontWeight:"bold",fontSize:"14px",color:n.palette.grey[700]},children:[(0,we.jsxs)(p.A,{style:(0,i.A)({fontSize:"14px",fontWeight:"bold",display:"block",width:"150px",marginRight:"10px",marginBottom:"0px"},j),gutterBottom:!0,variant:"label",htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{style:{color:n.palette.error.main,marginLeft:5},children:"*"}):""]}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",children:e.instructions})]}),(0,we.jsx)(m.A,{name:e.id,minRows:3,onChange:e.handleChange,onFocus:function(){return v(!0)},onBlur:function(t){v(!1),e.handleBlur(t)},value:e.value,className:s.scrollbar})]},e.id)},Oe=function(e){var t,n=ze(),r=(0,ge.A)(),a=(0,ve.M)().showAlert,o=(0,H.d4)((function(e){return e.app.isDarkMode}));return(0,we.jsxs)(d.A,{className:"".concat(n.item," ").concat(e.errors?"error":""),style:(0,i.A)({},e.rootStyle),sx:{"&:nth-child(even)":{background:"".concat(o?"rgba(255,255,255,0.05)":r.palette.grey[100]," !important")}},children:[(null===(t=e.field)||void 0===t?void 0:t.instructions)&&(0,we.jsx)(u.A,{size:"small",onClick:function(){a("info",e.field.instructions)},style:{color:o?r.palette.grey[200]:r.palette.grey[700]},children:(0,we.jsx)(Se.A,{})}),(e.name||e.label)&&(0,we.jsxs)(d.A,{style:{padding:"5px",fontWeight:"bold",fontSize:"14px",color:r.palette.grey[700]},children:[(0,we.jsxs)(p.A,{style:{fontSize:"14px",fontWeight:"bold",display:"block",width:"150px",marginRight:"10px",marginBottom:"0px",color:o?r.palette.grey[200]:r.palette.grey[700]},gutterBottom:!0,variant:"label",htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{style:{color:r.palette.error.main,marginLeft:5},children:"*"}):""]}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",children:e.instructions})]}),(0,we.jsxs)(f.A,{size:"small",name:e.id,disabled:e.disabled,onChange:e.handleChange,onBlur:e.handleBlur,value:e.value,style:(0,i.A)((0,i.A)({},e.style),{},{width:e.name||e.label?"calc(50% - 10px)":"calc(100% - 10px)",color:o?"white":"black",borderColor:o?"white":"black",backgroundColor:o?r.palette.grey[800]:"white"}),children:[(0,we.jsx)(x.A,{value:"none",children:"accessRights"===e.destiny?"P\xfablico":"Seleccione una opci\xf3n"},-1),e.options.map((function(e,t){return(0,we.jsx)(x.A,{value:e.value,children:e.label},t)}))]}),e.children]},e.key)},Me=function(e){var t=l.useState([]),n=(0,o.A)(t,2),r=n[0],a=n[1];return l.useEffect((function(){e.options&&L.vS(e.options).then((function(t){a(t.options),t.options&&t.options.length>0&&e.handleChange(t.options[0].id)})).catch((function(e){console.log(e)}))}),[e.options]),(0,we.jsx)(Oe,{field:e.field,name:e.name,id:e.id,handleChange:e.handleChange,handleBlur:e.handleBlur,value:e.value,options:r?r.map((function(e){return{value:e.id,label:e.term}})):[],required:e.required,errors:e.errors,destiny:e.destiny},e.id)},Be=function(e){var t=ze(),n=(0,ge.A)(),r=(0,H.d4)((function(e){return e.app.isDarkMode}));return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:r?"rgba(255,255,255,.1) !important":"white"}},children:[(0,we.jsxs)(d.A,{style:{marginRight:10},children:[(0,we.jsxs)("label",{htmlFor:e.id,style:{color:r?"white":"black"},children:[e.name,e.required?(0,we.jsx)("span",{style:{color:n.palette.error.main,marginLeft:5},children:"*"}):""]}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",style:{color:r?n.palette.grey[400]:"black"},children:e.instructions})]}),(0,we.jsx)(g.A,{name:e.id,onChange:function(t){e.handleChange(t.target.checked)},onBlur:e.handleBlur,checked:e.value,style:{color:r?n.palette.primary.light:n.palette.primary.main}})]})},qe=function(e){var t,n=ze(),r=l.useState([]),a=(0,o.A)(r,2),i=a[0],s=a[1],c=l.useState([]),p=(0,o.A)(c,2),h=p[0],m=p[1],f=l.useState(!1),x=(0,o.A)(f,2),g=x[0],j=x[1],b=l.useState([]),A=(0,o.A)(b,2),k=(A[0],A[1]),w=(0,C.j7)().setFieldValue,E=(0,ge.A)(),N=(0,H.d4)((function(e){return e.app.isDarkMode})),P=e.value.slice(0,e.index).map((function(e,t){return{value:t+1,label:e.label,type:e.type}})).filter((function(e){return"text"===e.type||"checkbox"===e.type}));return(0,l.useEffect)((function(){1===P.length&&w("fields.".concat(e.index,".conditionField"),P[0].value)}),[P.length]),(0,l.useEffect)((function(){e.value[e.index].conditionField&&"text"===e.value[e.item.conditionField-1].type&&w("fields.".concat(e.index,".conditionType"),"equals")}),[e.value[e.index].conditionField]),(0,l.useEffect)((function(){"select"===e.item.type||"select-multiple2"===e.item.type?L.bo().then((function(t){s(t),t&&t.length>0&&w("fields.".concat(e.index,".list"),t[0].id)})).catch((function(e){console.log(e)})):"relation"===e.item.type&&R.DI().then((function(e){m(e)})).catch((function(e){console.log(e)})),e.item.accessRights&&e.item.accessRights.length>0&&j(!0)}),[e.item.type]),(0,we.jsx)(y.A,{className:n.card,sx:{background:N?E.palette.grey[900]:E.palette.grey[100],borderColor:N?E.palette.grey[800]:E.palette.grey[300],"& label":{color:N?E.palette.grey[200]:E.palette.grey[700]},"& .subItem":{borderBottom:N?"1px dotted #444":"1px dotted #ccc"}},children:(0,we.jsxs)(v.A,{className:n.cardContent,children:[(0,we.jsxs)(d.A,{sx:{width:"calc(100% - 50px)"},children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".label"),children:"Nombre"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".label"),type:"text",placeholder:"Nombre",style:{width:"100%",padding:"5px"}})]}),!e.editing&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".type"),children:"Tipo"}),(0,we.jsxs)(C.D0,{name:"fields.".concat(e.index,".type"),as:"select",style:{width:"100%",padding:"5px"},children:[(0,we.jsx)("option",{value:"checkbox",children:"Verdadero / Falso"}),(0,we.jsx)("option",{value:"text",children:"Texto"}),(0,we.jsx)("option",{value:"text-area",children:"\xc1rea de texto"}),(0,we.jsx)("option",{value:"number",children:"N\xfamero"}),(0,we.jsx)("option",{value:"simple-date",children:"Fecha"}),(0,we.jsx)("option",{value:"select",children:"Lista de selecci\xf3n"}),(0,we.jsx)("option",{value:"select-multiple2",children:"Lista de selecci\xf3n m\xfaltiple"}),(0,we.jsx)("option",{value:"file",children:"Archivo"}),(0,we.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),(0,we.jsx)("option",{value:"separator",children:"Separador"}),(0,we.jsx)("option",{value:"author",children:"Autor"}),(0,we.jsx)("option",{value:"relation",children:"Relaci\xf3n"}),(0,we.jsx)("option",{value:"location",children:"Ubicaci\xf3n"}),(0,we.jsx)("option",{value:"repeater",children:"Campo m\xfaltiple"}),(0,we.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),(0,we.jsx)("option",{value:"userslist",children:"Usuarios del sistema"})]})]}),"file"===e.item.type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".filetag"),children:"Etiqueta para los archivos"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".filetag"),type:"text",style:{width:"100%",padding:"5px"}})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".maxFiles"),children:"N\xfamero m\xe1ximo"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".maxFiles"),type:"number",min:1,max:1e3,style:{width:"100%",padding:"5px"}})]})]}),"separator"!==e.item.type&&"file"!==e.item.type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".destiny"),children:"Destino"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".destiny"),type:"text",style:{width:"100%",padding:"5px"}})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".destiny"),children:"Instrucciones"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".instructions"),as:"textarea",style:{width:"100%",height:"50px",padding:"5px",fontFamily:"Arial"}})]})]}),("number"===e.item.type||"text"===e.item.type)&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".append"),children:"A\xf1adir al final"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".append"),type:"text",style:{width:"100%",padding:"5px"}})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".prepend"),children:"A\xf1adir al inicio"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".prepend"),type:"text",style:{width:"100%",padding:"5px"}})]})]}),("select"===e.item.type||"select-multiple2"===e.item.type)&&(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".list"),children:"Listado"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".list"),as:"select",style:{width:"100%",padding:"5px"},children:i.map((function(e,t){return(0,we.jsx)("option",{value:e.id,children:e.name},t)}))})]}),"relation"===e.item.type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".relation_type"),children:"Tipo de contenido"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".relation_type"),as:"select",onChange:function(t){var n="fields.".concat(e.index,".relation_parent");e.setFieldValue(n,[]),n="fields.".concat(e.index,".relation_type"),e.setFieldValue(n,t.target.value)},style:{width:"100%",padding:"5px"},children:h.map((function(e,t){return(0,we.jsx)("option",{value:e.slug,children:e.name},t)}))})]}),e.value[e.index].relation_type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)("div",{}),(0,we.jsx)("div",{style:{paddingTop:10,paddingBottom:10,background:N?E.palette.grey[800]:E.palette.grey[100],borderRadius:5},children:(0,we.jsx)(D.A,{postType:e.value[e.index].relation_type,view:"list",childrenSelect:!0,checkboxTypes:[e.value[e.index].relation_type],multiple:!1,setSelected:function(t){var n="fields.".concat(e.index,".relation_parent"),r=[];t.length>0&&(r=t),e.setFieldValue(n,r)},selected:e.value[e.index].relation_parent},e.value[e.index].relation_type)})]})]}),"separator"!==e.item.type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".required"),children:"Requerido"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".required"),type:"checkbox"})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".setCondition"),children:"Condici\xf3n"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".setCondition"),type:"checkbox"})]})]}),(null===(t=e.item)||void 0===t?void 0:t.setCondition)&&"separator"!==e.item.type&&"file"!==e.item.type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)(C.D0,{as:"select",name:"fields.".concat(e.index,".conditionField"),style:{width:"100%",padding:"5px"},children:P.map((function(e,t){return(0,we.jsx)("option",{value:e.value,children:e.label},t)}))}),e.value[e.item.conditionField-1]&&(0,we.jsx)(we.Fragment,{children:"text"===e.value[e.item.conditionField-1].type&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(C.D0,{as:"select",name:"fields.".concat(e.index,".conditionType"),style:{width:"100%",padding:"5px"},children:[(0,we.jsx)("option",{value:"equals",children:"Igual a"}),(0,we.jsx)("option",{value:"contains",children:"Contiene"}),(0,we.jsx)("option",{value:"different",children:"Diferente a"})]}),(0,we.jsx)(C.D0,{type:"text",name:"fields.".concat(e.index,".conditionValueText"),style:{width:"100%",padding:"5px"}})]})})]}),"separator"!==e.item.type&&"file"!==e.item.type&&(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".setAccess"),children:"Niveles de acceso"}),(0,we.jsx)(C.D0,{type:"checkbox",onClick:function(){g&&k([]),j(!g)},checked:g})]}),"repeater"===e.item.type&&(0,we.jsx)(C.ED,{name:"fields.".concat(e.index,".subfields"),children:function(t){var n=t.insert,r=t.remove,a=t.push,i=t.move;return(0,we.jsx)(Ve,{name:"Campos",id:"subfields",insert:n,remove:r,push:a,move:i,value:e.item.subfields?e.item.subfields:[],index:e.index})}}),g&&"separator"!==e.item.type&&"file"!==e.item.type&&(0,we.jsx)(d.A,{className:"subItem ".concat(n.subItem),children:(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".accessRights"),as:"select",multiple:!0,style:{width:"100%",padding:"5px"},children:e.accessRights.map((function(e,t){return(0,we.jsx)("option",{value:e.id,children:e.term},t)}))})})]}),e.editing&&(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".destiny"),children:"Destino"}),(0,we.jsx)("input",{type:"text",value:e.item.destiny,disabled:!0})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".type"),children:"Tipo"}),(0,we.jsx)("input",{type:"text",value:e.item.type,disabled:!0})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".required"),children:"Requerido"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".required"),type:"checkbox",disabled:!0})]}),(0,we.jsxs)(d.A,{className:"subItem ".concat(n.subItem),children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".setAccess"),children:"Niveles de acceso"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".setAccess"),type:"checkbox",disabled:!0})]})]})]}),(0,we.jsxs)(d.A,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"},children:[(0,we.jsx)(u.A,{onClick:function(){return e.remove(e.index)},sx:{color:N?E.palette.grey[200]:E.palette.grey[700]},children:(0,we.jsx)(T.A,{})}),e.index>0&&(0,we.jsx)(u.A,{onClick:function(){return e.moveUp(e.index)},sx:{color:N?E.palette.grey[200]:E.palette.grey[700]},children:(0,we.jsx)(S.A,{})}),e.index<e.fieldsLen-1&&(0,we.jsx)(u.A,{onClick:function(){return e.moveDown(e.index)},sx:{color:N?E.palette.grey[200]:E.palette.grey[700]},children:(0,we.jsx)(F.A,{})})]})]})})},Ue=function(e){var t=ze(),n=(0,H.d4)((function(e){return e.app.isDarkMode})),r=(0,ge.A)(),a=function(t){e.remove(t)},i=function(t){e.move(t,t-1)},o=function(t){e.move(t,t+1)};return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:n?"rgba(255,255,255,.1) !important":"inherit"}},children:[(0,we.jsxs)("label",{htmlFor:e.id,style:{color:n?"white":"inherit"},children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsxs)(d.A,{className:t.arrayContainer,sx:{backgroundColor:n?r.palette.grey[700]:r.palette.grey[100],border:"1px dashed ".concat(n?r.palette.grey[400]:r.palette.grey[600])},children:[e.value.map((function(t,n){return(0,we.jsx)(qe,{item:t,editing:e.editing,index:n,remove:a,moveUp:i,moveDown:o,fieldsLen:e.value.length,accessRights:e.accessRights,value:e.value,setFieldValue:e.setFieldValue},n)})),!e.editing&&(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,we.jsx)(u.A,{onClick:function(){e.push({type:"text",destiny:"",required:!1})},children:(0,we.jsx)(w.A,{})})})]})]})},Ve=function(e){var t=ze(),n=(0,ge.A)(),a=(0,H.d4)((function(e){return e.app.isDarkMode})),i=(0,De.i7)(ue||(ue=(0,r.A)(["\n        0% {\n            opacity: 0.5;\n        }\n        50% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 0.5;\n        }\n        "])));return(0,we.jsx)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),sx:{backgroundColor:a?n.palette.grey[700]+" !important":"white !important"},children:(0,we.jsxs)(d.A,{className:t.arrayContainer,sx:{backgroundColor:"transparent !important",borderColor:a?n.palette.grey[800]:n.palette.grey[300],margin:1},children:[e.value.map((function(r,i){return(0,we.jsx)(y.A,{className:t.card,sx:{background:a?n.palette.grey[800]:n.palette.grey[100],marginTop:"0px !important"},children:(0,we.jsxs)(v.A,{style:{display:"flex",alignContent:"center",padding:0},children:[(0,we.jsxs)(d.A,{style:{width:"100%"},children:[(0,we.jsxs)(d.A,{style:{display:"flex",alignItems:"center",padding:10},children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".subfields.").concat(i,".name"),children:"Nombre"}),(0,we.jsx)(C.D0,{name:"fields.".concat(e.index,".subfields.").concat(i,".name")})]}),(0,we.jsxs)(d.A,{style:{display:"flex",alignItems:"center",padding:10},children:[(0,we.jsx)("label",{htmlFor:"fields.".concat(e.index,".subfields.").concat(i,".type"),children:"Tipo"}),(0,we.jsxs)(C.D0,{name:"fields.".concat(e.index,".subfields.").concat(i,".type"),as:"select",children:[(0,we.jsx)("option",{value:"checkbox",children:"Verdadero / Falso"}),(0,we.jsx)("option",{value:"text",children:"Texto"}),(0,we.jsx)("option",{value:"text-area",children:"\xc1rea de texto"}),(0,we.jsx)("option",{value:"number",children:"N\xfamero"}),(0,we.jsx)("option",{value:"simple-date",children:"Fecha"})]})]})]}),(0,we.jsxs)(d.A,{sx:{width:"auto",display:"flex",justifyContent:"center",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"},children:[(0,we.jsx)(u.A,{onClick:function(){return e.remove(i)},children:(0,we.jsx)(T.A,{})}),i>0&&(0,we.jsx)(u.A,{onClick:function(){return function(t){e.move(t,t-1)}(i)},children:(0,we.jsx)(S.A,{})}),i<e.fieldsLen-1&&(0,we.jsx)(u.A,{onClick:function(){return function(t){e.move(t,t+1)}(i)},children:(0,we.jsx)(F.A,{})})]})]})})})),!e.editing&&(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",position:"relative"},children:(0,we.jsxs)(u.A,{onClick:function(){e.push({type:"text",destiny:"",required:!1})},children:[0===e.value.length&&(0,we.jsx)(d.A,{sx:{position:"absolute",top:0,right:0,width:"100%",height:"100%",borderRadius:"50%",backgroundColor:a?n.palette.primary.light:n.palette.primary.main,animation:"".concat(i," 1.5s linear infinite")}}),(0,we.jsx)(w.A,{style:{position:"relative"}})]})})]})})},Ge=function(e){var t=ze();return(0,we.jsx)(y.A,{className:t.card,children:(0,we.jsxs)(v.A,{className:t.cardContent,children:[(0,we.jsx)(d.A,{sx:{width:"100%",padding:0},children:(0,we.jsx)(d.A,{className:"".concat(t.subItemOpts," ots"),children:(0,we.jsx)(C.D0,{name:"options.".concat(e.index,".term"),type:"text",placeholder:"T\xe9rmino",value:e.item.term})})}),(0,we.jsxs)(d.A,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"row",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"},children:[e.index>0&&(0,we.jsx)(u.A,{onClick:function(){return e.moveUp(e.index)},size:"small",children:(0,we.jsx)(S.A,{})}),e.index<e.fieldsLen-1&&(0,we.jsx)(u.A,{onClick:function(){return e.moveDown(e.index)},size:"small",children:(0,we.jsx)(F.A,{})}),(0,we.jsx)(u.A,{onClick:function(){return e.remove()},size:"small",children:(0,we.jsx)(T.A,{})})]})]})})},We=function(e){var t=ze(),n=(0,H.d4)((function(e){return e.app.isDarkMode})),r=function(t){e.move(t,t-1)},a=function(t){e.move(t,t+1)};return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:n?"rgba(255,255,255,.1) !important":"inherit"}},children:[(0,we.jsxs)("label",{htmlFor:e.id,style:{color:n?"white":"inherit"},children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsxs)(d.A,{className:t.arrayContainer,children:[e.value.map((function(t,n){return(0,we.jsx)(Ge,{item:t,editing:e.editing,index:n,remove:function(){console.log(e.value),function(t){e.remove(t)}(n)},moveUp:r,moveDown:a,fieldsLen:e.value.length},n)})),(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,we.jsx)(u.A,{onClick:function(){e.push({term:""})},children:(0,we.jsx)(w.A,{})})})]})]})},Je=function(e){var t=l.useState([]),n=(0,o.A)(t,2),r=n[0],a=n[1],s=(0,ge.A)(),c=(0,H.d4)((function(e){return e.app.isDarkMode}));l.useEffect((function(){var t;null!==e&&void 0!==e&&null!==(t=e.field)&&void 0!==t&&t.list?L.vS(e.field.list).then((function(e){e.options&&a(e.options)})).catch((function(e){console.log(e)})):e.options&&a(e.options)}),[e.field]);var u=ze();return(0,we.jsxs)(d.A,{className:"".concat(u.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:"rgba(255,255,255,.6) !important"}},children:[e.name&&(0,we.jsxs)("label",{htmlFor:e.id,style:{color:c?"white":"inherit"},children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),r.length>0&&(0,we.jsx)(j.A,{multiple:!0,id:e.label,name:e.name,options:r,isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(t,n){e.handleChange(n)},value:e.value,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.term},style:{width:"100%"},renderInput:function(e){return(0,we.jsx)(b.A,(0,i.A)((0,i.A)({},e),{},{variant:"standard"}))},ChipProps:{sx:{backgroundColor:c?s.palette.primary.light:"inherit",color:c?s.palette.grey[700]:"inherit","& .MuiChip-deleteIcon":{color:c?s.palette.grey[700]:"inherit","&:hover":{color:c?s.palette.grey[800]:"inherit"}}}}})]},e.id)},Ke=function(e){var t=l.useState([]),n=(0,o.A)(t,2),r=n[0],a=n[1],s=(0,ge.A)(),c=(0,H.d4)((function(e){return e.app.isDarkMode}));l.useEffect((function(){z.UK(JSON.stringify({})).then((function(e){a(e.map((function(e){return{id:e.id,username:e.username,name:e.name}})))})).catch((function(e){console.error("Error fetching users:",e)}))}),[]);var u=ze();return(0,we.jsxs)(d.A,{className:"".concat(u.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:"rgba(255,255,255,.6) !important"}},children:[e.name&&(0,we.jsxs)("label",{htmlFor:e.id,style:{color:c?"white":"inherit"},children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),r.length>0&&(0,we.jsx)(j.A,{multiple:!0,id:e.label,name:e.name,options:r,isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(t,n){e.setFieldValue(n)},value:e.value,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.name},style:{width:"100%"},renderInput:function(e){return(0,we.jsx)(b.A,(0,i.A)((0,i.A)({},e),{},{variant:"standard"}))},ChipProps:{sx:{backgroundColor:c?s.palette.primary.light:"inherit",color:c?s.palette.grey[700]:"inherit","& .MuiChip-deleteIcon":{color:c?s.palette.grey[700]:"inherit","&:hover":{color:c?s.palette.grey[800]:"inherit"}}}}})]},e.id)};function Xe(e){var t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0");return"".concat(n,"/").concat(r,"/").concat(a,"  |  ").concat(i,":").concat(o,":").concat(s)}var Qe=function(e){var t=ze(),n=(0,ge.A)(),r=(0,H.d4)((function(e){return e.app.isDarkMode}));return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.labelAlign?"label-"+e.labelAlign:""),style:{background:e.header?n.palette.primary.light:"",padding:e.header?20:10,borderRadius:e.header?10:0,marginBottom:e.header?20:0,marginTop:e.header?0:""},sx:{"&:nth-child(even)":{background:"".concat(r?n.palette.grey[900]:n.palette.grey[100]," !important")}},children:[(0,we.jsx)("label",{style:{color:e.header?n.palette.primary.main:r?n.palette.grey[300]:n.palette.grey[700],opacity:e.header?.5:1,top:e.header?10:"",fontWeight:e.header?"normal":"bold"},className:"".concat(e.labelAlign&&!e.header?e.labelAlign:e.header?"top":""),htmlFor:e.id,children:e.label}),(0,we.jsxs)(d.A,{className:"insideContent ".concat(e.labelAlign&&!e.header?e.labelAlign:e.header?"top":""),style:{color:e.header?n.palette.primary.main:r?n.palette.grey[300]:n.palette.grey[700],textAlign:e.header?"center":"left",fontSize:e.header?20:14,margin:e.header?20:0},children:["text"===e.type&&(0,we.jsx)(d.A,{children:e.value}),"location"===e.type&&(0,we.jsx)(we.Fragment,{children:(0,we.jsx)(Ce,{locations:e.value})}),"number"===e.type&&(0,we.jsx)(d.A,{children:e.value}),"simple-date"===e.type&&(0,we.jsx)(we.Fragment,{children:(0,we.jsx)(d.A,{children:Xe(e.value)})}),"number"===e.type&&(0,we.jsx)(d.A,{children:e.value}),"text-area"===e.type&&(0,we.jsx)(d.A,{children:(0,we.jsx)(N.$,{children:e.value})}),("select"===e.type||"author"===e.type)&&(0,we.jsx)(d.A,{children:e.value.map((function(e,t){return(0,we.jsx)(A.A,{label:e,style:{margin:5}},t)}))}),"relation"===e.type&&(0,we.jsx)(d.A,{children:e.value.map((function(t,n){return(0,we.jsx)(A.A,{label:t.name,style:{margin:5},icon:xe.dR.filter((function(e){return e.value===t.icon}))?xe.dR.filter((function(e){return e.value===t.icon}))[0].iconlight:(0,we.jsx)(we.Fragment,{}),onClick:function(){e.redirect("/detail/".concat(t.id))}},n)}))}),"checkbox"===e.type&&(0,we.jsx)(g.A,{checked:e.value,color:"primary",style:{padding:0},disabled:!0}),"repeater"===e.type&&(0,we.jsx)(we.Fragment,{children:e.value.map((function(e,t){return(0,we.jsx)(y.A,{style:{marginBottom:10},children:e.map((function(e,n){return(0,we.jsx)(d.A,{children:(0,we.jsx)(Qe,{label:e.label,value:e.value,type:e.type})},"inner-".concat(t,"-").concat(n))}))},"outer-".concat(t))}))})]})]})},Ye=function(e){var t=ze(),n=(0,H.d4)((function(e){return e.app.isDarkMode}));return(0,we.jsxs)(d.A,{className:"".concat(t.item),children:[(0,we.jsx)("label",{htmlFor:e.id,style:{color:n?"white":"black"},children:e.label}),(0,we.jsx)(d.A,{style:{maxHeight:400,overflow:"auto"},children:(0,we.jsx)(me(),{src:e.data,collapsed:!0,theme:n?"ashes":"rjv-default"})})]})},$e=function(e){var t=ze(),n=(0,H.d4)((function(e){return e.app.isDarkMode})),r=(0,ge.A)(),a=function(t,n){e.value.includes(t.target.value)?e.handleChange(e.value.filter((function(e){return e!==t.target.value}))):e.handleChange([].concat((0,s.A)(e.value),[t.target.value]))};return(0,we.jsxs)(d.A,{className:"".concat(t.item),sx:{"&:nth-child(even)":{background:"".concat(n?"rgba(255,255,255,0.05)":r.palette.grey[100]," !important")}},children:[(0,we.jsx)("label",{htmlFor:e.id,style:{color:n?"white":"black"},children:e.label}),(0,we.jsx)(d.A,{children:e.options.map((function(t,i){return(0,we.jsxs)(d.A,{children:[(0,we.jsx)("label",{className:"simple inline",htmlFor:"".concat(e.id,"_").concat(t.value),style:{color:n?"white":"black"},children:t.label}),(0,we.jsx)(g.A,{id:"".concat(e.id,"_").concat(t.value),checked:e.value.includes(t.value),onChange:a,color:"primary",style:{padding:0,color:n?r.palette.primary.light:r.palette.primary.main},value:t.value})]},i)}))})]})},Ze=function(e){var t=ze(),n=(0,ge.A)(),r=(0,ve.M)().showAlert,a=(0,H.d4)((function(e){return e.app.isDarkMode}));return(0,we.jsxs)(d.A,{className:"".concat(t.item),sx:{"&:nth-child(even)":{background:a?"rgba(255,255,255,0.1) !important":"".concat(n.palette.grey[100]," !important")}},children:[(0,we.jsxs)(d.A,{style:{marginRight:10,width:"100%"},children:[(0,we.jsx)("label",{htmlFor:e.id,style:{color:a?"white":"black"},children:e.label}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",style:{color:a?n.palette.grey[400]:"black"},children:e.instructions})]}),(0,we.jsx)(d.A,{style:{width:"100%"},children:(0,we.jsx)(ye.nA,{id:e.label,variant:"outlined",onClick:function(){r("confirm","\xbfEst\xe1s seguro de que deseas realizar la acci\xf3n?").then((function(t){t&&(0,pe.kT)(e.value).then((function(e){r("success",e.msg)})).catch((function(e){r("error",e.msg)}))}))},label:e.btn_label,customColor:{background:a?n.palette.grey[600]:n.palette.primary.light,color:a?n.palette.primary.light:n.palette.primary.main},style:{borderRadius:5}})})]})},et=function(e){var t=ze(),n=(0,H.d4)((function(e){return e.app.isDarkMode})),r=(0,ge.A)();return console.log(e),(0,we.jsxs)(d.A,{className:"".concat(t.item),sx:{"&:nth-child(even)":{background:"".concat(n?"rgba(255,255,255,0.05)":r.palette.grey[100]," !important")}},children:[(0,we.jsx)("label",{htmlFor:e.id,style:{color:n?"white":"black"},children:e.label}),(0,we.jsx)(d.A,{style:{width:"100%"},children:e.data.map((function(t,n){return(0,we.jsxs)(we.Fragment,{children:["select"===t.type&&(0,we.jsx)(Oe,{name:t.label,id:n,value:e.values[t.id]?e.values[t.id]:t.value?t.value:null,options:e.options?e.options.map((function(e){return{value:e.slug,label:e.name}})):t.options?t.options:null,handleChange:function(n,r){e.setFieldValue(t.id,n.target.value)},handleBlur:function(){},instructions:t.instructions}),"checkbox"===t.type&&(0,we.jsx)($e,{label:t.label,id:n,value:e.values[t.id],options:e.options.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(n){e.setFieldValue(t.id,n)},handleBlur:function(){}}),"checkbox_single"===t.type&&(0,we.jsx)(Be,{name:t.label,id:n,value:e.values[t.id],handleChange:function(n){e.setFieldValue(t.id,n)},instructions:t.instructions}),"button_single"===t.type&&(0,we.jsx)(Ze,{label:t.label,id:n,instructions:t.instructions,btn_label:t.btn_label,value:t.value})]})}))})]})},tt=function(e){var t=ze(),n=l.useState(e.value),r=(0,o.A)(n,2),a=r[0],i=r[1],s=l.useState(!1),c=(0,o.A)(s,2),p=c[0],h=c[1],m=l.useState(["",""]),f=(0,o.A)(m,2),x=f[0],g=f[1];return l.useEffect((function(){if(e.value){var t=e.value.split("|");t.length>1?(h(!0),g(t)):(t=e.value.split(",")).length>1&&(h(!1),g(t))}}),[]),l.useEffect((function(){e.setFieldValue(a)}),[a]),l.useEffect((function(){i("".concat(x[0]).concat(p?"|":",").concat(x[1]))}),[p,x]),(0,we.jsx)(we.Fragment,{children:2===x.length&&(0,we.jsx)(y.A,{className:t.card,children:(0,we.jsx)(d.A,{sx:{width:"100%",padding:0},children:(0,we.jsxs)(d.A,{className:"".concat(t.subItemOpts," ots"),children:[(0,we.jsx)(k.A,{checked:p,onClick:function(){h(!p)},size:"small"}),(0,we.jsx)(C.D0,{type:"text",placeholder:"".concat(p?"Organizaci\xf3n":"Nombre(s)"),value:x[0],onChange:function(e){g([e.target.value.replace(",","").replace("|",""),x[1]]),i("".concat(e.target.value.replace(",","").replace("|","")).concat(p?"|":",").concat(x[0]))}}),(0,we.jsx)(C.D0,{type:"text",placeholder:"".concat(p?"Siglas":"Apellidos"),value:x[1],onChange:function(e){g([x[0],e.target.value.replace(",","").replace("|","")]),i("".concat(x[0]).concat(p?"|":",").concat(e.target.value.replace(",","").replace("|","")))}}),(0,we.jsx)(d.A,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"},children:(0,we.jsx)(u.A,{onClick:function(){return e.remove()},size:"small",children:(0,we.jsx)(T.A,{})})})]})})})})},nt=function(e){var t=ze(),n=l.useState(e.value),r=(0,o.A)(n,2),a=r[0],s=r[1];return l.useEffect((function(){e.setFieldValue(a)}),[a]),(0,we.jsx)(we.Fragment,{children:(0,we.jsx)(y.A,{className:t.card,children:(0,we.jsxs)(d.A,{sx:{width:"100%",padding:0,display:"flex"},children:[(0,we.jsx)(d.A,{style:{width:"calc(100% - 50px)"},children:e.subfields.map((function(e,t){return(0,we.jsxs)(d.A,{style:{margin:5},children:[(0,we.jsx)("label",{htmlFor:e.id,children:e.name}),"text"===e.type&&(0,we.jsx)(C.D0,{type:"text",value:a[e.destiny],onChange:function(t){var n=(0,i.A)({},a);n[e.destiny]=t.target.value,s(n)},style:{width:"calc(100% - 10px)"}}),"number"===e.type&&(0,we.jsx)(C.D0,{type:"number",value:a[e.destiny],onChange:function(t){var n=(0,i.A)({},a);n[e.destiny]=t.target.value,s(n)}}),"simple-date"===e.type&&(0,we.jsx)(C.D0,{type:"date",value:a[e.destiny],onChange:function(t){var n=(0,i.A)({},a);n[e.destiny]=t.target.value,s(n)}}),"checkbox"===e.type&&(0,we.jsx)(C.D0,{type:"checkbox",name:e.destiny,render:function(t){var n=t.field;return(0,we.jsx)(g.A,(0,i.A)((0,i.A)({},n),{},{checked:a[e.destiny],onChange:function(t){var n=(0,i.A)({},a);n[e.destiny]=t.target.checked,s(n)}}))}}),"text-area"===e.type&&(0,we.jsx)(C.D0,{as:"textarea",value:a[e.destiny],onChange:function(t){var n=(0,i.A)({},a);n[e.destiny]=t.target.value,s(n)}})]})}))}),(0,we.jsx)(d.A,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"},children:(0,we.jsx)(u.A,{onClick:function(){return e.remove()},size:"small",children:(0,we.jsx)(T.A,{})})})]})})})},rt=function(e){var t=ze(),n=l.useState([]),r=(0,o.A)(n,2),a=(r[0],r[1]);return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),children:[(0,we.jsxs)("label",{htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsxs)(d.A,{className:t.arrayContainer,children:[e.value.length>0&&(0,we.jsx)(we.Fragment,{children:e.value.map((function(t,n){return(0,we.jsx)(tt,{value:t,remove:function(){return function(t){e.remove(t)}(n)},setFieldValue:function(t){return function(t,n){var r=(0,s.A)(e.value);r[t]=n,a(r),e.setFieldValue(r)}(n,t)}},n)}))}),!e.editing&&(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,we.jsx)(u.A,{onClick:function(){e.push("")},children:(0,we.jsx)(w.A,{})})})]})]})},at=function(e){var t=ze(),n=l.useState([]),r=(0,o.A)(n,2),a=(r[0],r[1]);return(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),children:[(0,we.jsxs)("label",{htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsxs)(d.A,{className:t.arrayContainer,children:[e.value.length>0&&(0,we.jsx)(we.Fragment,{children:e.value.map((function(t,n){return(0,we.jsx)(nt,{subfields:e.subfields,value:t,remove:function(){return function(t){e.remove(t)}(n)},setFieldValue:function(t){return function(t,n){var r=(0,s.A)(e.value);r[t]=n,a(r),e.setFieldValue(r)}(n,t)}},n)}))}),!e.editing&&(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,we.jsx)(u.A,{onClick:function(){e.push("")},children:(0,we.jsx)(w.A,{})})})]})]})},it=function(e){var t=ze(),n=l.useState(null),r=(0,o.A)(n,2),a=r[0],i=r[1];return l.useEffect((function(){i(e.value)}),[e.value]),(0,we.jsx)(we.Fragment,{children:a&&(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),children:[(0,we.jsxs)("label",{htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsxs)(d.A,{className:t.arrayContainer,children:[e.value.length>0&&(0,we.jsx)(we.Fragment,{children:e.value.map((function(t,n){return(0,we.jsx)(ot,{value:t,index:n,fields:e.fields,remove:function(){return function(t){e.remove(t)}(n)},setFieldValue:function(t){return function(t,n){var r=(0,s.A)(a);r[t]=n,i(r),e.setFieldValue(r)}(n,t)}},n)}))}),(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"center"},children:(0,we.jsx)(u.A,{onClick:function(){var t={};e.fields.map((function(e){t[e.id]=""})),e.push(t)},children:(0,we.jsx)(w.A,{})})})]})]},e.key)})},ot=function(e){var t=ze(),n=l.useState(null),r=(0,o.A)(n,2),a=r[0],s=r[1];return l.useEffect((function(){a&&e.setFieldValue(a)}),[a]),(0,we.jsx)(we.Fragment,{children:e.value&&(0,we.jsx)(y.A,{className:t.card,children:(0,we.jsx)(d.A,{sx:{width:"100%",padding:0},children:(0,we.jsxs)(d.A,{className:"".concat(t.subItemOpts," ots"),children:[e.fields.map((function(t,n){return(0,we.jsxs)(we.Fragment,{children:["select"===t.type&&(0,we.jsx)(f.A,{name:t.id,onChange:function(e){var n=(0,i.A)({},a);n[t.id]=e.target.value,s(n)},value:e.value[t.id]?e.value[t.id]:"",style:{width:"100%"},children:t.options.map((function(e,t){return(0,we.jsx)(x.A,{value:e.value,children:e.label},t)}))}),"number"===t.type&&(0,we.jsx)(C.D0,{name:t.id,type:"number",onChange:function(e){var n=(0,i.A)({},a);n[t.id]=e.target.value,s(n)},min:0,value:e.value[t.id]?parseInt(e.value[t.id]):0,style:{width:"100%"}})]})})),(0,we.jsx)(d.A,{sx:{width:"50px",display:"flex",justifyContent:"center",flexDirection:"column",padding:"5px",alignContent:"flex-start",alignItems:"flex-start"},children:(0,we.jsx)(u.A,{onClick:function(){return e.remove()},size:"small",children:(0,we.jsx)(T.A,{})})})]})})},e.key)})},st=function(e){var t,n=ze(),r=(0,ge.A)(),s=l.useState([null,null,null]),c=(0,o.A)(s,2),h=c[0],m=c[1],f=(0,ve.M)().showAlert,x=l.useState(!1),g=(0,o.A)(x,2),y=g[0],v=g[1],j=(0,H.d4)((function(e){return e.app.isDarkMode})),b=y?{color:j?r.palette.primary.light:r.palette.primary.main}:{color:j?"white":r.palette.grey[700]};return l.useEffect((function(){if(e.value){var t=new Date(e.value);m([t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()])}}),[]),l.useEffect((function(){if(h[0]){var t=0,n=1,r=0,a=0,i=0;h[1]&&(t=h[1]-1),h[2]&&(n=h[2]),h[3]&&(r=h[3]),h[4]&&(a=h[4]),h[5]&&(i=h[5]);var o=new Date(h[0],t,n,r,a,i);e.setFieldValue(o)}else e.setFieldValue(null)}),[h]),(0,we.jsxs)(d.A,{className:"".concat(n.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:"".concat(j?"rgba(255,255,255,0.05)":r.palette.grey[100]," !important")}},children:[(null===(t=e.field)||void 0===t?void 0:t.instructions)&&(0,we.jsx)(u.A,{size:"small",onClick:function(){f("info",e.field.instructions)},style:{color:j?"white !important":r.palette.grey[700]},children:(0,we.jsx)(Se.A,{})}),(e.name||e.label)&&(0,we.jsxs)(d.A,{style:{padding:"5px",fontWeight:"bold",fontSize:"14px",color:r.palette.grey[700]},children:[(0,we.jsxs)(p.A,{style:(0,i.A)({fontSize:"14px",fontWeight:"bold",display:"block",width:"150px",marginRight:"10px",marginBottom:"0px"},b),gutterBottom:!0,variant:"label",htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{style:{color:r.palette.error.main,marginLeft:5},children:"*"}):""]}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",children:e.instructions})]}),(0,we.jsxs)(d.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,we.jsx)(C.D0,{type:"number",step:"1",min:"1900",max:"3000",placeholder:"A\xf1o",value:h[0],onChange:function(e){m([e.target.value,h[1],h[2]])},onFocus:function(){return v(!0)},onBlur:function(){return v(!1)},style:(0,a.A)({padding:"10px",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",border:"none",borderRight:"1px solid",background:j?r.palette.grey[800]:"white"},"border",j?"1px solid transparent":"1px solid #ccc")}),(0,we.jsx)(C.D0,{type:"number",placeholder:"Mes",min:"1",max:"12",value:h[1],onChange:function(e){m([h[0],e.target.value,h[2]])},onFocus:function(){return v(!0)},onBlur:function(){return v(!1)},style:(0,a.A)({padding:"10px",border:"none",background:j?r.palette.grey[800]:"white"},"border",j?"1px solid transparent":"1px solid #ccc")}),(0,we.jsx)(C.D0,{type:"number",placeholder:"Dia",min:"1",max:"31",value:h[2],onChange:function(e){m([h[0],h[1],e.target.value])},onFocus:function(){return v(!0)},onBlur:function(){return v(!1)},style:(0,a.A)({padding:"10px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",border:"none",borderLeft:"1px solid",background:j?r.palette.grey[800]:"white"},"border",j?"1px solid transparent":"1px solid #ccc")})]})]},e.id)},lt=function(e){var t=ze(),n=l.useState([]),r=(0,o.A)(n,2),a=r[0],i=r[1],s=l.useState(null),c=(0,o.A)(s,2),u=c[0],p=c[1],h=(0,ge.A)(),m=(0,H.d4)((function(e){return e.app.isDarkMode}));return l.useEffect((function(){e.value&&i(e.value),e.postType.relation_parent&&(e.postType.relation_parent.length>0?p(e.postType.relation_parent[0].id):p(null))}),[]),l.useEffect((function(){e.setFieldValue(a)}),[a]),(0,we.jsx)(we.Fragment,{children:a&&(0,we.jsxs)(d.A,{className:"".concat(t.item," ").concat(e.errors?"error":""),sx:{"&:nth-child(even)":{background:"".concat(m?"rgba(255,255,255,0.05)":h.palette.grey[100]," !important")}},children:[(0,we.jsxs)("label",{htmlFor:e.id,style:{color:m?"white":"black"},children:[e.name,e.required?(0,we.jsx)("span",{children:"*"}):""]}),(0,we.jsx)(d.A,{sx:{display:"flex",justifyContent:"flex-start",maxHeight:300,overflow:"auto",width:"100%",background:m?h.palette.grey[800]:h.palette.grey[100]},children:(0,we.jsx)(D.A,{root:u,postType:e.postType.relation_type,view:"list",mainView:"forms",checkboxTypes:[e.postType.relation_type],multiple:!0,childrenSelect:!0,setSelected:function(e){i(e)},selected:a})})]},e.id)})},ct=function(e){var t,n=ze(),r=(0,ge.A)(),c=(0,H.d4)((function(e){return e.app.isDarkMode})),h=l.useState(null),m=(0,o.A)(h,2),g=m[0],y=m[1],v=l.useState([[{level:0,data:null,selection:null},{level:1,data:null,selection:null},{level:2,data:null,selection:null}]]),j=(0,o.A)(v,2),k=j[0],w=j[1],C=l.useState({}),T=(0,o.A)(C,2),S=T[0],F=T[1],E=l.useState(""),N=(0,o.A)(E,2),P=N[0],D=N[1],z=l.useState(!1),R=(0,o.A)(z,2),L=R[0],I=R[1],_=l.useState(!1),O=(0,o.A)(_,2),M=O[0],B=O[1],q=(0,ve.M)().showAlert;(0,l.useEffect)((function(){if(e.value){var t=(0,s.A)(k);t[0][0].selection=e.value.level_0,t[0][1].selection=e.value.level_1,t[0][2].selection=e.value.level_2,w(t)}U(0)}),[]);var U=function(e){de(e,e>0?{parent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}:{}).then((function(t){t.length>0&&(F((function(n){return(0,i.A)((0,i.A)({},n),{},(0,a.A)({},"level_".concat(e),t))})),console.log("level",e,t))})).catch((function(t){console.log("Error fetching level ".concat(e," data:"),t)}))};l.useEffect((function(){if(g){for(var e=3;e>0;e--)null===g["level_".concat(e)]&&null!==g["level_".concat(e-1)]&&(console.log("fetching level",e,g["level_".concat(e-1)].ident),U(e,g["level_".concat(e-1)].ident));g.coordinates&&V()}}),[g]);var V=function(){var t=[];if(e.value&&(t=(0,s.A)(e.value)),null!==g.level_0){t.push((0,i.A)({},g)),e.setFieldValue(t),y(null);for(var n=(0,i.A)({},S),r=1;r<3;r++)n["level_".concat(r)]=null;F(n)}},G=function(e){for(var t="",n=0;n<3;n++)null!==e["level_".concat(n)]&&e["level_".concat(n)]&&(t+=e["level_".concat(n)].name+" ");return e.name&&(t+=e.name),t};return(0,we.jsx)(we.Fragment,{children:(0,we.jsxs)(d.A,{className:"".concat(n.item," ").concat(e.errors?"error":""),sx:{display:"block",padding:"10px","&:nth-child(even)":{background:"".concat(c?r.palette.grey[900]:r.palette.grey[100]," !important")}},children:[(null===(t=e.field)||void 0===t?void 0:t.instructions)&&(0,we.jsx)(u.A,{size:"small",onClick:function(){q("info",e.field.instructions)},style:{color:c?"white !important":r.palette.grey[700]},children:(0,we.jsx)(Se.A,{})}),(e.name||e.label)&&(0,we.jsxs)(d.A,{style:{padding:"5px",fontWeight:"bold",fontSize:"14px",color:r.palette.grey[700],marginBottom:"10px"},children:[(0,we.jsxs)(p.A,{style:{fontSize:"14px",fontWeight:"bold",display:"block",width:"150px",marginRight:"10px",marginBottom:"0px",color:c?r.palette.grey[200]:r.palette.grey[700]},gutterBottom:!0,variant:"label",htmlFor:e.id,children:[e.name,e.required?(0,we.jsx)("span",{style:{color:r.palette.error.main,marginLeft:5},children:"*"}):""]}),e.instructions&&(0,we.jsx)(d.A,{className:"instructions",children:e.instructions})]}),(0,we.jsxs)(d.A,{sx:{width:"100%"},children:[(0,we.jsxs)(d.A,{sx:{display:"flex",flexWrap:"wrap"},children:[e.value&&e.value.map((function(t,n){return(0,we.jsx)(A.A,{size:"small",variant:"outlined",icon:(0,we.jsx)(He.A,{}),label:G(t),onDelete:function(){var t=(0,s.A)(e.value);t.splice(n,1),e.setFieldValue(t)},sx:{marginRight:1,marginBottom:1,backgroundColor:r.palette.primary.light,color:r.palette.primary.main,"& svg path":{fill:r.palette.primary.main}}},n)})),null===g&&(0,we.jsx)(A.A,{label:"Agregar ubicaci\xf3n",size:"small",icon:(0,we.jsx)(Fe.A,{}),onClick:function(){y({level_0:null,level_1:null,level_2:null})},sx:{marginBottom:1,backgroundColor:r.palette.primary.main,color:"white","& svg path":{fill:"white"},"&:hover":{backgroundColor:r.palette.primary.light,color:r.palette.primary.main,"& svg path":{fill:r.palette.primary.main}}}})]}),g&&(0,we.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:1,width:"calc(100% - 10px)",backgroundColor:c?r.palette.grey[800]:r.palette.grey[100],padding:"5px",borderRadius:1,color:c?"white":"black",boxShadow:c?"0px 0px 5px rgba(0, 0, 0, 0.5)":"none",marginBottom:2},children:[!L&&[0,1,2].map((function(e){var t;return(0,we.jsx)(d.A,{sx:{display:"flex",alignItems:"center",width:"".concat(100/3,"%")},children:(0,we.jsxs)(f.A,{style:{width:"100%",backgroundColor:c?r.palette.grey[800]:r.palette.grey[100],color:c?"white":"black",marginLeft:5,visibility:S["level_".concat(e)]?"visible":"hidden"},value:(null===(t=g["level_".concat(e)])||void 0===t?void 0:t.ident)||"",placeholder:"Seleccionar",size:"small",displayEmpty:!0,children:[(0,we.jsx)(x.A,{value:"",children:(0,we.jsx)("em",{children:"Seleccionar"})}),S["level_".concat(e)]&&S["level_".concat(e)].map((function(t,n){return(0,we.jsx)(x.A,{value:t.properties.ident,onClick:function(){return function(e,t){var n=(0,i.A)({},g);n["level_".concat(e)]={ident:t,name:S["level_".concat(e)].find((function(e){return e.properties.ident===t})).properties.name};for(var r=(0,i.A)({},S),a=e+1;a<3;a++)r["level_".concat(a)]=null,n["level_".concat(a)]=null;F(r),y(n),console.log(e,t)}(e,t.properties.ident)},children:t.properties.name},n)}))]})},"level-".concat(e))})),L&&(0,we.jsx)(d.A,{sx:{display:"flex",alignItems:"center",width:"100%"},children:(0,we.jsx)(b.A,{variant:"outlined",size:"small",placeholder:"Buscar ubicaci\xf3n...",value:P,onChange:function(e){return D(e.target.value)},sx:{width:"100%",backgroundColor:c?r.palette.grey[800]:r.palette.grey[100],color:c?"white !important":"black",marginLeft:0,"& input":{color:c?"white":"black"}},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),B(!0),function(e){var t="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest?f=json&text="+e+"&maxSuggestions=1",n={method:"GET",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch(t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json().then((function(e){if(e.suggestions&&e.suggestions.length>0){var t=e.suggestions[0].magicKey;return fetch("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?f=json&magicKey="+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}return Promise.reject("No suggestions found")}))}))}(P).then((function(e){console.log("Coordinates fetched:",e);var t={coordinates:[e.candidates[0].location.x,e.candidates[0].location.y],name:e.candidates[0].address};y(t),D(""),B(!1)})).catch((function(e){console.error("Error fetching coordinates:",e)})))}})}),(0,we.jsx)(u.A,{sx:{color:c?"white":r.palette.primary.main},onClick:function(){V()},children:(0,we.jsx)(Ee.A,{})}),!e.search&&(0,we.jsx)(u.A,{sx:{color:c?"white":r.palette.primary.main},onClick:function(){I(!L),L&&D("")},children:(0,we.jsx)(Ne.A,{})}),(0,we.jsx)(u.A,{sx:{color:c?"white":r.palette.primary.main},onClick:function(){y(null);for(var e=(0,i.A)({},S),t=1;t<3;t++)e["level_".concat(t)]=null;F(e)},children:(0,we.jsx)(Pe.A,{})})]}),(0,we.jsxs)(d.A,{sx:{position:"relative"},children:[(0,we.jsx)(Te,{locations:g?[g]:e.value,data:S,editing:!!g}),M&&(0,we.jsx)(we.Fragment,{children:(0,we.jsx)(d.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:c?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,we.jsx)(ke.A,{})})})]})]})]},e.id)})},dt=function(e){var t=l.useState(null),n=(0,o.A)(t,2),r=n[0],a=n[1];return l.useEffect((function(){if(e.condition){e.change(e.id,null);var t=e.options.filter((function(t){return t.value===e.conditionValue}));t.length>0?a(t[0].fields):a(null)}}),[e.condition,e.conditionValue]),(0,we.jsx)(we.Fragment,{children:r&&(0,we.jsx)(we.Fragment,{children:r.map((function(t,n){return(0,we.jsx)(we.Fragment,{children:"multiple-checkbox"===t.type&&(0,we.jsx)($e,{label:e.label,value:e.value?e.value:[],options:t.options,handleChange:function(t){e.change(e.id,t)}},n)})}))})})}},12257:function(e,t,n){n.d(t,{D1:function(){return l},I:function(){return c},bo:function(){return i},cd:function(){return s},vS:function(){return o}});var r=n(91280),a=n(88120);function i(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/lists",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t="/lists/"+e,n={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e,t){var n=new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),i="/lists/"+e;console.log(t);var o={method:"PUT",headers:n,mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+i,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,a.H6)()+"/lists",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function c(e){var t="/lists/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e}))}},78717:function(e,t,n){n.d(t,{$R:function(){return h},HD:function(){return d},Jv:function(){return l},U3:function(){return m},UK:function(){return o},_Q:function(){return f},aH:function(){return u},ji:function(){return s},o8:function(){return c},tB:function(){return p}});var r=n(89379),a=n(91280),i=n(88120);function o(e,t){if((0,a.g)()){var n=new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),o={};t&&(o=(0,r.A)((0,r.A)({},t),o));var s={method:"POST",headers:n,mode:"cors",cache:"default",body:JSON.stringify(o)};return fetch((0,i.H6)()+"/resources/getall",s).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}n=new Headers({"Content-Type":"application/json"});var l={};t&&(l=(0,r.A)((0,r.A)({},t),l));s={method:"POST",headers:n,mode:"cors",cache:"default",body:JSON.stringify(l)};return fetch((0,i.H6)()+"/resources/getall/public",s).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)()}),mode:"cors",cache:"default",body:e};return fetch((0,i.H6)()+"/resources",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){if((0,a.g)()){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,i.H6)()+"/resources/tree",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,i.H6)()+"/resources/public/tree",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var t="/resources/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,a.g)()}),mode:"cors",cache:"default"};return fetch((0,i.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e){if((0,a.g)()){var t="/resources/"+e,n={method:"GET",headers:new Headers({Authorization:(0,a.g)()}),mode:"cors",cache:"default"};return fetch((0,i.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}var r="/resources/public/"+e;n={method:"GET",headers:{},mode:"cors",cache:"default"};return fetch((0,i.H6)()+r,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(e,t){var n="/resources/"+e,r={method:"PUT",headers:new Headers({Authorization:(0,a.g)()}),mode:"cors",cache:"default",body:t};return fetch((0,i.H6)()+n,r).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,a.g)()){var r="/resources/"+e+"/records",o={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({page:t,groupImages:n})};return fetch((0,i.H6)()+r,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}var s="/resources/public/"+e+"/records";o={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({page:t,groupImages:n})};return fetch((0,i.H6)()+s,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function h(e){if((0,a.g)()){var t="/resources/"+e+"/imgs",n={method:"GET",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,i.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}var r="/resources/public/"+e+"/imgs";n={method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",cache:"default"};return fetch((0,i.H6)()+r,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function m(e,t){var n=(0,a.g)();return new Promise(n?function(n,r){var o=new XMLHttpRequest;o.open("POST",(0,i.H6)()+"/resources/download_records",!0),o.responseType="blob",o.setRequestHeader("Authorization",(0,a.g)()),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("progress",(function(e){if(e.lengthComputable&&t){var n=e.loaded/e.total*100;t(n)}})),o.addEventListener("load",(function(){if(200===o.status){var e,t=o.response,a=(null===(e=o.getResponseHeader("content-disposition"))||void 0===e?void 0:e.split("filename=")[1])||"download",i=window.URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=a,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(i),n()}),100)}else r(new Error("Download failed with status ".concat(o.status)))})),o.addEventListener("error",(function(){r(new Error("Download failed"))})),o.timeout=6e4,o.addEventListener("timeout",(function(){r(new Error("Download timed out"))})),o.send(JSON.stringify(e))}:function(n,r){var a=new XMLHttpRequest;a.open("POST",(0,i.H6)()+"/resources/public/download_records",!0),a.responseType="blob",a.setRequestHeader("Content-Type","application/json"),a.addEventListener("progress",(function(e){if(e.lengthComputable&&t){var n=e.loaded/e.total*100;t(n)}})),a.addEventListener("load",(function(){if(200===a.status){var e,t=a.response,i=(null===(e=a.getResponseHeader("content-disposition"))||void 0===e?void 0:e.split("filename=")[1])||"download",o=window.URL.createObjectURL(t),s=document.createElement("a");s.href=o,s.download=i,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(o),n()}),100)}else r(new Error("Download failed with status ".concat(a.status)))})),a.addEventListener("error",(function(){r(new Error("Download failed"))})),a.timeout=6e4,a.addEventListener("timeout",(function(){r(new Error("Download timed out"))})),a.send(JSON.stringify(e))})}function f(e,t){return new Promise((function(n,r){var a=new XMLHttpRequest;a.open("POST",(0,i.H6)()+"/inventoryMaker/public/downloadInventory",!0),a.responseType="blob",a.setRequestHeader("Content-Type","application/json"),a.addEventListener("progress",(function(e){if(e.lengthComputable&&t){var n=e.loaded/e.total*100;t(n)}})),a.addEventListener("load",(function(){if(200===a.status){var e,t=a.response,i=(null===(e=a.getResponseHeader("content-disposition"))||void 0===e?void 0:e.split("filename=")[1])||"download",o=window.URL.createObjectURL(t),s=document.createElement("a");s.href=o,s.download=i,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(o),n()}),100)}else r(new Error("Download failed with status ".concat(a.status)))})),a.addEventListener("error",(function(){r(new Error("Download failed"))})),a.timeout=2e5,a.addEventListener("timeout",(function(){r(new Error("Download timed out"))})),a.send(JSON.stringify(e))}))}},19853:function(e,t,n){n.d(t,{DJ:function(){return p},EI:function(){return b},Eh:function(){return v},Gj:function(){return h},NY:function(){return u},O0:function(){return l},SP:function(){return y},UK:function(){return i},WP:function(){return s},Zc:function(){return d},eP:function(){return x},gD:function(){return c},in:function(){return g},kT:function(){return A},ko:function(){return k},o1:function(){return m},r1:function(){return f},u0:function(){return j},yo:function(){return o}});var r=n(91280),a=n(88120);function i(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/system",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"PUT",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,a.H6)()+"/system",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/system/access-rights",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/system/roles",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/system/default-cataloging-type",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/system/plugins",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(e){var t="/"+e+"/image",n={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 404===e.status?Promise.reject(e):e.blob()}))}function p(e,t){var n="/"+e+"/settings/"+t,i={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+n,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function h(e,t,n){var i="/"+e+"/"+n,o={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+i,o).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function m(e,t,n){var i="/"+e+"/"+n,o={method:"POST",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+i,o).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function f(e,t){var n="/"+e+"/settings",i={method:"POST",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+n,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function x(e,t){var n="/"+e+"/bulk",i={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+n,i).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function g(e){var t="/system/plugins/"+e,n={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function y(e,t){var n="/tasks/"+e,i={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+n,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function v(e){var t="/tasks/total/"+e,n={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function j(e){var t="/tasks/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function b(e,t){var n="/"+e+"/filedownload/"+t,i={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+n,i).then((function(e){if(404===e.status||500===e.status||400===e.status||401===e.status)return Promise.reject(e);var t=e.headers.get("Content-Disposition");return e.blob().then((function(e){return{blob:e,contentDisp:t}}))}))}function A(e){var t="/system/"+e,n={method:"GET",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 404===e.status||500===e.status||400===e.status||401===e.status?Promise.reject(e):e.json()}))}function k(e){var t={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({placement:e})};return fetch((0,a.H6)()+"/system/get-actions",t).then((function(e){return 404===e.status||500===e.status||400===e.status||401===e.status?Promise.reject(e):e.json()}))}},31445:function(e,t,n){n.d(t,{DI:function(){return i},Gg:function(){return l},Pw:function(){return s},SJ:function(){return c},jt:function(){return o},sF:function(){return d}});var r=n(91280),a=n(88120);function i(){var e={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+"/types",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,a.H6)()+"/types",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function s(e){console.log(e);var t="/types/"+e,n={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e,t){var n="/types/"+e,i={method:"PUT",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,a.H6)()+n,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var t="/types/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){if(204!==e.status)return Promise.reject(e)}))}function d(e,t){var n={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify({slug:e,type:t})};return fetch((0,a.H6)()+"/types/moreinfo",n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}},86279:function(e,t,n){n.d(t,{C:function(){return d},Qs:function(){return i},Tk:function(){return o},UT:function(){return l},Xq:function(){return s},lC:function(){return c}});var r=n(88120),a=n(91280);function i(e){var t="/usertasks/"+e,n={method:"GET",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t="/usertasks/record/"+e,n={method:"GET",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(){var e={method:"GET",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/usertasks/editors",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/usertasks",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function c(e,t){var n="/usertasks/"+e,i={method:"PUT",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,r.H6)()+n,i).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(e){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/usertasks/tasks",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}},5670:function(e,t,n){n.d(t,{BD:function(){return c},C5:function(){return v},Gm:function(){return g},HU:function(){return h},Hc:function(){return u},Jt:function(){return d},S:function(){return x},UK:function(){return p},XG:function(){return f},hG:function(){return y},ke:function(){return m},kz:function(){return l},nH:function(){return b},qM:function(){return j},vE:function(){return o},vt:function(){return s},yo:function(){return i}});var r=n(88120),a=n(91280);function i(e){var t={method:"PUT",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/users/update",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function o(e){var t={method:"PUT",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/users/update-me",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/users/register",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/users/register-me",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function c(e){var t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/users/forgot-password",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function d(){var e={method:"GET",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/users/me",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function u(e){var t="/users/"+e,n={method:"GET",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function p(e){var t={method:"POST",headers:new Headers({Authorization:(0,a.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+"/users",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function h(e){var t={method:"POST",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function m(e){var t={method:"POST",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/admin-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function f(e){var t={method:"POST",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/node-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function x(e){var t={method:"POST",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/viz-token",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function g(e){var t={method:"POST",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function y(e){var t={method:"DELETE",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/delete",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function v(e){var t={method:"DELETE",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/favorites",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function j(e){var t={method:"POST",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+"/users/favorites_list",t).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}function b(){var e={method:"GET",headers:{Authorization:(0,a.g)(),"Content-Type":"application/json"},mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/users/requests",e).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()}))}},91280:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(83171),a=function(){var e=r.M.getState().user.access_token;return"null"===e||null===e?null:"Bearer "+e}},72003:function(e){e.exports=JSON.parse('{"nm":"Loading Dots","ddd":0,"h":1080,"w":1920,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":4,"nm":"Dot4","sr":1,"st":0,"op":360,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-284,92,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[50,50,100],"t":25},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[75,75,100],"t":39},{"s":[50,50,100],"t":55}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[1142,540,0],"t":25,"ti":[0,0,0],"to":[0,-6.667,0]},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[1142,500,0],"t":39,"ti":[0,-6.667,0],"to":[0,0,0]},{"s":[1142,540,0],"t":55}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25],"t":25},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100],"t":39},{"s":[25],"t":55}],"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[120,120],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.6235,0.6235,0.6235,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-284,92],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":1},{"ty":4,"nm":"Dot3","sr":1,"st":0,"op":360,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-284,92,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[50,50,100],"t":17},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[75,75,100],"t":31},{"s":[50,50,100],"t":47}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[1022.0000000000001,540,0],"t":17,"ti":[0,0,0],"to":[0,-6.667,0]},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[1022.0000000000001,500,0],"t":31,"ti":[0,-6.667,0],"to":[0,0,0]},{"s":[1022.0000000000001,540,0],"t":47}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25],"t":17},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100],"t":31},{"s":[25],"t":47}],"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[120,120],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.6235,0.6235,0.6235,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-284,92],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2},{"ty":4,"nm":"Dot2","sr":1,"st":0,"op":360,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-284,92,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[50,50,100],"t":9},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[75,75,100],"t":23},{"s":[50,50,100],"t":39}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[902,540,0],"t":9,"ti":[0,0,0],"to":[0,-6.667,0]},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[902,500,0],"t":23,"ti":[0,0,0],"to":[0,0,0]},{"s":[902,540,0],"t":39}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25],"t":9},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100],"t":23},{"s":[25],"t":39}],"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[120,120],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.6235,0.6235,0.6235,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-284,92],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3},{"ty":4,"nm":"Dot1","sr":1,"st":0,"op":360,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-284,92,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[50,50,100],"t":0},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[75,75,100],"t":14},{"s":[50,50,100],"t":30}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[782,540,0],"t":0,"ti":[0,0,0],"to":[0,-6.667,0]},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[782,500,0],"t":14,"ti":[0,-6.667,0],"to":[0,0,0]},{"s":[782,540,0],"t":30}],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25],"t":0},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[100],"t":14},{"s":[25],"t":30}],"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[120,120],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.6235,0.6235,0.6235,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-284,92],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4}],"v":"5.7.11","fr":60,"op":60,"ip":0,"assets":[]}')}}]);
//# sourceMappingURL=4742.43ac9c50.chunk.js.map