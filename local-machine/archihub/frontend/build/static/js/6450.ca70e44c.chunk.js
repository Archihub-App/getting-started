"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[6450],{72378:function(e,r,t){t.d(r,{EL:function(){return s},WB:function(){return d}});var n=t(89379),a=(t(65043),t(26240)),o=t(81551),i=t(83003),l=t(70579),s=function(e){var r=(0,a.A)(),t=(0,i.d4)((function(e){return e.app.isDarkMode})),s=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:r.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:r.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:r.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,l.jsx)("div",{id:e.id,style:(0,n.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:t?r.palette.grey[900]:"white",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:s.bloque,onMouseDown:e.onMouseDown,onScroll:e.onScroll,children:e.children})},d=function(e){var r=(0,a.A)(),t=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:r.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:r.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:r.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,l.jsx)("div",{id:e.id,style:(0,n.A)({padding:10,backgroundColor:r.palette.grey[100],borderRadius:5,color:r.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:t.bloque,children:e.children})};r.Ay=function(e){var r=e.children,t=e.style;e.onScroll;return(0,l.jsx)("section",{style:(0,n.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},t),children:r})}},86450:function(e,r,t){t.r(r),t.d(r,{Main:function(){return j}});var n=t(89379),a=t(5544),o=t(65043),i=t(83003),l=t(73216),s=t(81551),d=t(16702),c=t(66187),u=t(5670),h=t(19853),b=t(27631),f=t(24394),g=t(63516),p=t(11238),m=t(43288),x=t(58140),y=t(26240),v=t(72378),w=t(70579),k=(0,s.A)((function(e){return{item:{paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,"& h6":{margin:0,marginBottom:5,color:"#666",fontWeight:"bold"},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(odd)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"}},"& input":{width:"100%",padding:5,border:"1px solid #ccc",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderRight:"none"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}}},generateBlock:{display:"flex"},leftInput:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none"}}})),j=function(e){var r=k(),t=(0,o.useState)(!1),s=(0,a.A)(t,2),j=s[0],A=s[1],R=(0,o.useState)(null),C=(0,a.A)(R,2),S=C[0],B=C[1],q=(0,o.useState)(null),L=(0,a.A)(q,2),W=L[0],P=L[1],M=(0,o.useState)(null),N=(0,a.A)(M,2),D=N[0],E=N[1],I=(0,o.useState)({}),T=(0,a.A)(I,2),O=T[0],z=T[1],H=((0,i.d4)((function(e){return e.user})),(0,l.g)().id),F=(0,x.M)().showAlert,V=(0,l.Zp)(),J=(0,y.A)(),G=(0,i.d4)((function(e){return e.app.isDarkMode}));return(0,o.useEffect)((function(){H?(A(!0),u.Hc(H).then((function(e){var r=(0,n.A)({},e);h.O0().then((function(e){var t=[];r.roles.forEach((function(r){var n=e.options.find((function(e){return e.id===r}));t.push(n)})),r.roles=t,P(e.options),h.WP().then((function(e){var t=[];r.accessRights.forEach((function(r){var n=e.options.find((function(e){return e.id===r}));t.push(n)})),r.accessRights=t,E(e.options),B(r)}))}))}))):(A(!1),B({name:"",username:"",password:"",confirmPassword:"",roles:[],accessRights:[]}),h.O0().then((function(e){P(e.options)})),h.WP().then((function(e){E(e.options)})))}),[]),(0,w.jsx)(v.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:(0,w.jsxs)(v.EL,{style:{width:"100%",maxWidth:700,display:"block",overflow:"auto",placeContent:"flex-start"},children:[!S&&(0,w.jsx)(m.A,{}),S&&W&&D&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{style:{display:"flex"},children:[(0,w.jsx)(p.nA,{startIcon:(0,w.jsx)(b.A,{}),label:S.name,style:{borderRadius:5,backgroundColor:G?J.palette.grey[700]:J.palette.grey[200],color:J.palette.grey[500],fontSize:20,margin:2},disabled:!0}),(0,w.jsx)(p.nA,{label:S.username,style:{borderRadius:5,backgroundColor:G?J.palette.grey[700]:J.palette.grey[200],color:J.palette.grey[500],fontSize:16,margin:2},disabled:!0})]}),(0,w.jsx)(g.l1,{initialValues:S,onSubmit:function(e,r){var t=r.setSubmitting;j?F("confirm","\xbfDesea guardar los cambios?").then((function(r){r&&u.yo(JSON.stringify(e)).then((function(e){F("success","El usuario se ha guardado correctamente"),V("/admin/users")})).catch((function(e){t(!1),e.json().then((function(e){z(e.errors),F("error",e.msg)}))}))})):F("confirm","\xbfDesea crear un nuevo usuario?").then((function(r){r&&u.vt(JSON.stringify(e)).then((function(e){F("success","El usuario se ha creado correctamente"),V("/admin/users")})).catch((function(e){t(!1),e.json().then((function(e){z(e.errors),F("error",e.msg)}))}))}))},children:function(e){var t=e.values,n=(e.errors,e.touched,e.handleChange),a=e.handleBlur,o=e.handleSubmit,i=e.isSubmitting,l=e.setFieldValue;return(0,w.jsxs)("form",{onSubmit:o,children:[!j&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(f.BR,{name:"Nombre",value:t.name,handleChange:n,handleBlur:a,errors:null===O||void 0===O?void 0:O.name,required:!0,id:"name"}),(0,w.jsx)(f.BR,{name:"Correo electr\xf3nico",value:t.username,handleChange:n,handleBlur:a,errors:null===O||void 0===O?void 0:O.username,required:!0,id:"username"}),(0,w.jsx)(f.BR,{name:"Contrase\xf1a",value:t.password,handleChange:n,handleBlur:a,errors:null===O||void 0===O?void 0:O.password,required:!0,id:"password",type:"password"}),(0,w.jsx)(f.BR,{name:"Confirmar contrase\xf1a",value:t.confirmPassword,handleChange:n,handleBlur:a,errors:null===O||void 0===O?void 0:O.confirmPassword,required:!0,id:"confirmPassword",type:"password"})]}),(0,w.jsxs)(d.A,{className:r.item,sx:{background:G?"rgba(255,255,255,0.1) !important":"rgba(255,255,255,0.1)"},children:[(0,w.jsxs)(d.A,{children:[(0,w.jsx)(c.A,{variant:"h6",style:{color:G?J.palette.grey[300]:J.palette.grey[700],fontWeight:"normal"},children:"Roles de usuario"}),(0,w.jsx)(c.A,{variant:"body1",style:{fontSize:14,color:G?J.palette.grey[300]:J.palette.grey[700]},children:"Los roles de usuario desempe\xf1an un papel fundamental en el aplicativo, ya que permiten definir las habilidades y capacidades de cada usuario dentro de la herramienta."})]}),(0,w.jsx)(f.lH,{label:"Roles",options:W,multiple:!0,value:t.roles,handleChange:function(e){l("roles",e)}})]}),(0,w.jsxs)(d.A,{className:r.item,children:[(0,w.jsxs)(d.A,{children:[(0,w.jsx)(c.A,{variant:"h6",style:{color:G?J.palette.grey[300]:J.palette.grey[700],fontWeight:"normal"},children:"Niveles de acceso del usuario"}),(0,w.jsx)(c.A,{variant:"body1",style:{fontSize:14,color:G?J.palette.grey[300]:J.palette.grey[700]},children:"Los niveles de acceso juegan un papel crucial en la aplicaci\xf3n, ya que determinan qu\xe9 informaci\xf3n puede acceder un usuario. Por defecto un usuario puede ver todo el contenido P\xfablico."})]}),(0,w.jsx)(f.lH,{label:"accessRights",options:D,multiple:!0,value:t.accessRights,handleChange:function(e){l("accessRights",e)}})]}),(0,w.jsx)(d.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:(0,w.jsx)(p.nA,{type:"submit",label:j?"Guardar cambios":"Crear usuario",disabled:i,style:{margin:5,width:"auto"}})})]})}})]})]})})};r.default=j},27631:function(e,r,t){var n=t(24994);r.A=void 0;var a=n(t(40039)),o=t(70579);r.A=(0,a.default)((0,o.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline")}}]);
//# sourceMappingURL=6450.ca70e44c.chunk.js.map