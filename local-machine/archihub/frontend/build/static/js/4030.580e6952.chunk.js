"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[4030],{54030:function(t,e,n){n.r(e);var r=n(5544),o=n(65043),i=n(73216),a=n(83003),s=n(77208),c=n(19853),u=n(22505),f=n(72378),d=n(55263),l=(n(30064),n(24208)),h=n(11238),m=n(26240),p=n(43288),g=n(58140),v=n(70579);e.default=function(t){(0,i.g)().id;var e=(0,o.useState)([]),n=(0,r.A)(e,2),j=n[0],b=n[1],y=((0,a.d4)((function(t){return t.user})),(0,m.A)()),A=(0,i.Zp)(),x=(0,g.M)().showAlert,w=(0,o.useState)(!1),T=(0,r.A)(w,2),H=T[0],C=T[1],k=function(){s.n7().then((function(t){b(t)})).catch((function(t){console.log(t)}))};(0,o.useEffect)((function(){k()}),[]);var S=function(t){x("confirm","\xbfEst\xe1s seguro? Esta acci\xf3n no se puede revertir").then((function(e){e&&(C(!0),s.i6(t).then((function(t){C(!1),k()})).catch((function(t){C(!1),t.json().then((function(t){x("error",t.msg)}))})))})).catch((function(t){console.log(t)}))},D=function(t){x("confirm","\xbfDeseas crear un duplicado de este estandar de metadatos?").then((function(e){e&&(C(!0),s.YD(t).then((function(t){C(!1),k()})).catch((function(t){C(!1),t.json().then((function(t){x("error",t.msg)}))})))})).catch((function(t){console.log(t)}))},P=function(t){x("confirm","\xbfDeseas descargar un archivo con los datos de este formulario?").then((function(e){e&&(C(!0),c.Gj("inventoryMaker",JSON.stringify({parent:t}),"bulk-forms").then((function(t){C(!1),x("success",t.msg)})).catch((function(t){C(!1),t.json().then((function(t){x("error",t.msg)}))})))}))};return(0,v.jsxs)(f.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,v.jsxs)(f.EL,{style:{width:"70%",maxWidth:400,display:"block",overflow:"auto",placeContent:"flex-start"},children:[(0,v.jsx)("div",{style:{padding:10},children:(0,v.jsx)(d.A,{style:{justifyContent:"space-between",minHeight:"auto",padding:0},children:(0,v.jsx)(h.nA,{startIcon:(0,v.jsx)(u.A,{}),label:"Crear nuevo",style:{borderRadius:5,backgroundColor:y.palette.success.light,color:y.palette.success.main},onClick:function(){return A("/cataloging/forms/new")}})})}),0===j.length&&(0,v.jsx)(p.A,{}),j.map((function(t,e){return(0,v.jsx)(l.TarjetaItem,{title:t.name,description:t.description,slug:t.slug,onDeleted:S,onDuplicate:D,onDownload:P,type:"cataloging/forms"},e)}))]}),H&&(0,v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,v.jsx)(p.A,{})})]})}},77208:function(t,e,n){n.d(e,{DG:function(){return c},Rs:function(){return a},YD:function(){return f},i6:function(){return u},n7:function(){return i},wi:function(){return s}});var r=n(88120),o=n(91280);function i(){var t={method:"GET",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+"/forms",t).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/forms/"+t,i={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,r.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function s(t,e){var n="/forms/"+t,i={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,r.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function c(t){var e={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,r.H6)()+"/forms",e).then((function(t){return 201!==t.status?Promise.reject(t):t.json()}))}function u(t){var e="/forms/"+t,n={method:"DELETE",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+e,n).then((function(t){if(204!==t.status)return Promise.reject(t)}))}function f(t){var e="/forms/duplicate/"+t,n={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,r.H6)()+e,n).then((function(t){if(201!==t.status)return Promise.reject(t)}))}},55263:function(t,e,n){n.d(e,{A:function(){return v}});var r=n(64467),o=n(98587),i=n(58168),a=n(65043),s=n(69292),c=n(98610),u=n(98206),f=n(34535),d=n(92532),l=n(72372);function h(t){return(0,l.Ay)("MuiToolbar",t)}(0,d.A)("MuiToolbar",["root","gutters","regular","dense"]);var m=n(70579),p=["className","component","disableGutters","variant"],g=(0,f.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})((function(t){var e=t.theme,n=t.ownerState;return(0,i.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,r.A)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(t){var e=t.theme;return"regular"===t.ownerState.variant&&e.mixins.toolbar})),v=a.forwardRef((function(t,e){var n=(0,u.b)({props:t,name:"MuiToolbar"}),r=n.className,a=n.component,f=void 0===a?"div":a,d=n.disableGutters,l=void 0!==d&&d,v=n.variant,j=void 0===v?"regular":v,b=(0,o.A)(n,p),y=(0,i.A)({},n,{component:f,disableGutters:l,variant:j}),A=function(t){var e=t.classes,n={root:["root",!t.disableGutters&&"gutters",t.variant]};return(0,c.A)(n,h,e)}(y);return(0,m.jsx)(g,(0,i.A)({as:f,className:(0,s.A)(A.root,r),ref:e,ownerState:y},b))}))}}]);
//# sourceMappingURL=4030.580e6952.chunk.js.map