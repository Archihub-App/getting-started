"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[4030],{54030:function(t,e,n){n.r(e);var o=n(5544),r=n(65043),i=n(73216),a=n(83003),s=n(99246),c=n(77208),u=n(19853),f=n(22505),l=n(72378),d=n(55263),h=n(41882),g=n(11238),m=n(26240),p=n(43288),v=n(58140),j=n(70579);e.default=function(t){(0,i.g)().id;var e=(0,r.useState)([]),n=(0,o.A)(e,2),b=n[0],y=n[1],A=((0,a.d4)((function(t){return t.user})),(0,m.A)()),w=(0,i.Zp)(),x=(0,v.M)().showAlert,T=(0,r.useState)(!1),H=(0,o.A)(T,2),C=H[0],k=H[1],D=(0,s.A)(),S=function(){c.n7().then((function(t){y(t)})).catch((function(t){console.log(t)}))};(0,r.useEffect)((function(){S()}),[]);var M=function(t){x("confirm",D.formatMessage({id:"cataloging.confirmDelete"})).then((function(e){e&&(k(!0),c.i6(t).then((function(t){k(!1),S()})).catch((function(t){k(!1),t.json().then((function(t){x("error",t.msg)}))})))})).catch((function(t){console.log(t)}))},P=function(t){x("confirm",D.formatMessage({id:"cataloging.confirmCreateDuplicate"})).then((function(e){e&&(k(!0),c.YD(t).then((function(t){k(!1),S()})).catch((function(t){k(!1),t.json().then((function(t){x("error",t.msg)}))})))})).catch((function(t){console.log(t)}))},G=function(t){x("confirm",D.formatMessage({id:"cataloging.confirmDownloadInventory"})).then((function(e){e&&(k(!0),u.Gj("inventoryMaker",JSON.stringify({parent:t}),"bulk-forms").then((function(t){k(!1),x("success",t.msg)})).catch((function(t){k(!1),t.json().then((function(t){x("error",t.msg)}))})))}))};return(0,j.jsxs)(l.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,j.jsxs)(l.EL,{style:{width:"70%",maxWidth:400,display:"block",overflow:"auto",placeContent:"flex-start"},children:[(0,j.jsx)("div",{style:{padding:10},children:(0,j.jsx)(d.A,{style:{justifyContent:"space-between",minHeight:"auto",padding:0},children:(0,j.jsx)(g.nA,{startIcon:(0,j.jsx)(f.A,{}),label:D.formatMessage({id:"cataloging.createNew"}),style:{borderRadius:5,backgroundColor:A.palette.success.light,color:A.palette.success.main},onClick:function(){return w("/cataloging/forms/new")}})})}),0===b.length&&(0,j.jsx)(p.A,{}),b.map((function(t,e){return(0,j.jsx)(h.TarjetaItem,{title:t.name,description:t.description,slug:t.slug,onDeleted:M,onDuplicate:P,onDownload:G,type:"cataloging/forms"},e)}))]}),C&&(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,j.jsx)(p.A,{})})]})}},77208:function(t,e,n){n.d(e,{DG:function(){return c},Rs:function(){return a},YD:function(){return f},i6:function(){return u},n7:function(){return i},wi:function(){return s}});var o=n(88120),r=n(91280);function i(){var t={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+"/forms",t).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/forms/"+t,i={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function s(t,e){var n="/forms/"+t,i={method:"PUT",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch((0,o.H6)()+n,i).then((function(t){return 200!==t.status?Promise.reject(t):t.json()}))}function c(t){var e={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch((0,o.H6)()+"/forms",e).then((function(t){return 201!==t.status?Promise.reject(t):t.json()}))}function u(t){var e="/forms/"+t,n={method:"DELETE",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){if(204!==t.status)return Promise.reject(t)}))}function f(t){var e="/forms/duplicate/"+t,n={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default"};return fetch((0,o.H6)()+e,n).then((function(t){if(201!==t.status)return Promise.reject(t)}))}},55263:function(t,e,n){n.d(e,{A:function(){return v}});var o=n(64467),r=n(98587),i=n(58168),a=n(65043),s=n(69292),c=n(98610),u=n(98206),f=n(34535),l=n(92532),d=n(72372);function h(t){return(0,d.Ay)("MuiToolbar",t)}(0,l.A)("MuiToolbar",["root","gutters","regular","dense"]);var g=n(70579),m=["className","component","disableGutters","variant"],p=(0,f.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})((function(t){var e=t.theme,n=t.ownerState;return(0,i.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,o.A)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(t){var e=t.theme;return"regular"===t.ownerState.variant&&e.mixins.toolbar})),v=a.forwardRef((function(t,e){var n=(0,u.b)({props:t,name:"MuiToolbar"}),o=n.className,a=n.component,f=void 0===a?"div":a,l=n.disableGutters,d=void 0!==l&&l,v=n.variant,j=void 0===v?"regular":v,b=(0,r.A)(n,m),y=(0,i.A)({},n,{component:f,disableGutters:d,variant:j}),A=function(t){var e=t.classes,n={root:["root",!t.disableGutters&&"gutters",t.variant]};return(0,c.A)(n,h,e)}(y);return(0,g.jsx)(p,(0,i.A)({as:f,className:(0,s.A)(A.root,o),ref:e,ownerState:y},b))}))}}]);
//# sourceMappingURL=4030.0fe7e706.chunk.js.map