(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[9088],{64904:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var a=n(5544),r=n(65043),o=function(e,t){var n,o=r.useState(null!==(n=JSON.parse(localStorage.getItem(e)))&&void 0!==n?n:t),i=(0,a.A)(o,2),s=i[0],l=i[1];return r.useEffect((function(){localStorage.setItem(e,JSON.stringify(s))}),[s,e]),[s,l]}},29088:function(e,t,n){"use strict";n.r(t),n.d(t,{Main:function(){return se},default:function(){return le}});var a=n(65043),r=n(83003),o=n(85211),i=n(72378),s=n(17135),l=n(5544),c=n(19853),d=n(41905),u=n(8168),f=n(51715),p=n(95382),m=n(43845),g=n(71806),h=n(73460),x=n(28076),v=n(10039),b=n(18751),y=n(72620),A=n(72450),j=n.n(A),w=n(26240),k=n(99246),M=n(18018),S=n(58140),C=n(70579),R=function(e){var t=(0,w.A)(),n=(0,r.d4)((function(e){return e.app.isDarkMode})),o=(0,d.A)((function(e){return{btn_color:{color:"".concat(t.palette.primary.main," !important"),backgroundColor:n?"".concat(t.palette.primary.light," !important"):"transparent",padding:"5px !important",width:"20px !important",height:"20px !important",margin:"0 2px !important",borderRadius:"50%",border:"1px solid ".concat(t.palette.primary.light," !important"),"&:hover":{color:"#fff !important",backgroundColor:"".concat(t.palette.primary.main," !important")},"& .MuiSvgIcon-root":{width:"14px !important"}}}}))(),i=(0,a.useState)([]),s=(0,l.A)(i,2),A=s[0],R=s[1],T=(0,a.useState)(0),L=(0,l.A)(T,2),z=L[0],B=L[1],N=(0,a.useState)(0),_=(0,l.A)(N,2),E=_[0],H=_[1],F=(0,k.A)(),U=(0,S.M)().showAlert;(0,a.useEffect)((function(){var t={page:z};c.SP(e.user,JSON.stringify(t)).then((function(e){R(e)})).catch((function(e){console.log(e)})),c.Eh(e.user).then((function(e){H(e)})).catch((function(e){console.log(e)}))}),[z]);var O=function(e){var t=new Date(e);"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds());return t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})};return(0,C.jsx)(u.A,{pagination:!0,resources:A,perpage:10,page:z,setPage:function(e){return B(e)},total:E,columns:[{destiny:"date",label:F.formatMessage({id:"general.date"})},{destiny:"name",label:F.formatMessage({id:"general.name"})},{destiny:"status",label:F.formatMessage({id:"general.status"})},{destiny:"",label:""},{destiny:"user",label:F.formatMessage({id:"general.user"})}],columnSolver:function(a,r){return(0,C.jsxs)(C.Fragment,{children:["name"===r.destiny&&(0,C.jsx)("span",{children:F.formatMessage({id:a.name})}),"status"===r.destiny&&(0,C.jsx)(C.Fragment,{children:"pending"===a.status?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.A,{className:"".concat(o.btn_color)}),(0,C.jsx)(M.A,{onClick:function(){return t=a.taskId,void U("confirm",F.formatMessage({id:"tasks.confirmDelete"})).then((function(n){n&&c.u0(t).then((function(t){U("success",t.msg);var n={page:z};c.SP(e.user,JSON.stringify(n)).then((function(e){R(e)})).catch((function(e){console.log(e)}))})).catch((function(e){U("error",e.msg)}))}));var t},className:"".concat(o.btn_color)})]}):"completed"===a.status?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(p.A,{className:"".concat(o.btn_color)})}):"failed"===a.status?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(y.A,{className:"".concat(o.btn_color)})}):(0,C.jsx)(C.Fragment,{})}),"date"===r.destiny&&(0,C.jsx)(C.Fragment,{children:O(a.date.$date)}),""===r.destiny&&"completed"===a.status&&"file_download"===a.resultType&&(0,C.jsx)(m.A,{label:F.formatMessage({id:"general.download"}),icon:(0,C.jsx)(b.A,{}),onClick:function(){return e=a.name.split(".")[0],t=a.taskId,void c.EI(e,t).then((function(t){var n=t.blob,a=t.contentDisp,r="";r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===n.type?"xlsx":"application/pdf"===n.type?"pdf":"application/zip"===n.type?"zip":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===n.type?"docx":a.split(".")[1],j().saveAs(n,"".concat(e,".").concat(r))})).catch((function(e){console.log(e)}));var e,t},sx:{color:t.palette.primary.main,backgroundColor:n?t.palette.primary.light:"transparent","& .MuiSvgIcon-root":{color:t.palette.primary.main}}}),""===r.destiny&&"completed"===a.status&&a.result&&"file_download"!==a.resultType&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("span",{children:a.result})}),""===r.destiny&&"pending"===a.status&&a.result&&(0,C.jsx)(g.A,{size:"small",sx:{maxWidth:"300px",border:"1px solid ".concat(t.palette.divider),borderRadius:"4px",backgroundColor:n?t.palette.background.paper:"transparent"},children:(0,C.jsx)(h.A,{children:Object.keys(a.result).map((function(e){return(0,C.jsx)(x.A,{children:(0,C.jsx)(v.A,{sx:{borderBottom:"1px solid ".concat(t.palette.divider)},children:"progress"===e?(0,C.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:(0,C.jsxs)("div",{style:{position:"relative",width:"100%",height:"20px",backgroundColor:t.palette.grey[200],borderRadius:"4px",overflow:"hidden"},children:[(0,C.jsx)("div",{style:{width:"".concat(a.result[e],"%"),height:"100%",backgroundColor:t.palette.primary.main}}),(0,C.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:parseInt(a.result[e])>50?"#fff":t.palette.text.primary},children:[isNaN(a.result[e])?a.result[e]:Number(parseFloat(a.result[e]).toFixed(2)),"%"]})]})}):"time"===e?function(){var t=a.result[e];try{var n=new Date(t);return n.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(r){return t}}():"object"===typeof a.result[e]?JSON.stringify(a.result[e]):String(a.result[e])})},e)}))})}),"user"===r.destiny&&(0,C.jsx)("span",{children:a.user})]})}})},T=n(5670),L=n(55263),z=n(77739),B=n(64904),N=n(28780),_=n(15089),E=n(73216),H=n(88455),F=n(43288),U=function(e){var t=(0,w.A)(),n=(0,k.A)(),o=(0,E.Zp)(),i=(0,d.A)((function(e){return{chip_style:{margin:"1px 2px !important",backgroundColor:t.palette.primary.light+" !important",color:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:t.palette.primary.main+" !important",color:"#fff !important","& path":{fill:"#fff !important"}}}}}))(),s=(0,a.useState)([]),c=(0,l.A)(s,2),f=c[0],p=c[1],g=(0,a.useState)(0),h=(0,l.A)(g,2),x=h[0],v=h[1],b=(0,a.useState)(0),y=(0,l.A)(b,2),A=y[0],j=y[1],M=(0,B.M)("favView","resources"),S=(0,l.A)(M,2),R=S[0],U=S[1],O=(0,r.wA)(),D=(0,r.d4)((function(e){return e.user})),I=(0,a.useState)(!0),q=(0,l.A)(I,2),P=q[0],G=q[1];(0,a.useEffect)((function(){W()}),[]),(0,a.useEffect)((function(){W()}),[x,R]);var W=function(){p([]),G(!0),T.qM({type:R,page:x}).then((function(e){G(!1),p(e.results),j(e.total)})).catch((function(e){console.log(e)}))},V=function(e){var t={type:R,id:e};T.C5(t).then((function(e){W(),O((0,H.me)(D.access_token))})).catch((function(e){console.log(e)}))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{padding:5,marginBottom:5,width:"calc(100% - 10px)"},children:(0,C.jsx)(L.A,{style:{minHeight:"auto",margin:5,justifyContent:"center"},children:(0,C.jsx)(_.A,{value:R,list:[{label:n.formatMessage({id:"general.resources"}),value:"resources"},{label:n.formatMessage({id:"general.files"}),value:"records"}],onChange:function(e){p([]),U(e.value)}})})}),f.length>0&&"resources"===R&&(0,C.jsx)(u.A,{pagination:!0,resources:f,page:x,setPage:v,total:A,perpage:20,columns:[{destiny:"",label:""},{destiny:"metadata.firstLevel.title",label:n.formatMessage({id:"general.title"})}],columnSolver:function(e,t){return(0,C.jsxs)(C.Fragment,{children:["metadata.firstLevel.title"===t.destiny&&(0,C.jsx)("span",{children:e.metadata.firstLevel.title}),""===t.destiny&&(0,C.jsx)(L.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:(0,C.jsx)(z.A,{title:n.formatMessage({id:"general.remove"}),placement:"top",children:(0,C.jsx)(m.A,{label:"",size:"small",icon:(0,C.jsx)(N.A,{}),onClick:function(){return V(e.id)},className:i.chip_style})})})]})},handleClick:function(e){e.view?o("/explore/".concat(e.view,"/detail/").concat(e.id)):o("/detail/".concat(e.id))}}),P&&(0,C.jsx)(F.A,{}),f.length>0&&"records"===R&&(0,C.jsx)(u.A,{pagination:!0,resources:f,page:x,setPage:v,total:A,perpage:20,columns:[{destiny:"",label:""},{destiny:"name",label:n.formatMessage({id:"general.title"})}],columnSolver:function(e,t){return(0,C.jsxs)(C.Fragment,{children:["name"===t.destiny&&(0,C.jsx)("span",{children:e.displayName?e.displayName:e.name}),""===t.destiny&&(0,C.jsx)(L.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:(0,C.jsx)(z.A,{title:n.formatMessage({id:"general.remove"}),placement:"top",children:(0,C.jsx)(m.A,{label:"",size:"small",icon:(0,C.jsx)(N.A,{}),onClick:function(){return V(e.id)},className:i.chip_style})})})]})},handleClick:function(e){o("/file/".concat(e.id))}})]})},O=n(24394),D=n(63516),I=n(11238),q=function(e){var t=(0,a.useState)(null),n=(0,l.A)(t,2),o=n[0],i=n[1],s=(0,r.d4)((function(e){return e.user})),c=(0,r.wA)(),d=(0,S.M)().showAlert,u=(0,k.A)();return(0,a.useEffect)((function(){i({name:s.name,password:"",password_confirmation:""})}),[e.user]),(0,C.jsx)(C.Fragment,{children:o&&(0,C.jsx)(D.l1,{initialValues:o,onSubmit:function(e){d("askUserInput",u.formatMessage({id:"profile.updateConfirm"}),"password").then((function(t){("boolean"!==typeof t||t)&&T.vE(JSON.stringify({name:e.name,password:t,new_password:e.password,new_password_confirmation:e.password_confirmation})).then((function(e){d("success",e.msg),c((0,H.me)(s.access_token))})).catch((function(e){e.json().then((function(e){d("error","".concat(e.msg))}))}))}))},children:function(e){var t=e.values,n=(e.errors,e.touched,e.handleChange),a=e.handleBlur,r=e.handleSubmit;e.isSubmitting,e.setFieldValue;return(0,C.jsxs)("form",{style:{width:"100%"},onSubmit:r,children:[(0,C.jsx)(O.BR,{name:u.formatMessage({id:"profile.name"}),id:"name",value:t.name,handleChange:n,handleBlur:a}),(0,C.jsx)(O.BR,{name:u.formatMessage({id:"profile.password"}),id:"password",type:"password",value:t.password,handleChange:n,handleBlur:a}),(0,C.jsx)(O.BR,{name:u.formatMessage({id:"profile.confirmPassword"}),id:"password_confirmation",type:"password",value:t.password_confirmation,handleChange:n,handleBlur:a}),(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:(0,C.jsx)(I.nA,{label:u.formatMessage({id:"profile.save"}),type:"submit",style:{width:"300px"}})})]})}})})},P=n(60436),G=n(48210),W=n(98787),V=n(91784),J=function(e){var t=(0,w.A)(),n=(0,k.A)(),r=(0,d.A)((function(e){return{chip_style:{margin:"1px 2px !important",backgroundColor:t.palette.primary.light+" !important",color:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important","& svg":{width:"15px !important",marginLeft:"10px !important"},"& path":{fill:t.palette.primary.main+" !important",transition:"all .3s ease-in-out !important"},"&:hover":{backgroundColor:t.palette.primary.main+" !important",color:"#fff !important","& path":{fill:"#fff !important"}}}}}))(),o=(0,B.M)("snapView","image"),i=(0,l.A)(o,2),s=i[0],c=i[1],f=(0,a.useState)([]),p=(0,l.A)(f,2),g=p[0],h=p[1],x=(0,a.useState)(0),v=(0,l.A)(x,2),b=v[0],y=v[1],A=(0,a.useState)(0),j=(0,l.A)(A,2),M=j[0],S=j[1],R=(0,a.useState)(!0),T=(0,l.A)(R,2),H=T[0],U=T[1],O=(0,E.Zp)(),D=function(e){var t=g.findIndex((function(t){return t._id===e}));if(g[t].snap){var n=(0,P.A)(g);n[t].snap=null,h(n)}else G.rQ(e).then((function(e){var n=(0,P.A)(g),a=new Blob([e],{type:"image/jpeg"}),r=URL.createObjectURL(a);n[t].snap=(0,C.jsx)("img",{src:r,alt:"snap",style:{width:"100%"}}),h(n)}))},I=function(){U(!0),G._e({page:b,type:s}).then((function(e){h(e.results),S(e.total),U(!1)}))};(0,a.useEffect)((function(){I()}),[]),(0,a.useEffect)((function(){I()}),[b,s]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{padding:5,marginBottom:5,width:"calc(100% - 10px)"},children:(0,C.jsx)(L.A,{style:{minHeight:"auto",margin:5,justifyContent:"center"},children:(0,C.jsx)(_.A,{value:s,list:[{value:"image",label:n.formatMessage({id:"general.images"})},{value:"document",label:n.formatMessage({id:"general.documents"})},{value:"audio",label:n.formatMessage({id:"general.audios"})},{value:"video",label:n.formatMessage({id:"general.videos"})},{value:"transcription",label:n.formatMessage({id:"general.transcriptions"})}],onChange:function(e){h([]),c(e.value)}})})}),H&&(0,C.jsx)(F.A,{}),g.length>0&&!H&&(0,C.jsx)(u.A,{pagination:!0,resources:g,page:b,setPage:y,total:M,perpage:20,columns:[{destiny:"",label:""},{destiny:"record_name",label:n.formatMessage({id:"general.filename"})}],columnSolver:function(e,t){return(0,C.jsxs)(C.Fragment,{children:["record_name"===t.destiny&&(0,C.jsx)("span",{children:e.record_name}),""===t.destiny&&(0,C.jsxs)(L.A,{disableGutters:!0,variant:"dense",style:{minHeight:"auto",display:"flex",justifyContent:"center",flexFlow:"wrap"},children:[(0,C.jsx)(z.A,{title:n.formatMessage({id:"snaps.view"}),placement:"top",children:(0,C.jsx)(m.A,{label:"",size:"small",icon:(0,C.jsx)(V.A,{}),onClick:function(){D(e._id)},className:r.chip_style})}),(0,C.jsx)(z.A,{title:n.formatMessage({id:"general.remove"}),placement:"top",children:(0,C.jsx)(m.A,{label:"",size:"small",icon:(0,C.jsx)(N.A,{}),onClick:function(){return t=e._id,void G.u5(t).then((function(e){I()}));var t},className:r.chip_style})}),(0,C.jsx)(z.A,{title:n.formatMessage({id:"snaps.viewFile"}),placement:"top",children:(0,C.jsx)(m.A,{label:"",size:"small",icon:(0,C.jsx)(W.A,{}),onClick:function(){O("/file/".concat(e.record_id))},className:r.chip_style})})]})]})},handleClick:function(e){D(e._id)}})]})},X=n(89379),Q=n(96446),Z=n(17392),K=n(11906),Y=n(85865),$=n(81551),ee=n(4002),te=n(47260),ne=n(72819),ae=(0,$.A)((function(e){return{item:{paddingTop:10,paddingLeft:5,alignContent:"flex-start",alignItems:"center",textAlign:"left",borderBottom:"1px solid #ccc",paddingBottom:20,width:"100%","& h6":{margin:0,marginBottom:5,color:"#666",fontWeight:"bold"},"&:last-child":{borderBottom:"none",borderBottomLeftRadius:10,borderBottomRightRadius:10},"&:nth-child(odd)":{background:e.palette.grey[100]},"&:first-child":{marginTop:10},"& label":{width:150,textAlign:"left",paddingRight:10,fontWeight:"bold",color:"#666","& span":{color:"red",marginLeft:5},"&.simple":{fontWeight:"normal"}},"& input":{width:"100%",padding:5,border:"1px solid #ccc",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderRight:"none"},"& textarea":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& select":{width:"100%",padding:5,borderRadius:5,border:"1px solid #ccc"},"& input[type=checkbox]":{width:"auto"},"& input, & textarea, & select":{"&:focus":{outline:"none",border:"1px solid rgba(42, 80, 130, 0.8)"}},"&.error":{background:"rgba(255,0,0,0.05)","& label":{color:"red"}}},generateBlock:{display:"flex"},leftInput:{borderTopRightRadius:0,borderBottomRightRadius:0},rightButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none"},sliderContainer:{width:"100%",display:"flex",marginTop:10},counter:{borderRadius:3,borderTopLeftRadius:0,borderBottomLeftRadius:0,boxShadow:"none",minWidth:100,background:"#eee",border:"1px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center"},slider:{borderRadius:3,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",width:"100%",border:"1px solid #ccc",borderRight:"none",position:"relative"},anim:{position:"absolute",top:0,left:0,height:"100%",background:"#56749a",transition:"width .3s ease-in-out"}}})),re=function(e){var t=ae(),n=(0,a.useState)("password"),o=(0,l.A)(n,2),i=o[0],s=o[1],c=(0,w.A)(),d=(0,S.M)().showAlert,u=(0,r.d4)((function(e){return e.app.isDarkMode})),f=(0,k.A)();return(0,C.jsxs)(Q.A,{className:t.generateBlock,children:[(0,C.jsx)("input",{type:i,value:e.value,readOnly:!0,className:t.leftInput}),(0,C.jsx)(Z.A,{sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none",background:u?c.palette.grey[800]:c.palette.grey[100],color:u?c.palette.grey[600]:"#666"},children:"password"===i?(0,C.jsx)(te.A,{onClick:function(){return s("text")}}):(0,C.jsx)(ne.A,{onClick:function(){return s("password")}})}),(0,C.jsx)(K.A,{variant:"outlined",className:t.rightButton,sx:{boxShadow:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"1px solid #ccc",background:u?c.palette.grey[800]:c.palette.grey[100],color:u?c.palette.grey[200]:"#666"},onClick:function(){var t=e.timed?"askUserInputGenerate":"askUserInput";d(t,"","password").then((function(t){t&&(e.timed?e.callback(t).then((function(t){d("success","Token generado"),e.requestUser()})).catch((function(e){d("error","Error al generar token")})):e.callback({password:t}).then((function(t){d("success","Token generado"),e.requestUser()})).catch((function(e){d("error","Error al generar token")})))}))},children:f.formatMessage({id:"general.generate"})})]})},oe=function(e){var t=ae(),n=(0,a.useState)(0),o=(0,l.A)(n,2),i=o[0],s=o[1],c=(0,r.d4)((function(e){return e.app.isDarkMode}));(0,a.useEffect)((function(){d()}),[]);var d=function(){T.nH().then((function(e){s(e.requests)})).catch((function(e){console.log(e)}))};return(0,C.jsxs)(Q.A,{className:t.sliderContainer,children:[(0,C.jsx)(Q.A,{className:t.slider,children:(0,C.jsx)(Q.A,{className:t.anim,sx:{width:"".concat(i/2e3*100,"%")}})}),(0,C.jsx)(Z.A,{onClick:function(){d()},sx:{borderRadius:0,border:"1px solid #ccc",borderRight:"none",background:c?"#333":"#fff",color:c?"#fff":"#666"},children:(0,C.jsx)(ee.A,{})}),(0,C.jsxs)(Q.A,{className:t.counter,style:{background:c?"#333":"#fff",color:c?"#fff":"#666"},children:[i,"/2000"]})]})},ie=function(e){var t=(0,r.d4)((function(e){return e.user})),n=(0,a.useState)(null),o=(0,l.A)(n,2),i=o[0],s=o[1],c=ae(),d=(0,w.A)(),u=(0,r.d4)((function(e){return e.app.isDarkMode})),f=(0,k.A)(),p=function(){T.Jt().then((function(e){var t={};e.adminToken&&(t=(0,X.A)((0,X.A)({},t),{},{adminToken:e.adminToken})),e.token&&(t=(0,X.A)((0,X.A)({},t),{},{token:e.token})),e.vizToken&&(t=(0,X.A)((0,X.A)({},t),{},{vizToken:e.vizToken})),e.nodeToken&&(t=(0,X.A)((0,X.A)({},t),{},{nodeToken:e.nodeToken})),e.requests&&(t=(0,X.A)((0,X.A)({},t),{},{requests:e.requests})),s(t)})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){p()}),[]),(0,C.jsxs)(C.Fragment,{children:[!i&&(0,C.jsx)(F.A,{}),i&&(0,C.jsxs)(C.Fragment,{children:[t.roles.includes("admin")&&(0,C.jsx)(Q.A,{className:c.item,sx:{"&:nth-child(odd)":{background:"rgba(255,255,255,.1)"}},children:(0,C.jsxs)(Q.A,{children:[(0,C.jsx)(Y.A,{variant:"h6",style:{color:u?d.palette.grey[200]:"#666",fontWeight:"normal"},children:f.formatMessage({id:"auth.adminToken"})}),(0,C.jsx)(Y.A,{variant:"body1",style:{fontSize:14,marginBottom:10,color:u?d.palette.grey[200]:"#666"},children:f.formatMessage({id:"auth.adminTokenDesc"})}),(0,C.jsx)(re,{value:i.adminToken?i.adminToken:"",callback:T.ke,requestUser:p,timed:!0})]})}),t.roles.includes("admin")&&(0,C.jsx)(Q.A,{className:c.item,sx:{"&:nth-child(odd)":{background:"rgba(255,255,255,.1)"}},children:(0,C.jsxs)(Q.A,{children:[(0,C.jsx)(Y.A,{variant:"h6",style:{color:u?d.palette.grey[200]:"#666",fontWeight:"normal"},children:f.formatMessage({id:"auth.processingToken"})}),(0,C.jsx)(Y.A,{variant:"body1",style:{fontSize:14,marginBottom:10,color:u?d.palette.grey[200]:"#666"},children:f.formatMessage({id:"auth.processingTokenDesc"})}),(0,C.jsx)(re,{value:i.nodeToken?i.nodeToken:"",callback:T.XG,requestUser:p})]})}),t.roles.includes("visualizer")&&(0,C.jsx)(Q.A,{className:c.item,sx:{"&:nth-child(odd)":{background:"rgba(255,255,255,.1)"}},children:(0,C.jsxs)(Q.A,{children:[(0,C.jsx)(Y.A,{variant:"h6",style:{color:u?d.palette.grey[200]:"#666",fontWeight:"normal"},children:f.formatMessage({id:"auth.vizToken"})}),(0,C.jsx)(Y.A,{variant:"body1",style:{fontSize:14,marginBottom:10,color:u?d.palette.grey[200]:"#666"},children:f.formatMessage({id:"auth.vizTokenDesc"})}),(0,C.jsx)(re,{value:i.vizToken?i.vizToken:"",callback:T.S,requestUser:p})]})})]}),i&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Q.A,{className:c.item,sx:{"&:nth-child(odd)":{background:"rgba(255,255,255,.1)"}},children:(0,C.jsxs)(Q.A,{children:[(0,C.jsx)(Y.A,{variant:"h6",style:{color:u?d.palette.grey[200]:"#666",fontWeight:"normal"},children:f.formatMessage({id:"auth.publicAPI"})}),(0,C.jsx)(Y.A,{variant:"body1",style:{fontSize:14,marginBottom:10,color:u?d.palette.grey[200]:"#666"},children:f.formatMessage({id:"auth.publicAPIDesc"})}),(0,C.jsx)(re,{value:i.token?i.token:"",callback:T.HU,requestUser:p})]})}),(0,C.jsx)(Q.A,{className:c.item,sx:{"&:nth-child(odd)":{background:"rgba(255,255,255,.1)"}},children:(0,C.jsxs)(Q.A,{sx:{width:"100%"},children:[(0,C.jsx)(Y.A,{variant:"h6",style:{fontWeight:"normal",color:u?d.palette.grey[200]:"#666"},children:f.formatMessage({id:"auth.weekRequests"})}),(0,C.jsx)(oe,{})]})})]})]})},se=function(e){var t=(0,r.wA)(),n=(0,r.d4)((function(e){return e.user})),l=(0,r.d4)((function(e){return e.app.views}));return(0,a.useEffect)((function(){if(!l.profile){var e=(0,o.FU)(l,"profile",{tab:"profile"});t((0,o.GD)(e))}}),[]),(0,C.jsx)(i.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:l.profile&&(0,C.jsxs)(i.EL,{style:{display:"flex",height:"calc(100% - 40px)",maxWidth:900,placeContent:"flex-start",overflow:"auto"},children:["keys"===l.profile.tab&&(0,C.jsx)(ie,{}),"profile"===l.profile.tab&&(0,C.jsx)(q,{user:n,requestUser:e.requestUser}),"favorites"===l.profile.tab&&(0,C.jsx)(U,{}),"snaps"===l.profile.tab&&(0,C.jsx)(J,{}),"tasks"===l.profile.tab&&(0,C.jsx)(R,{user:n.name}),"usertasks"===l.profile.tab&&(0,C.jsx)(s.A,{user:n.name}),"autotasks"===l.profile.tab&&(0,C.jsx)(R,{user:"automatic"})]})})},le=se},48210:function(e,t,n){"use strict";n.d(t,{_e:function(){return i},rQ:function(){return l},u5:function(){return s},vt:function(){return o}});var a=n(88120),r=n(91280);function o(e){var t={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,a.H6)()+"/snaps",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}function i(e){var t={method:"POST",headers:new Headers({Authorization:(0,r.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)};return fetch((0,a.H6)()+"/users/snaps",t).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(e){var t="/snaps/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 204!==e.status?Promise.reject(e):e}))}function l(e){var t="/snaps/"+e,n={method:"GET",headers:new Headers({Authorization:(0,r.g)()}),mode:"cors",cache:"default"};return fetch((0,a.H6)()+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.blob()}))}},98787:function(e,t,n){"use strict";var a=n(24994),r=n(6305);t.A=void 0;var o=r(n(65043)),i=(0,a(n(59846)).default)(o.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link");t.A=i},4002:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}),"Cached")},95382:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},18018:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM17 15.74 15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12z"}),"Dangerous")},72620:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)([(0,o.jsx)("circle",{cx:"12",cy:"19",r:"2"},"0"),(0,o.jsx)("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHigh")},28780:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle")},47260:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},72819:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},51715:function(e,t,n){"use strict";var a=n(24994);t.A=void 0;var r=a(n(40039)),o=n(70579);t.A=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m4.2 14.2L11 13V7h1.5v5.2l4.5 2.7z"}),"WatchLater")},55263:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var a=n(64467),r=n(98587),o=n(58168),i=n(65043),s=n(69292),l=n(98610),c=n(98206),d=n(34535),u=n(92532),f=n(72372);function p(e){return(0,f.Ay)("MuiToolbar",e)}(0,u.A)("MuiToolbar",["root","gutters","regular","dense"]);var m=n(70579),g=["className","component","disableGutters","variant"],h=(0,d.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,a.A)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),x=i.forwardRef((function(e,t){var n=(0,c.b)({props:e,name:"MuiToolbar"}),a=n.className,i=n.component,d=void 0===i?"div":i,u=n.disableGutters,f=void 0!==u&&u,x=n.variant,v=void 0===x?"regular":x,b=(0,r.A)(n,g),y=(0,o.A)({},n,{component:d,disableGutters:f,variant:v}),A=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,l.A)(n,p,t)}(y);return(0,m.jsx)(h,(0,o.A)({as:d,className:(0,s.A)(A.root,a),ref:t,ownerState:y},b))}))},72450:function(e,t,n){var a,r,o;r=[],void 0===(o="function"===typeof(a=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){l(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=i.URL||i.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):r(l.href)?a(e,t,n):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(r(e))a(e,n,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||s)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,f=u.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});i.saveAs=l.saveAs=l,e.exports=l})?a.apply(t,r):a)||(e.exports=o)}}]);
//# sourceMappingURL=9088.45e7aad3.chunk.js.map