"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[2234],{72378:function(e,t,n){n.d(t,{EL:function(){return l},WB:function(){return c}});var r=n(89379),i=(n(65043),n(26240)),o=n(81551),a=n(70579),l=function(e){var t=(0,i.A)(),n=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.primary.main,border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-thumb:active":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,a.jsx)("div",{id:e.id,style:(0,r.A)({width:"100%",height:"calc(100% - 40px)",display:"flex",margin:"10px",borderRadius:"10px",padding:"10px",background:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 1px rgba(0,0,0,0.1)",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},e.style),className:n.bloque,onScroll:e.onScroll,children:e.children})},c=function(e){var t=(0,i.A)(),n=(0,o.A)((function(e){return{bloque:{"&::-webkit-scrollbar":{width:6,height:2},"&::-webkit-scrollbar-button":{width:10,height:10},"&::-webkit-scrollbar-thumb":{background:t.palette.grey[500],border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.grey[500]},"&::-webkit-scrollbar-thumb:active":{background:t.palette.grey[500]},"&::-webkit-scrollbar-track":{background:"rgba(0,0,0,0.1)",border:"0px none #ffffff",borderRadius:50},"&::-webkit-scrollbar-track:hover":{background:"rgba(0,0,0,0.1)"},"&::-webkit-scrollbar-track:active":{background:"rgba(0,0,0,0.1)"}}}}))();return(0,a.jsx)("div",{id:e.id,style:(0,r.A)({padding:10,backgroundColor:t.palette.grey[100],borderRadius:5,color:t.palette.grey[600],height:100,overflow:"auto",width:"100%"},e.style),className:n.bloque,children:e.children})};t.Ay=function(e){var t=e.children,n=e.style;e.onScroll;return(0,a.jsx)("section",{style:(0,r.A)({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},n),children:t})}},93440:function(e,t,n){n(65043);var r=n(70579);t.A=function(e){var t=e.className;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"".concat(t," ").concat(e.labelPos?e.labelPos:""),onClick:function(){return e.onClick(e.title)},children:[(0,r.jsx)("div",{className:"icon",children:e.children}),(0,r.jsx)("div",{className:"tooltipUi",children:e.title})]},e.index)})}},65454:function(e,t,n){n.d(t,{I:function(){return i}});n(65043);var r=n(81551),i=(n(70579),n(93440),(0,r.A)((function(e){return{root:{position:"fixed",width:"54px",background:"rgba(42, 80, 130, 0.8)",borderRadius:"10px",top:"50%",transform:"translateY(-50%)",left:"10px",zIndex:15},item:{cursor:"pointer",position:"relative",margin:2,"& .tooltipUi":{position:"absolute",top:"50%",transform:"translate(calc(50px + 5px), -50%)",background:"rgba(20, 20, 20, 0.9)",padding:"1em",color:"white",borderRadius:"10px",opacity:0,zIndex:-1,visibility:"hidden",transition:"all 0.25s ease"},"& .icon":{width:"50px",height:"50px",position:"relative",borderRadius:"10px",background:"rgba(42, 80, 130, 1)",display:"flex",justifyContent:"center",alignItems:"center","&::before":{content:'""',position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",transform:"scale(0.8)",opacity:0,transition:"all 0.25s ease"},"& svg":{position:"relative",width:"20px","& path, & circle, & rect":{fill:"rgba(255, 255, 255, 0.8)"}}},"&.light .icon":{background:"rgba(42, 80, 130, 0.1)","& svg":{"& path, & circle, & rect":{fill:"rgba(100,100,100, 1)"}}},"&.top .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&:hover":{"& .icon":{"&::before":{transform:"scale(1)",opacity:1}},"& .tooltipUi":{transform:"translate(calc(50px + 10px), -50%)",opacity:1,zIndex:20,visibility:"visible"}},"&.top:hover .tooltipUi":{transform:"translate(calc(-50% + 25px), -90px)"},"&.edit .icon":{background:"#ed9f31"},"&.new .icon":{background:"#59b359"},"&.delete .icon":{background:"#d34a46"}}}})))},62234:function(e,t,n){n.r(t);var r=n(89379),i=n(5544),o=n(65043),a=n(73216),l=n(72378),c=(n(65454),n(83003)),s=(n(85742),n(50062),n(16702)),u=n(63516),d=n(10765),h=n(69389),f=n(46020),b=n(31445),p=n(11238),g=n(26240),m=n(58140),v=n(43288),x=n(70579);t.default=function(e){var t=(0,o.useState)(!1),n=(0,i.A)(t,2),y=n[0],w=n[1],k=(0,o.useState)(null),j=(0,i.A)(k,2),A=j[0],C=j[1],S=(0,o.useState)([]),T=(0,i.A)(S,2),z=T[0],E=T[1],I=(0,o.useState)(!1),R=(0,i.A)(I,2),P=R[0],F=R[1],M=((0,c.d4)((function(e){return e.user})),(0,a.g)().slug),q=(0,a.Zp)(),B=(0,g.A)(),N=(0,m.M)().showAlert;(0,o.useEffect)((function(){M?(w(!0),f.Jt(M).then((function(e){var t=(0,r.A)({},e);t.parent=[{id:e.parent}],C(t)})).catch((function(e){console.log(e)}))):(w(!1),C({name:"",slug:"",description:"",root:null,parent:null,visible:[]})),b.DI().then((function(e){E(e)})).catch((function(e){console.log(e)}))}),[]);return(0,x.jsxs)(l.Ay,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,x.jsx)(l.EL,{style:{width:"70%",maxWidth:600,display:"block",overflow:"auto",placeContent:"flex-start"},children:A&&(0,x.jsx)(u.l1,{initialValues:A,onSubmit:function(e,t){var n=t.setSubmitting;if(n(!0),y){var i=(0,r.A)({},e);i.parent?i.parent=i.parent[0].id:i.parent="",N("confirm","\xbfEst\xe1s seguro? Se actualizar\xe1 la vista de contenido").then((function(e){e&&(F(!0),f.yo(M,JSON.stringify(i)).then((function(){q("/cataloging/views")})).catch((function(e){console.log(e),n(!1)})))}))}else{var o=(0,r.A)({},e);o.parent?o.parent=o.parent[0].id:o.parent="",f.O8(JSON.stringify(o)).then((function(){n(!1),q("/cataloging/views")})).catch((function(e){console.log(e),n(!1)}))}n(!1)},validate:function(e){var t={};return e.name||(t.name="El nombre es requerido"),e.root||(t.root="El tipo de archivo inicial es requerido"),t},children:function(t){var n=t.values,r=t.errors,i=(t.touched,t.handleChange),o=t.handleBlur,a=t.handleSubmit,l=t.isSubmitting,c=t.setFieldValue;return(0,x.jsx)("form",{onSubmit:a,children:(0,x.jsxs)(s.A,{style:{display:"flex",flexDirection:"column"},children:[(0,x.jsx)(d.BR,{name:"Nombre",id:"name",handleChange:i,handleBlur:o,value:n.name,errors:r.name,required:!0}),(0,x.jsx)(d.BR,{name:"Slug",id:"slug",handleChange:i,handleBlur:o,value:n.slug,errors:r.slug,required:!0}),(0,x.jsx)(d.QA,{name:"Descripci\xf3n",id:"description",handleChange:i,handleBlur:o,value:n.description}),(0,x.jsx)(d.Q5,{name:"Inicio de la consulta",id:"root",value:n.root,options:z.map((function(e){return{value:e.slug,label:e.name}})),handleChange:function(e){c("root",e.target.value)},handleBlur:function(){},instructions:"Seleccione el tipo de contenido desde donde se iniciar\xe1 la consulta.",required:!0,error:r.root}),n.root&&(0,x.jsx)("div",{style:{marginTop:20,marginBottom:20},children:(0,x.jsx)(h.A,{postType:n.root,view:"list",checkboxTypes:[n.root],multiple:!1,childrenSelect:!0,setSelected:function(e){c("parent",e)},selected:n.parent},n.root)}),z&&(0,x.jsx)(d.hw,{id:"visible",label:"Tipos de contenido visibles",options:z.map((function(e){return{value:e.slug,label:e.name}})),value:n.visible?n.visible:[],handleChange:function(e){c("visible",e)}}),!y&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(s.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,x.jsx)(p.nA,{style:{margin:5,width:"auto"},type:"button",onClick:function(){return e.history.push("/cataloging/views")},label:"Cancelar"}),(0,x.jsx)(p.nA,{type:"submit",style:{margin:5,width:"auto"},variant:"outlined",disabled:l,label:"Crear"})]})}),y&&(0,x.jsxs)(s.A,{style:{display:"flex",justifyContent:"flex-end",gap:10,marginTop:10},children:[(0,x.jsx)(p.nA,{type:"button",style:{margin:5,width:"auto"},customColor:{color:B.palette.grey[600],background:B.palette.grey[200]},variant:"outlined",onClick:function(){return q("/cataloging/views")},label:"Cancelar"}),(0,x.jsx)(p.nA,{type:"submit",style:{margin:5,width:"auto"},variant:"outlined",disabled:l,label:"Actualizar"})]})]})})}})}),P&&(0,x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(5px) saturate(0%)",zIndex:9999},children:(0,x.jsx)(v.A,{})})]})}},46020:function(e,t,n){n.d(t,{Jt:function(){return o},O8:function(){return u},UK:function(){return s},hE:function(){return a},lD:function(){return c},yo:function(){return l}});var r=n(88120),i=n(91280);function o(e){var t="/views/"+e,n={method:"GET",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function a(e){var t="/views/info/"+e,n={method:"GET",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e,t){var n="/views/"+e,o={method:"PUT",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.FM+n,o).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var t="/views/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function s(){var e={method:"GET",headers:new Headers({Authorization:(0,i.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+"/views",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(e){var t={method:"POST",headers:new Headers({Authorization:(0,i.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/views",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}},50062:function(e,t,n){var r=n(24994);t.A=void 0;var i=r(n(40039)),o=n(70579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2m0 16H5V7h14zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5M12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Preview")},85742:function(e,t,n){var r=n(24994);t.A=void 0;var i=r(n(40039)),o=n(70579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo")}}]);
//# sourceMappingURL=2234.92318ba6.chunk.js.map